openapi: 3.1.0
info:
  title: Eneo-Sundsvall
  description: General AI framework
  version: '1.1'
servers:
  - url: 'https://eneo-test.sundsvall.se/api/v1'
tags:
  - name: users
    description: User operations. **Login** logic is here.
  - name: user-groups
    description: User groups operations. Use this to manage user groups.
  - name: info-blobs
    description: >-
      Document operations. **Info-blobs** are blobs of binary information, not
      restricted to text, although current support is only text.
  - name: groups
    description: >-
      Group operations. Use this to organize your info-blobs. **Uploading**
      info-blobs is here.
  - name: assistants
    description: >-
      Assistant operations. Create assistants with the desired configuration and
      ask questions to them.
  - name: services
    description: Services operations. Documentation for these endpoints are coming soon.
    externalDocs:
      description: Services documentation (coming soon)
      url: 'https://www.eneo.ai/'
  - name: jobs
    description: Job operations. Use this to keep track of running and completed jobs.
  - name: logging
    description: >-
      Logging operations. Use these endpoints to get exactly what was sent to
      the AI-model for each question.
  - name: analysis
    description: >-
      Analysis operations. Use these endpoints to see how your assistants are
      used, as well as to ask questions about the questions asked to an
      assistant.
  - name: widgets
    description: Widget operations. Use this to save widget settings and run widgets.
  - name: allowed-origins
    description: >-
      Allowed Origins operations. Use this to specify the allowed origins from
      where the widgets will be hosted
  - name: crawls
    description: Crawl operations. Use these endpoint to set up and run crawls.
  - name: crawl-runs
    description: Crawl run operations. Use these endpoint to keep track of crawl runs.
  - name: roles
    description: User roles. Use this to manage user permissions.
  - name: admin
    description: >-
      Tenant Admin operations. Manage users, settings, and resources within your
      specific tenant/organization. Requires admin account API key for your
      tenant. For system-wide administration across all tenants, see Sysadmin
      endpoints.
  - name: settings
    description: Settings operations. Currently only houses chatbot widget settings.
  - name: sysadmin
    description: >-
      System Administration operations. Manage the entire Eneo installation
      across all tenants using the INTRIC_SUPER_API_KEY environment variable.
      Create/manage tenants, system-wide settings, and cross-tenant operations.
      For single tenant management (users, settings within your organization),
      see Tenant Admin endpoints.
  - name: modules
    description: >-
      Module operations. These endpoints are used to handle module access for
      tenants. Requires elevated privileges.
paths:
  '/crawl-runs/{id}/':
    get:
      tags:
        - crawl-runs
      summary: Get Crawl Run
      operationId: get_crawl_run_api_v1_crawl_runs__id___get
      parameters:
        - name: id
          in: path
          description: Unique identifier of the crawl run to retrieve
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            description: Unique identifier of the crawl run to retrieve
            title: Id
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: >-
                  #/components/schemas/intric__websites__crawl_dependencies__crawl_models__CrawlRunPublic
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  '/apps/{id}/':
    get:
      tags:
        - apps
      summary: Get App
      operationId: get_app_api_v1_apps__id___get
      parameters:
        - name: id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Id
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AppPublic'
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
    delete:
      tags:
        - apps
      summary: Delete App
      operationId: delete_app_api_v1_apps__id___delete
      parameters:
        - name: id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Id
      responses:
        '204':
          description: Successful Response
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
    patch:
      tags:
        - apps
      summary: Update App
      operationId: update_app_api_v1_apps__id___patch
      parameters:
        - name: id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Id
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AppUpdateRequest'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AppPublic'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  '/apps/{id}/runs/':
    get:
      tags:
        - apps
      summary: Get App Runs
      operationId: get_app_runs_api_v1_apps__id__runs__get
      parameters:
        - name: id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Id
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedResponse_AppRunSparse_'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
    post:
      tags:
        - apps
      summary: Run App
      operationId: run_app_api_v1_apps__id__runs__post
      parameters:
        - name: id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Id
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RunAppRequest'
        required: true
      responses:
        '203':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AppRunPublic'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  '/apps/{id}/prompts/':
    get:
      tags:
        - apps
      summary: Get Prompts
      operationId: get_prompts_api_v1_apps__id__prompts__get
      parameters:
        - name: id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Id
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedResponse_PromptSparse_'
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  '/apps/{id}/publish/':
    post:
      tags:
        - apps
      summary: Publish App
      operationId: publish_app_api_v1_apps__id__publish__post
      parameters:
        - name: id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Id
        - name: published
          in: query
          required: true
          style: form
          explode: true
          schema:
            type: boolean
            title: Published
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AppPublic'
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  '/app-runs/{id}/':
    get:
      tags:
        - app-runs
      summary: Get App Run
      operationId: get_app_run_api_v1_app_runs__id___get
      parameters:
        - name: id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Id
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AppRunPublic'
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
    delete:
      tags:
        - app-runs
      summary: Delete App Run
      operationId: delete_app_run_api_v1_app_runs__id___delete
      parameters:
        - name: id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Id
      responses:
        '204':
          description: Successful Response
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  /users/login/token/:
    post:
      tags:
        - users
      summary: Login
      description: OAuth2 Login with comprehensive error handling and logging
      operationId: Login_api_v1_users_login_token__post
      requestBody:
        content:
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/Body_Login_api_v1_users_login_token__post'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AccessToken'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  /users/login/openid-connect/mobilityguard/:
    post:
      tags:
        - users
      summary: Login With Mobilityguard
      description: OpenID Connect Login (generic OIDC provider).
      operationId: >-
        login_with_mobilityguard_api_v1_users_login_openid_connect_mobilityguard__post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/OpenIdConnectLogin'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AccessToken'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  /users/:
    get:
      tags:
        - users
      summary: Get Tenant Users
      operationId: get_tenant_users_api_v1_users__get
      parameters:
        - name: email
          in: query
          description: Email of user
          required: false
          style: form
          explode: true
          schema:
            anyOf:
              - type: string
              - type: 'null'
            description: Email of user
            title: Email
        - name: limit
          in: query
          description: Users per page
          required: false
          style: form
          explode: true
          schema:
            type: integer
            description: Users per page
            minimum: 1
            title: Limit
        - name: cursor
          in: query
          description: Current cursor
          required: false
          style: form
          explode: true
          schema:
            anyOf:
              - type: string
              - type: 'null'
            description: Current cursor
            title: Cursor
        - name: previous
          in: query
          description: Show previous page
          required: false
          style: form
          explode: true
          schema:
            anyOf:
              - type: boolean
              - type: 'null'
            default: false
            description: Show previous page
            title: Previous
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CursorPaginatedResponse_UserSparse_'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  /users/me/:
    get:
      tags:
        - users
      summary: Get Current User
      operationId: Get_current_user_api_v1_users_me__get
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserPublic'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
      security:
        - OAuth2PasswordBearer: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  /users/api-keys/:
    get:
      tags:
        - users
      summary: Generate Api Key
      description: |-
        Generating a new api key will delete the old key.
        Make sure to copy the key since it will only be showed once,
        after which only the truncated key will be shown.
      operationId: generate_api_key_api_v1_users_api_keys__get
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiKey'
      security:
        - OAuth2PasswordBearer: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  /users/tenant/:
    get:
      tags:
        - users
      summary: Get Current User Tenant
      operationId: Get_current_user_tenant_api_v1_users_tenant__get
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TenantPublic'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
      security:
        - OAuth2PasswordBearer: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  /users/admin/invite/:
    post:
      tags:
        - users
      summary: Invite User
      operationId: invite_user_api_v1_users_admin_invite__post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PropUserInvite'
        required: true
      responses:
        '201':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserAdminView'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  '/users/admin/{id}/':
    delete:
      tags:
        - users
      summary: Delete User
      operationId: delete_user_api_v1_users_admin__id___delete
      parameters:
        - name: id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Id
      responses:
        '204':
          description: Successful Response
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
    patch:
      tags:
        - users
      summary: Update User
      operationId: update_user_api_v1_users_admin__id___patch
      parameters:
        - name: id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Id
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PartialPropUserUpdate'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserAdminView'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  /users/provision/:
    post:
      tags:
        - users
      summary: Provision User
      operationId: provision_user_api_v1_users_provision__post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UserProvision'
        required: true
      responses:
        '201':
          description: Successful Response
          content:
            application/json:
              schema: { }
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  /info-blobs/:
    get:
      tags:
        - info-blobs
      summary: Get Info Blob Ids
      description: |-
        Returns a list of info-blobs.

        Does not return the text of each info-blob, 'text' will be null.
      operationId: get_info_blob_ids_api_v1_info_blobs__get
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedResponse_InfoBlobPublicNoText_'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  '/info-blobs/{id}/':
    get:
      tags:
        - info-blobs
      summary: Get Info Blob
      operationId: get_info_blob_api_v1_info_blobs__id___get
      parameters:
        - name: id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            title: Id
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/InfoBlobPublic'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
    post:
      tags:
        - info-blobs
      summary: Update Info Blob
      description: Omitted fields are not updated.
      operationId: update_info_blob_api_v1_info_blobs__id___post
      parameters:
        - name: id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            title: Id
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/InfoBlobUpdatePublic'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/InfoBlobPublic'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
    delete:
      tags:
        - info-blobs
      summary: Delete Info Blob
      description: Returns the deleted object.
      operationId: delete_info_blob_api_v1_info_blobs__id___delete
      parameters:
        - name: id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            title: Id
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/InfoBlobPublic'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  '/info-blobs/spaces/{space_id}/info-blobs/':
    get:
      tags:
        - info-blobs
      summary: Get Space Info Blobs
      operationId: get_space_info_blobs_api_v1_info_blobs_spaces__space_id__info_blobs__get
      parameters:
        - name: space_id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            title: Space Id
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedResponse_InfoBlobPublicNoText_'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  /groups/:
    get:
      tags:
        - groups
      summary: Get Groups
      operationId: get_groups_api_v1_groups__get
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: >-
                  #/components/schemas/PaginatedResponse_GroupPublicWithMetadata_
      deprecated: true
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
    post:
      tags:
        - groups
      summary: Create Group
      description: >-
        Valid values for `embedding_model` are the provided by `GET
        /api/v1/settings/models/`.

        Use the `name` field of the response from this endpoint.
      operationId: create_group_api_v1_groups__post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateGroupRequest'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GroupPublicWithMetadata'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      deprecated: true
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  '/groups/{id}/':
    get:
      tags:
        - groups
      summary: Get Group By Id
      operationId: get_group_by_id_api_v1_groups__id___get
      parameters:
        - name: id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Id
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CollectionPublic'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
    post:
      tags:
        - groups
      summary: Update Group
      operationId: update_group_api_v1_groups__id___post
      parameters:
        - name: id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Id
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CollectionUpdate'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CollectionPublic'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
    delete:
      tags:
        - groups
      summary: Delete Group By Id
      operationId: delete_group_by_id_api_v1_groups__id___delete
      parameters:
        - name: id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Id
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema: { }
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  '/groups/{id}/info-blobs/':
    get:
      tags:
        - groups
      summary: Get Info Blobs
      operationId: get_info_blobs_api_v1_groups__id__info_blobs__get
      parameters:
        - name: id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Id
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedResponse_InfoBlobPublicNoText_'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
    post:
      tags:
        - groups
      summary: Add Info Blobs
      description: |-
        Maximum allowed simultaneous upload is 128.

        Will be embedded using the embedding model of the group.
      operationId: add_info_blobs_api_v1_groups__id__info_blobs__post
      parameters:
        - name: id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Id
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/InfoBlobUpsertRequest'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedResponse_InfoBlobPublic_'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
        '503':
          description: Service Unavailable
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  '/groups/{id}/info-blobs/upload/':
    post:
      tags:
        - groups
      summary: Upload File
      description: 'Starts a job, use the job operations to keep track of this job'
      operationId: upload_file_api_v1_groups__id__info_blobs_upload__post
      parameters:
        - name: id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Id
      requestBody:
        content:
          multipart/form-data:
            schema:
              $ref: >-
                #/components/schemas/Body_upload_file_api_v1_groups__id__info_blobs_upload__post
        required: true
      responses:
        '202':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/JobPublic'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  '/groups/{id}/searches/':
    post:
      tags:
        - groups
      summary: Run Semantic Search
      operationId: run_semantic_search_api_v1_groups__id__searches__post
      parameters:
        - name: id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Id
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SemanticSearchRequest'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedResponse_SemanticSearchResponse_'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  '/groups/{id}/transfer/':
    post:
      tags:
        - groups
      summary: Transfer Group To Space
      operationId: transfer_group_to_space_api_v1_groups__id__transfer__post
      parameters:
        - name: id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Id
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TransferRequest'
        required: true
      responses:
        '204':
          description: Successful Response
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  /settings/:
    get:
      tags:
        - settings
      summary: Get Settings
      operationId: get_settings_api_v1_settings__get
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SettingsPublic'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
    post:
      tags:
        - settings
      summary: Upsert Settings
      description: Omitted fields are not updated.
      operationId: upsert_settings_api_v1_settings__post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SettingsPublic'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SettingsPublic'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  /settings/models/:
    get:
      tags:
        - settings
      summary: Get Models
      description: |-
        From the response:
            - use the `id` field as values for `completion_model`
            - use the `id` field as values for `embedding_model`

        in creating and updating `Assistants` and `Services`.
      operationId: get_models_api_v1_settings_models__get
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GetModelsResponse'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  /settings/formats/:
    get:
      tags:
        - settings
      summary: Get Formats
      operationId: get_formats_api_v1_settings_formats__get
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedResponse_str_'
      security:
        - OAuth2PasswordBearer: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  /settings/templates:
    patch:
      tags:
        - settings
      summary: Toggle template feature
      description: |-
        Enable or disable the template management feature for your tenant.

        **Admin Only:** Requires admin permissions.

        **Behavior:**
        - Updates the `using_templates` feature flag for your tenant
        - When disabled: Template gallery returns empty list (not error)
        - When enabled: Users can see and use tenant templates
        - Change takes effect immediately (no reload required)

        **Example Request:**
        ```json
        {
          "enabled": true
        }
        ```

        **Example Response:**
        ```json
        {
          "chatbot_widget": {},
          "using_templates": true
        }
        ```
      operationId: update_template_setting_api_v1_settings_templates_patch
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TemplateSettingUpdate'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SettingsPublic'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  /settings/audit-logging:
    patch:
      tags:
        - settings
      summary: Toggle global audit logging
      description: >-
        Enable or disable global audit logging for your tenant.


        **Admin Only:** Requires admin permissions.


        **Behavior:**

        - Updates the `audit_logging_enabled` feature flag for your tenant

        - When disabled: No audit logs are created for any action (global kill
        switch)

        - When enabled: Audit logging resumes with category and action-level
        filtering

        - This is independent from category/action configuration

        - Change takes effect immediately for all workers


        **Example Request:**

        ```json

        {
          "enabled": false
        }

        ```


        **Example Response:**

        ```json

        {
          "chatbot_widget": {},
          "audit_logging_enabled": false,
          "using_templates": true
        }

        ```
      operationId: update_audit_logging_setting_api_v1_settings_audit_logging_patch
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TemplateSettingUpdate'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SettingsPublic'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  /assistants/:
    get:
      tags:
        - assistants
      summary: Get Assistants
      description: Requires Admin permission if `for_tenant` is `true`.
      operationId: get_assistants_api_v1_assistants__get
      parameters:
        - name: name
          in: query
          required: false
          style: form
          explode: true
          schema:
            type: string
            title: Name
        - name: for_tenant
          in: query
          required: false
          style: form
          explode: true
          schema:
            type: boolean
            default: false
            title: For Tenant
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedResponse_AssistantPublic_'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
    post:
      tags:
        - assistants
      summary: Create Assistant
      operationId: create_assistant_api_v1_assistants__post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AssistantCreatePublic'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AssistantPublic'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      deprecated: true
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  '/assistants/{id}/':
    get:
      tags:
        - assistants
      summary: Get Assistant
      operationId: get_assistant_api_v1_assistants__id___get
      parameters:
        - name: id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Id
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AssistantPublic'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
    post:
      tags:
        - assistants
      summary: Update Assistant
      description: Omitted fields are not updated
      operationId: update_assistant_api_v1_assistants__id___post
      parameters:
        - name: id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Id
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PartialAssistantUpdatePublic'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AssistantPublic'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
    delete:
      tags:
        - assistants
      summary: Delete Assistant
      operationId: delete_assistant_api_v1_assistants__id___delete
      parameters:
        - name: id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Id
      responses:
        '204':
          description: Successful Response
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  '/assistants/{id}/sessions/':
    get:
      tags:
        - assistants
      summary: Get Assistant Sessions
      operationId: get_assistant_sessions_api_v1_assistants__id__sessions__get
      parameters:
        - name: id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Id
        - name: limit
          in: query
          required: false
          style: form
          explode: true
          schema:
            type: integer
            exclusiveMinimum: 0
            title: Limit
        - name: cursor
          in: query
          required: false
          style: form
          explode: true
          schema:
            type: string
            format: date-time
            title: Cursor
        - name: previous
          in: query
          required: false
          style: form
          explode: true
          schema:
            type: boolean
            default: false
            title: Previous
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: >-
                  #/components/schemas/CursorPaginatedResponse_SessionMetadataPublic_
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
    post:
      tags:
        - assistants
      summary: Ask Assistant
      description: Streams the response as Server-Sent Events if stream == true
      operationId: ask_assistant_api_v1_assistants__id__sessions__post
      parameters:
        - name: id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Id
        - name: version
          in: query
          required: false
          style: form
          explode: true
          schema:
            type: integer
            default: 1
            maximum: 2
            minimum: 1
            title: Version
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AskAssistant'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AskResponse'
            text/event-stream:
              schema:
                type: object
                properties:
                  session_id:
                    type: string
                    format: uuid
                    title: Session Id
                  question:
                    type: string
                    title: Question
                  answer:
                    type: string
                    title: Answer
                  files:
                    type: array
                    items:
                      $ref: '#/components/schemas/FilePublic'
                    title: Files
                  generated_files:
                    type: array
                    items:
                      $ref: '#/components/schemas/FilePublic'
                    title: Generated Files
                  references:
                    type: array
                    items:
                      $ref: '#/components/schemas/InfoBlobAskAssistantPublic'
                    title: References
                  tools:
                    $ref: '#/components/schemas/UseTools'
                  web_search_references:
                    type: array
                    items:
                      $ref: '#/components/schemas/WebSearchResultPublic'
                    title: Web Search References
                  model:
                    anyOf:
                      - $ref: '#/components/schemas/CompletionModelPublic'
                      - type: 'null'
                required:
                  - answer
                  - files
                  - generated_files
                  - question
                  - references
                  - session_id
                  - tools
                  - web_search_references
                title: AskResponse
                $defs:
                  CompletionModelPublic:
                    properties:
                      created_at:
                        anyOf:
                          - format: date-time
                            type: string
                          - type: 'null'
                        title: Created At
                      updated_at:
                        anyOf:
                          - format: date-time
                            type: string
                          - type: 'null'
                        title: Updated At
                      id:
                        format: uuid
                        title: Id
                        type: string
                      name:
                        title: Name
                        type: string
                      nickname:
                        title: Nickname
                        type: string
                      family:
                        $ref: '#/components/schemas/ModelFamily'
                      token_limit:
                        title: Token Limit
                        type: integer
                      is_deprecated:
                        title: Is Deprecated
                        type: boolean
                      nr_billion_parameters:
                        anyOf:
                          - type: integer
                          - type: 'null'
                        title: Nr Billion Parameters
                      hf_link:
                        anyOf:
                          - type: string
                          - type: 'null'
                        title: Hf Link
                      stability:
                        $ref: '#/components/schemas/ModelStability'
                      hosting:
                        $ref: '#/components/schemas/ModelHostingLocation'
                      open_source:
                        anyOf:
                          - type: boolean
                          - type: 'null'
                        title: Open Source
                      description:
                        anyOf:
                          - type: string
                          - type: 'null'
                        title: Description
                      deployment_name:
                        anyOf:
                          - type: string
                          - type: 'null'
                        title: Deployment Name
                      org:
                        anyOf:
                          - $ref: '#/components/schemas/ModelOrg'
                          - type: 'null'
                      vision:
                        title: Vision
                        type: boolean
                      reasoning:
                        title: Reasoning
                        type: boolean
                      base_url:
                        anyOf:
                          - type: string
                          - type: 'null'
                        title: Base Url
                      litellm_model_name:
                        anyOf:
                          - type: string
                          - type: 'null'
                        title: Litellm Model Name
                      is_org_enabled:
                        default: false
                        title: Is Org Enabled
                        type: boolean
                      is_org_default:
                        default: false
                        title: Is Org Default
                        type: boolean
                      can_access:
                        default: false
                        title: Can Access
                        type: boolean
                      is_locked:
                        default: true
                        title: Is Locked
                        type: boolean
                      lock_reason:
                        anyOf:
                          - type: string
                          - type: 'null'
                        title: Lock Reason
                      credential_provider:
                        anyOf:
                          - type: string
                          - type: 'null'
                        title: Credential Provider
                      security_classification:
                        anyOf:
                          - $ref: '#/components/schemas/SecurityClassificationPublic'
                          - type: 'null'
                    required:
                      - id
                      - name
                      - nickname
                      - family
                      - token_limit
                      - is_deprecated
                      - stability
                      - hosting
                      - vision
                      - reasoning
                    title: CompletionModelPublic
                    type: object
                  FilePublic:
                    properties:
                      created_at:
                        anyOf:
                          - format: date-time
                            type: string
                          - type: 'null'
                        title: Created At
                      updated_at:
                        anyOf:
                          - format: date-time
                            type: string
                          - type: 'null'
                        title: Updated At
                      id:
                        format: uuid
                        title: Id
                        type: string
                      name:
                        title: Name
                        type: string
                      mimetype:
                        title: Mimetype
                        type: string
                      size:
                        title: Size
                        type: integer
                      transcription:
                        anyOf:
                          - type: string
                          - type: 'null'
                        title: Transcription
                      token_count:
                        anyOf:
                          - type: integer
                          - type: 'null'
                        title: Token Count
                    required:
                      - id
                      - name
                      - mimetype
                      - size
                    title: FilePublic
                    type: object
                  InfoBlobAskAssistantPublic:
                    properties:
                      created_at:
                        anyOf:
                          - format: date-time
                            type: string
                          - type: 'null'
                        title: Created At
                      updated_at:
                        anyOf:
                          - format: date-time
                            type: string
                          - type: 'null'
                        title: Updated At
                      id:
                        format: uuid
                        title: Id
                        type: string
                      metadata:
                        $ref: '#/components/schemas/InfoBlobMetadata'
                      group_id:
                        anyOf:
                          - format: uuid
                            type: string
                          - type: 'null'
                        title: Group Id
                      website_id:
                        anyOf:
                          - format: uuid
                            type: string
                          - type: 'null'
                        title: Website Id
                      score:
                        title: Score
                        type: number
                    required:
                      - id
                      - metadata
                      - score
                    title: InfoBlobAskAssistantPublic
                    type: object
                  InfoBlobMetadata:
                    properties:
                      url:
                        anyOf:
                          - type: string
                          - type: 'null'
                        title: Url
                      title:
                        anyOf:
                          - type: string
                          - type: 'null'
                        title: Title
                      embedding_model_id:
                        format: uuid
                        title: Embedding Model Id
                        type: string
                      size:
                        title: Size
                        type: integer
                    required:
                      - embedding_model_id
                      - size
                    title: InfoBlobMetadata
                    type: object
                  ModelFamily:
                    enum:
                      - openai
                      - mistral
                      - vllm
                      - claude
                      - azure
                      - ovhcloud
                      - e5
                    title: ModelFamily
                    type: string
                  ModelHostingLocation:
                    enum:
                      - usa
                      - eu
                      - swe
                    title: ModelHostingLocation
                    type: string
                  ModelOrg:
                    enum:
                      - OpenAI
                      - Meta
                      - Microsoft
                      - Anthropic
                      - Mistral
                      - KBLab
                      - Google
                      - Berget
                      - GDM
                    title: ModelOrg
                    type: string
                  ModelStability:
                    enum:
                      - stable
                      - experimental
                    title: ModelStability
                    type: string
                  SecurityClassificationPublic:
                    description: Basic security classification information.
                    properties:
                      created_at:
                        anyOf:
                          - format: date-time
                            type: string
                          - type: 'null'
                        title: Created At
                      updated_at:
                        anyOf:
                          - format: date-time
                            type: string
                          - type: 'null'
                        title: Updated At
                      id:
                        format: uuid
                        title: Id
                        type: string
                      name:
                        title: Name
                        type: string
                      description:
                        anyOf:
                          - type: string
                          - type: 'null'
                        title: Description
                      security_level:
                        title: Security Level
                        type: integer
                    required:
                      - id
                      - name
                      - description
                      - security_level
                    title: SecurityClassificationPublic
                    type: object
                  ToolAssistant:
                    properties:
                      id:
                        format: uuid
                        title: Id
                        type: string
                      handle:
                        title: Handle
                        type: string
                    required:
                      - id
                      - handle
                    title: ToolAssistant
                    type: object
                  UseTools:
                    properties:
                      assistants:
                        items:
                          $ref: '#/components/schemas/ToolAssistant'
                        title: Assistants
                        type: array
                    required:
                      - assistants
                    title: UseTools
                    type: object
                  WebSearchResultPublic:
                    properties:
                      id:
                        format: uuid
                        title: Id
                        type: string
                      title:
                        title: Title
                        type: string
                      url:
                        title: Url
                        type: string
                    required:
                      - id
                      - title
                      - url
                    title: WebSearchResultPublic
                    type: object
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  '/assistants/{id}/sessions/{session_id}/':
    get:
      tags:
        - assistants
      summary: Get Assistant Session
      operationId: get_assistant_session_api_v1_assistants__id__sessions__session_id___get
      parameters:
        - name: id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Id
        - name: session_id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Session Id
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SessionPublic'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
    post:
      tags:
        - assistants
      summary: Ask Followup
      description: Streams the response as Server-Sent Events if stream == true
      operationId: ask_followup_api_v1_assistants__id__sessions__session_id___post
      parameters:
        - name: id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Id
        - name: session_id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Session Id
        - name: version
          in: query
          required: false
          style: form
          explode: true
          schema:
            type: integer
            default: 1
            maximum: 2
            minimum: 1
            title: Version
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AskAssistant'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AskResponse'
            text/event-stream:
              schema:
                type: object
                properties:
                  session_id:
                    type: string
                    format: uuid
                    title: Session Id
                  question:
                    type: string
                    title: Question
                  answer:
                    type: string
                    title: Answer
                  files:
                    type: array
                    items:
                      $ref: '#/components/schemas/FilePublic'
                    title: Files
                  generated_files:
                    type: array
                    items:
                      $ref: '#/components/schemas/FilePublic'
                    title: Generated Files
                  references:
                    type: array
                    items:
                      $ref: '#/components/schemas/InfoBlobAskAssistantPublic'
                    title: References
                  tools:
                    $ref: '#/components/schemas/UseTools'
                  web_search_references:
                    type: array
                    items:
                      $ref: '#/components/schemas/WebSearchResultPublic'
                    title: Web Search References
                  model:
                    anyOf:
                      - $ref: '#/components/schemas/CompletionModelPublic'
                      - type: 'null'
                required:
                  - answer
                  - files
                  - generated_files
                  - question
                  - references
                  - session_id
                  - tools
                  - web_search_references
                title: AskResponse
                $defs:
                  CompletionModelPublic:
                    properties:
                      created_at:
                        anyOf:
                          - format: date-time
                            type: string
                          - type: 'null'
                        title: Created At
                      updated_at:
                        anyOf:
                          - format: date-time
                            type: string
                          - type: 'null'
                        title: Updated At
                      id:
                        format: uuid
                        title: Id
                        type: string
                      name:
                        title: Name
                        type: string
                      nickname:
                        title: Nickname
                        type: string
                      family:
                        $ref: '#/components/schemas/ModelFamily'
                      token_limit:
                        title: Token Limit
                        type: integer
                      is_deprecated:
                        title: Is Deprecated
                        type: boolean
                      nr_billion_parameters:
                        anyOf:
                          - type: integer
                          - type: 'null'
                        title: Nr Billion Parameters
                      hf_link:
                        anyOf:
                          - type: string
                          - type: 'null'
                        title: Hf Link
                      stability:
                        $ref: '#/components/schemas/ModelStability'
                      hosting:
                        $ref: '#/components/schemas/ModelHostingLocation'
                      open_source:
                        anyOf:
                          - type: boolean
                          - type: 'null'
                        title: Open Source
                      description:
                        anyOf:
                          - type: string
                          - type: 'null'
                        title: Description
                      deployment_name:
                        anyOf:
                          - type: string
                          - type: 'null'
                        title: Deployment Name
                      org:
                        anyOf:
                          - $ref: '#/components/schemas/ModelOrg'
                          - type: 'null'
                      vision:
                        title: Vision
                        type: boolean
                      reasoning:
                        title: Reasoning
                        type: boolean
                      base_url:
                        anyOf:
                          - type: string
                          - type: 'null'
                        title: Base Url
                      litellm_model_name:
                        anyOf:
                          - type: string
                          - type: 'null'
                        title: Litellm Model Name
                      is_org_enabled:
                        default: false
                        title: Is Org Enabled
                        type: boolean
                      is_org_default:
                        default: false
                        title: Is Org Default
                        type: boolean
                      can_access:
                        default: false
                        title: Can Access
                        type: boolean
                      is_locked:
                        default: true
                        title: Is Locked
                        type: boolean
                      lock_reason:
                        anyOf:
                          - type: string
                          - type: 'null'
                        title: Lock Reason
                      credential_provider:
                        anyOf:
                          - type: string
                          - type: 'null'
                        title: Credential Provider
                      security_classification:
                        anyOf:
                          - $ref: '#/components/schemas/SecurityClassificationPublic'
                          - type: 'null'
                    required:
                      - id
                      - name
                      - nickname
                      - family
                      - token_limit
                      - is_deprecated
                      - stability
                      - hosting
                      - vision
                      - reasoning
                    title: CompletionModelPublic
                    type: object
                  FilePublic:
                    properties:
                      created_at:
                        anyOf:
                          - format: date-time
                            type: string
                          - type: 'null'
                        title: Created At
                      updated_at:
                        anyOf:
                          - format: date-time
                            type: string
                          - type: 'null'
                        title: Updated At
                      id:
                        format: uuid
                        title: Id
                        type: string
                      name:
                        title: Name
                        type: string
                      mimetype:
                        title: Mimetype
                        type: string
                      size:
                        title: Size
                        type: integer
                      transcription:
                        anyOf:
                          - type: string
                          - type: 'null'
                        title: Transcription
                      token_count:
                        anyOf:
                          - type: integer
                          - type: 'null'
                        title: Token Count
                    required:
                      - id
                      - name
                      - mimetype
                      - size
                    title: FilePublic
                    type: object
                  InfoBlobAskAssistantPublic:
                    properties:
                      created_at:
                        anyOf:
                          - format: date-time
                            type: string
                          - type: 'null'
                        title: Created At
                      updated_at:
                        anyOf:
                          - format: date-time
                            type: string
                          - type: 'null'
                        title: Updated At
                      id:
                        format: uuid
                        title: Id
                        type: string
                      metadata:
                        $ref: '#/components/schemas/InfoBlobMetadata'
                      group_id:
                        anyOf:
                          - format: uuid
                            type: string
                          - type: 'null'
                        title: Group Id
                      website_id:
                        anyOf:
                          - format: uuid
                            type: string
                          - type: 'null'
                        title: Website Id
                      score:
                        title: Score
                        type: number
                    required:
                      - id
                      - metadata
                      - score
                    title: InfoBlobAskAssistantPublic
                    type: object
                  InfoBlobMetadata:
                    properties:
                      url:
                        anyOf:
                          - type: string
                          - type: 'null'
                        title: Url
                      title:
                        anyOf:
                          - type: string
                          - type: 'null'
                        title: Title
                      embedding_model_id:
                        format: uuid
                        title: Embedding Model Id
                        type: string
                      size:
                        title: Size
                        type: integer
                    required:
                      - embedding_model_id
                      - size
                    title: InfoBlobMetadata
                    type: object
                  ModelFamily:
                    enum:
                      - openai
                      - mistral
                      - vllm
                      - claude
                      - azure
                      - ovhcloud
                      - e5
                    title: ModelFamily
                    type: string
                  ModelHostingLocation:
                    enum:
                      - usa
                      - eu
                      - swe
                    title: ModelHostingLocation
                    type: string
                  ModelOrg:
                    enum:
                      - OpenAI
                      - Meta
                      - Microsoft
                      - Anthropic
                      - Mistral
                      - KBLab
                      - Google
                      - Berget
                      - GDM
                    title: ModelOrg
                    type: string
                  ModelStability:
                    enum:
                      - stable
                      - experimental
                    title: ModelStability
                    type: string
                  SecurityClassificationPublic:
                    description: Basic security classification information.
                    properties:
                      created_at:
                        anyOf:
                          - format: date-time
                            type: string
                          - type: 'null'
                        title: Created At
                      updated_at:
                        anyOf:
                          - format: date-time
                            type: string
                          - type: 'null'
                        title: Updated At
                      id:
                        format: uuid
                        title: Id
                        type: string
                      name:
                        title: Name
                        type: string
                      description:
                        anyOf:
                          - type: string
                          - type: 'null'
                        title: Description
                      security_level:
                        title: Security Level
                        type: integer
                    required:
                      - id
                      - name
                      - description
                      - security_level
                    title: SecurityClassificationPublic
                    type: object
                  ToolAssistant:
                    properties:
                      id:
                        format: uuid
                        title: Id
                        type: string
                      handle:
                        title: Handle
                        type: string
                    required:
                      - id
                      - handle
                    title: ToolAssistant
                    type: object
                  UseTools:
                    properties:
                      assistants:
                        items:
                          $ref: '#/components/schemas/ToolAssistant'
                        title: Assistants
                        type: array
                    required:
                      - assistants
                    title: UseTools
                    type: object
                  WebSearchResultPublic:
                    properties:
                      id:
                        format: uuid
                        title: Id
                        type: string
                      title:
                        title: Title
                        type: string
                      url:
                        title: Url
                        type: string
                    required:
                      - id
                      - title
                      - url
                    title: WebSearchResultPublic
                    type: object
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
    delete:
      tags:
        - assistants
      summary: Delete Assistant Session
      operationId: >-
        delete_assistant_session_api_v1_assistants__id__sessions__session_id___delete
      parameters:
        - name: id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Id
        - name: session_id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Session Id
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SessionPublic'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  '/assistants/{id}/sessions/{session_id}/feedback/':
    post:
      tags:
        - assistants
      summary: Leave Feedback
      operationId: >-
        leave_feedback_api_v1_assistants__id__sessions__session_id__feedback__post
      parameters:
        - name: id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Id
        - name: session_id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Session Id
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SessionFeedback'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SessionPublic'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  '/assistants/{id}/api-keys/':
    get:
      tags:
        - assistants
      summary: Generate Read Only Assistant Key
      description: >-
        Generates a read-only api key for this assistant.


        This api key can only be used on `POST
        /api/v1/assistants/{id}/sessions/`

        and `POST /api/v1/assistants/{id}/sessions/{session_id}/`.
      operationId: generate_read_only_assistant_key_api_v1_assistants__id__api_keys__get
      parameters:
        - name: id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Id
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiKey'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  '/assistants/{id}/transfer/':
    post:
      tags:
        - assistants
      summary: Transfer Assistant To Space
      operationId: transfer_assistant_to_space_api_v1_assistants__id__transfer__post
      parameters:
        - name: id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Id
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TransferApplicationRequest'
        required: true
      responses:
        '204':
          description: Successful Response
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  '/assistants/{id}/publish/':
    post:
      tags:
        - assistants
      summary: Publish Assistant
      operationId: publish_assistant_api_v1_assistants__id__publish__post
      parameters:
        - name: id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Id
        - name: published
          in: query
          required: true
          style: form
          explode: true
          schema:
            type: boolean
            title: Published
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AssistantPublic'
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  '/assistants/{id}/token-estimate':
    post:
      tags:
        - assistants
      summary: Estimate token usage for text and files
      description: >-
        Estimate token usage for the given text and files for this assistant.


        The Space Actor + FileService stack already enforces tenant and
        ownership

        boundaries; this endpoint adds lightweight guardrails to keep the
        operation

        responsive while supporting large-context models.
      operationId: estimate_tokens_api_v1_assistants__id__token_estimate_post
      parameters:
        - name: id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Id
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TokenEstimateRequest'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TokenEstimateResponse'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  '/group-chats/{id}/':
    get:
      tags:
        - group-chats
      summary: Get Group Chat
      description: Get an existing group chat by its ID.
      operationId: get_group_chat_api_v1_group_chats__id___get
      parameters:
        - name: id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Id
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GroupChatPublic'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
    delete:
      tags:
        - group-chats
      summary: Delete Group Chat
      description: Delete an existing group chat by its ID.
      operationId: delete_group_chat_api_v1_group_chats__id___delete
      parameters:
        - name: id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Id
      responses:
        '204':
          description: Successful Response
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
    patch:
      tags:
        - group-chats
      summary: Update Group Chat
      description: Updates an existing group chat. Omitted fields are not updated
      operationId: update_group_chat_api_v1_group_chats__id___patch
      parameters:
        - name: id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Id
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/GroupChatUpdateSchema'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GroupChatPublic'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  '/group-chats/{id}/publish/':
    post:
      tags:
        - group-chats
      summary: Publish Group Chat
      operationId: publish_group_chat_api_v1_group_chats__id__publish__post
      parameters:
        - name: id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Id
        - name: published
          in: query
          required: true
          style: form
          explode: true
          schema:
            type: boolean
            title: Published
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GroupChatPublic'
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  /conversations/:
    get:
      tags:
        - conversations
      summary: List Conversations
      description: >-
        Gets conversations (sessions) for an assistant or group chat.


        Provide either assistant_id or group_chat_id (but not both) to filter
        sessions.

        If neither is provided, an error will be returned.
      operationId: list_conversations_api_v1_conversations__get
      parameters:
        - name: assistant_id
          in: query
          description: The UUID of the assistant
          required: false
          style: form
          explode: true
          schema:
            anyOf:
              - type: string
                format: uuid
              - type: 'null'
            description: The UUID of the assistant
            title: Assistant Id
        - name: group_chat_id
          in: query
          description: The UUID of the group chat
          required: false
          style: form
          explode: true
          schema:
            anyOf:
              - type: string
                format: uuid
              - type: 'null'
            description: The UUID of the group chat
            title: Group Chat Id
        - name: limit
          in: query
          required: false
          style: form
          explode: true
          schema:
            type: integer
            exclusiveMinimum: 0
            title: Limit
        - name: cursor
          in: query
          required: false
          style: form
          explode: true
          schema:
            type: string
            format: date-time
            title: Cursor
        - name: previous
          in: query
          required: false
          style: form
          explode: true
          schema:
            type: boolean
            default: false
            title: Previous
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: >-
                  #/components/schemas/CursorPaginatedResponse_SessionMetadataPublic_
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
    post:
      tags:
        - conversations
      summary: Chat
      description: >-
        Unified endpoint for communicating with an assistant or a group chat.


        If request.session_id is provided: continues an existing conversation.

        Otherwise: starts a new conversation with the specified assistant or
        group chat.


        Either request.session_id, request.assistant_id, or
        request.group_chat_id must be provided.


        For group chats:

        - Specify the group_chat_id to chat with a group chat

        - If tools.assistants contains an assistant, that specific assistant
        will be targeted
          (requires the group chat to have allow_mentions=True).
        - If no assistant is targeted, the most appropriate assistant will be
        selected.

        - When multiple assistants could answer a question, the system will
        choose the most relevant one
          or select the first matching assistant if relevance scores are similar.

        For regular assistants:

        - The tools.assistants field can be used for directing the request to a
        tool assistant.


        Streams the response as Server-Sent Events if stream == true.

        The following SSE response models are supported in the stream:

        - SSEText: Text completion chunks

        - SSEIntricEvent: Internal events like generating an image

        - SSEFiles: Generated files/images responses

        - SSEFirstChunk: Initial response with metadata

        - SSEError: Error events (API errors, authentication failures, rate
        limits, etc.)
      operationId: chat_api_v1_conversations__post
      parameters:
        - name: version
          in: query
          required: false
          style: form
          explode: true
          schema:
            type: integer
            default: 1
            maximum: 2
            minimum: 1
            title: Version
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ConversationRequest'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema: { }
            text/event-stream:
              schema:
                oneOf:
                  - type: object
                    properties:
                      session_id:
                        type: string
                        format: uuid
                        title: Session Id
                      answer:
                        type: string
                        title: Answer
                      references:
                        type: array
                        items:
                          $ref: '#/components/schemas/InfoBlobAskAssistantPublic'
                        title: References
                    required:
                      - answer
                      - references
                      - session_id
                    title: SSEText
                    $defs:
                      InfoBlobAskAssistantPublic:
                        properties:
                          created_at:
                            anyOf:
                              - format: date-time
                                type: string
                              - type: 'null'
                            title: Created At
                          updated_at:
                            anyOf:
                              - format: date-time
                                type: string
                              - type: 'null'
                            title: Updated At
                          id:
                            format: uuid
                            title: Id
                            type: string
                          metadata:
                            $ref: '#/components/schemas/InfoBlobMetadata'
                          group_id:
                            anyOf:
                              - format: uuid
                                type: string
                              - type: 'null'
                            title: Group Id
                          website_id:
                            anyOf:
                              - format: uuid
                                type: string
                              - type: 'null'
                            title: Website Id
                          score:
                            title: Score
                            type: number
                        required:
                          - id
                          - metadata
                          - score
                        title: InfoBlobAskAssistantPublic
                        type: object
                      InfoBlobMetadata:
                        properties:
                          url:
                            anyOf:
                              - type: string
                              - type: 'null'
                            title: Url
                          title:
                            anyOf:
                              - type: string
                              - type: 'null'
                            title: Title
                          embedding_model_id:
                            format: uuid
                            title: Embedding Model Id
                            type: string
                          size:
                            title: Size
                            type: integer
                        required:
                          - embedding_model_id
                          - size
                        title: InfoBlobMetadata
                        type: object
                  - type: object
                    properties:
                      session_id:
                        type: string
                        format: uuid
                        title: Session Id
                      intric_event_type:
                        $ref: '#/components/schemas/IntricEventType'
                    required:
                      - intric_event_type
                      - session_id
                    title: SSEIntricEvent
                    $defs:
                      IntricEventType:
                        enum:
                          - generating_image
                        title: IntricEventType
                        type: string
                  - type: object
                    properties:
                      session_id:
                        type: string
                        format: uuid
                        title: Session Id
                      generated_files:
                        type: array
                        items:
                          $ref: '#/components/schemas/FilePublic'
                        title: Generated Files
                    required:
                      - generated_files
                      - session_id
                    title: SSEFiles
                    $defs:
                      FilePublic:
                        properties:
                          created_at:
                            anyOf:
                              - format: date-time
                                type: string
                              - type: 'null'
                            title: Created At
                          updated_at:
                            anyOf:
                              - format: date-time
                                type: string
                              - type: 'null'
                            title: Updated At
                          id:
                            format: uuid
                            title: Id
                            type: string
                          name:
                            title: Name
                            type: string
                          mimetype:
                            title: Mimetype
                            type: string
                          size:
                            title: Size
                            type: integer
                          transcription:
                            anyOf:
                              - type: string
                              - type: 'null'
                            title: Transcription
                          token_count:
                            anyOf:
                              - type: integer
                              - type: 'null'
                            title: Token Count
                        required:
                          - id
                          - name
                          - mimetype
                          - size
                        title: FilePublic
                        type: object
                  - type: object
                    properties:
                      session_id:
                        type: string
                        format: uuid
                        title: Session Id
                      question:
                        type: string
                        title: Question
                      answer:
                        type: string
                        title: Answer
                      files:
                        type: array
                        items:
                          $ref: '#/components/schemas/FilePublic'
                        title: Files
                      generated_files:
                        type: array
                        items:
                          $ref: '#/components/schemas/FilePublic'
                        title: Generated Files
                      references:
                        type: array
                        items:
                          $ref: '#/components/schemas/InfoBlobAskAssistantPublic'
                        title: References
                      tools:
                        $ref: '#/components/schemas/UseTools'
                      web_search_references:
                        type: array
                        items:
                          $ref: '#/components/schemas/WebSearchResultPublic'
                        title: Web Search References
                    required:
                      - answer
                      - files
                      - generated_files
                      - question
                      - references
                      - session_id
                      - tools
                      - web_search_references
                    title: SSEFirstChunk
                    $defs:
                      FilePublic:
                        properties:
                          created_at:
                            anyOf:
                              - format: date-time
                                type: string
                              - type: 'null'
                            title: Created At
                          updated_at:
                            anyOf:
                              - format: date-time
                                type: string
                              - type: 'null'
                            title: Updated At
                          id:
                            format: uuid
                            title: Id
                            type: string
                          name:
                            title: Name
                            type: string
                          mimetype:
                            title: Mimetype
                            type: string
                          size:
                            title: Size
                            type: integer
                          transcription:
                            anyOf:
                              - type: string
                              - type: 'null'
                            title: Transcription
                          token_count:
                            anyOf:
                              - type: integer
                              - type: 'null'
                            title: Token Count
                        required:
                          - id
                          - name
                          - mimetype
                          - size
                        title: FilePublic
                        type: object
                      InfoBlobAskAssistantPublic:
                        properties:
                          created_at:
                            anyOf:
                              - format: date-time
                                type: string
                              - type: 'null'
                            title: Created At
                          updated_at:
                            anyOf:
                              - format: date-time
                                type: string
                              - type: 'null'
                            title: Updated At
                          id:
                            format: uuid
                            title: Id
                            type: string
                          metadata:
                            $ref: '#/components/schemas/InfoBlobMetadata'
                          group_id:
                            anyOf:
                              - format: uuid
                                type: string
                              - type: 'null'
                            title: Group Id
                          website_id:
                            anyOf:
                              - format: uuid
                                type: string
                              - type: 'null'
                            title: Website Id
                          score:
                            title: Score
                            type: number
                        required:
                          - id
                          - metadata
                          - score
                        title: InfoBlobAskAssistantPublic
                        type: object
                      InfoBlobMetadata:
                        properties:
                          url:
                            anyOf:
                              - type: string
                              - type: 'null'
                            title: Url
                          title:
                            anyOf:
                              - type: string
                              - type: 'null'
                            title: Title
                          embedding_model_id:
                            format: uuid
                            title: Embedding Model Id
                            type: string
                          size:
                            title: Size
                            type: integer
                        required:
                          - embedding_model_id
                          - size
                        title: InfoBlobMetadata
                        type: object
                      ToolAssistant:
                        properties:
                          id:
                            format: uuid
                            title: Id
                            type: string
                          handle:
                            title: Handle
                            type: string
                        required:
                          - id
                          - handle
                        title: ToolAssistant
                        type: object
                      UseTools:
                        properties:
                          assistants:
                            items:
                              $ref: '#/components/schemas/ToolAssistant'
                            title: Assistants
                            type: array
                        required:
                          - assistants
                        title: UseTools
                        type: object
                      WebSearchResultPublic:
                        properties:
                          id:
                            format: uuid
                            title: Id
                            type: string
                          title:
                            title: Title
                            type: string
                          url:
                            title: Url
                            type: string
                        required:
                          - id
                          - title
                          - url
                        title: WebSearchResultPublic
                        type: object
                  - type: object
                    properties:
                      session_id:
                        type: string
                        format: uuid
                        title: Session Id
                      error:
                        type: string
                        title: Error
                      error_code:
                        anyOf:
                          - type: integer
                          - type: 'null'
                        title: Error Code
                    required:
                      - error
                      - session_id
                    title: SSEError
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  '/conversations/{session_id}/':
    get:
      tags:
        - conversations
      summary: Get Conversation
      description: Gets a specific conversation by its session ID
      operationId: get_conversation_api_v1_conversations__session_id___get
      parameters:
        - name: session_id
          in: path
          description: The UUID of the conversation/session
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            description: The UUID of the conversation/session
            title: Session Id
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SessionPublic'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
    delete:
      tags:
        - conversations
      summary: Delete Conversation
      description: Deletes a specific conversation
      operationId: delete_conversation_api_v1_conversations__session_id___delete
      parameters:
        - name: session_id
          in: path
          description: The UUID of the conversation/session
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            description: The UUID of the conversation/session
            title: Session Id
      responses:
        '204':
          description: Successful Response
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  '/conversations/{session_id}/feedback/':
    post:
      tags:
        - conversations
      summary: Leave Feedback
      description: Leave feedback for a conversation
      operationId: leave_feedback_api_v1_conversations__session_id__feedback__post
      parameters:
        - name: session_id
          in: path
          description: The UUID of the conversation/session
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            description: The UUID of the conversation/session
            title: Session Id
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SessionFeedback'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SessionPublic'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  '/conversations/{session_id}/title/':
    post:
      tags:
        - conversations
      summary: Set Title Of Conversation
      description: Set the title of a conversation
      operationId: set_title_of_conversation_api_v1_conversations__session_id__title__post
      parameters:
        - name: session_id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Session Id
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SessionPublic'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  /services/:
    get:
      tags:
        - services
      summary: Get Services
      operationId: get_services_api_v1_services__get
      parameters:
        - name: name
          in: query
          required: false
          style: form
          explode: true
          schema:
            type: string
            title: Name
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedResponse_ServicePublicWithUser_'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
    post:
      tags:
        - services
      summary: Create Service
      description: >-
        Create a service.


        `json_schema` is required if `output_validation` is 'json'.


        Conversely, `json_schema` is not evaluated if `output_format` is not
        'json'.


        if `output_format` is omitted, the output will not be formatted.
      operationId: create_service_api_v1_services__post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ServiceCreatePublic'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServicePublicWithUser'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      deprecated: true
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  '/services/{id}/':
    get:
      tags:
        - services
      summary: Get Service
      operationId: get_service_api_v1_services__id___get
      parameters:
        - name: id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Id
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServicePublicWithUser'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
    post:
      tags:
        - services
      summary: Update Service
      description: Omitted fields are not updated
      operationId: update_service_api_v1_services__id___post
      parameters:
        - name: id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Id
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PartialServiceUpdatePublic'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServicePublicWithUser'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
    delete:
      tags:
        - services
      summary: Delete Service
      operationId: delete_service_api_v1_services__id___delete
      parameters:
        - name: id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Id
      responses:
        '204':
          description: Successful Response
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  '/services/{id}/run/':
    get:
      tags:
        - services
      summary: Get Service Runs
      operationId: get_service_runs_api_v1_services__id__run__get
      parameters:
        - name: id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Id
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedResponse_ServiceRun_'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
    post:
      tags:
        - services
      summary: Run Service
      description: >-
        The schema of the output will be depending on the output validation of
        the service
      operationId: run_service_api_v1_services__id__run__post
      parameters:
        - name: id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Id
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RunService'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServiceOutput'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  '/services/{id}/transfer/':
    post:
      tags:
        - services
      summary: Transfer Service To Space
      operationId: transfer_service_to_space_api_v1_services__id__transfer__post
      parameters:
        - name: id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Id
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TransferApplicationRequest'
        required: true
      responses:
        '204':
          description: Successful Response
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  '/logging/{message_id}/':
    get:
      tags:
        - logging
      summary: Get Logging Details
      operationId: get_logging_details_api_v1_logging__message_id___get
      parameters:
        - name: message_id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Message Id
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MessageLogging'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  /analysis/counts/:
    get:
      tags:
        - analysis
      summary: Get Counts
      description: Total counts.
      operationId: get_counts_api_v1_analysis_counts__get
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Counts'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  /analysis/metadata-statistics/:
    get:
      tags:
        - analysis
      summary: Get Metadata
      description: >-
        Data for analytics.


        Note on datetime parameters:

        - If no time is provided in the datetime, time components default to
        00:00:00
      operationId: get_metadata_api_v1_analysis_metadata_statistics__get
      parameters:
        - name: start_date
          in: query
          required: false
          style: form
          explode: true
          schema:
            type: string
            format: date-time
            default: '2025-12-28T11:44:38.492621Z'
            title: Start Date
        - name: end_date
          in: query
          required: false
          style: form
          explode: true
          schema:
            type: string
            format: date-time
            default: '2026-01-27T12:45:38.492628Z'
            title: End Date
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MetadataStatistics'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  '/analysis/assistants/{assistant_id}/':
    get:
      tags:
        - analysis
      summary: Get Most Recent Questions
      description: >-
        Get all the questions asked to an assistant in the last `days_since`
        days.


        `days_since`: How long back in time to get the questions.


        `from_date`: Start date for filtering questions.
            If no time is provided, time components default to 00:00:00.

        `to_date`: End date for filtering questions.
            If no time is provided, time components default to 00:00:00.

        `include_followups`: If not selected, only the first question of a
        session is returned.
            Order is by date ascending, but if followups are included they are grouped together
            with their original question.
      operationId: get_most_recent_questions_api_v1_analysis_assistants__assistant_id___get
      parameters:
        - name: assistant_id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Assistant Id
        - name: days_since
          in: query
          required: false
          style: form
          explode: true
          schema:
            type: integer
            default: 30
            maximum: 90
            minimum: 0
            title: Days Since
        - name: from_date
          in: query
          required: false
          style: form
          explode: true
          schema:
            anyOf:
              - type: string
                format: date-time
              - type: 'null'
            title: From Date
        - name: to_date
          in: query
          required: false
          style: form
          explode: true
          schema:
            anyOf:
              - type: string
                format: date-time
              - type: 'null'
            title: To Date
        - name: include_followups
          in: query
          required: false
          style: form
          explode: true
          schema:
            type: boolean
            default: false
            title: Include Followups
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedResponse_Message_'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
    post:
      tags:
        - analysis
      summary: Ask Question About Questions
      description: >-
        Ask a question with the questions asked to an assistant in the last
          `days_since` days as the context.

        `days_since`: How long back in time to get the questions.


        `from_date`: Start date for filtering questions.
            If no time is provided, time components default to 00:00:00.

        `to_date`: End date for filtering questions.
            If no time is provided, time components default to 00:00:00.

        `include_followups`: If not selected, only the first question of a
        session is returned.
            Order is by date ascending, but if followups are included they are grouped together
            with their original question.
      operationId: >-
        ask_question_about_questions_api_v1_analysis_assistants__assistant_id___post
      parameters:
        - name: assistant_id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Assistant Id
        - name: days_since
          in: query
          required: false
          style: form
          explode: true
          schema:
            type: integer
            default: 30
            maximum: 90
            minimum: 0
            title: Days Since
        - name: from_date
          in: query
          required: false
          style: form
          explode: true
          schema:
            anyOf:
              - type: string
                format: date-time
              - type: 'null'
            title: From Date
        - name: to_date
          in: query
          required: false
          style: form
          explode: true
          schema:
            anyOf:
              - type: string
                format: date-time
              - type: 'null'
            title: To Date
        - name: include_followups
          in: query
          required: false
          style: form
          explode: true
          schema:
            type: boolean
            default: false
            title: Include Followups
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AskAnalysis'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema: { }
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  /analysis/conversation-insights/:
    get:
      tags:
        - analysis
      summary: Get Conversation Insights
      description: >-
        Get statistics about conversations for either an assistant or a group
        chat.


        Either assistant_id or group_chat_id must be provided, but not both.

        Start time and end time are optional filters. If no time is provided in
        the datetime parameters,

        time components default to 00:00:00.
      operationId: get_conversation_insights_api_v1_analysis_conversation_insights__get
      parameters:
        - name: start_time
          in: query
          required: false
          style: form
          explode: true
          schema:
            anyOf:
              - type: string
                format: date-time
              - type: 'null'
            title: Start Time
        - name: end_time
          in: query
          required: false
          style: form
          explode: true
          schema:
            anyOf:
              - type: string
                format: date-time
              - type: 'null'
            title: End Time
        - name: assistant_id
          in: query
          required: false
          style: form
          explode: true
          schema:
            anyOf:
              - type: string
                format: uuid
              - type: 'null'
            title: Assistant Id
        - name: group_chat_id
          in: query
          required: false
          style: form
          explode: true
          schema:
            anyOf:
              - type: string
                format: uuid
              - type: 'null'
            title: Group Chat Id
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ConversationInsightResponse'
        '403':
          description: >-
            Forbidden - Either user is not ADMIN/EDITOR or insights are not
            enabled
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
    post:
      tags:
        - analysis
      summary: Ask Unified Questions About Questions
      description: |-
        Ask a question about the questions asked to an assistant or group chat.

        This unified endpoint works with both assistants and group chats.
        Either assistant_id or group_chat_id must be provided, but not both.

        Args:
            ask_analysis: Contains the question and streaming preference
            days_since: How long back in time to get the questions
            from_date: Start date to filter questions (overrides days_since).
                If no time is provided, time components default to 00:00:00.
            to_date: End date to filter questions (overrides days_since).
                If no time is provided, time components default to 00:00:00.
            include_followups: If False, only returns first question of each session
            assistant_id: UUID of assistant to analyze questions for
            group_chat_id: UUID of group chat to analyze questions for

        Returns:
            AnalysisAnswer containing the AI response
      operationId: >-
        ask_unified_questions_about_questions_api_v1_analysis_conversation_insights__post
      parameters:
        - name: days_since
          in: query
          required: false
          style: form
          explode: true
          schema:
            type: integer
            default: 30
            maximum: 90
            minimum: 0
            title: Days Since
        - name: from_date
          in: query
          required: false
          style: form
          explode: true
          schema:
            anyOf:
              - type: string
                format: date-time
              - type: 'null'
            title: From Date
        - name: to_date
          in: query
          required: false
          style: form
          explode: true
          schema:
            anyOf:
              - type: string
                format: date-time
              - type: 'null'
            title: To Date
        - name: include_followups
          in: query
          required: false
          style: form
          explode: true
          schema:
            type: boolean
            default: false
            title: Include Followups
        - name: assistant_id
          in: query
          required: false
          style: form
          explode: true
          schema:
            anyOf:
              - type: string
                format: uuid
              - type: 'null'
            title: Assistant Id
        - name: group_chat_id
          in: query
          required: false
          style: form
          explode: true
          schema:
            anyOf:
              - type: string
                format: uuid
              - type: 'null'
            title: Group Chat Id
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AskAnalysis'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema: { }
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  /analysis/conversation-insights/sessions/:
    get:
      tags:
        - analysis
      summary: Get Conversation Insight Sessions
      description: |-
        Get all sessions for an assistant or group chat across all
        users in the tenant (with insight access).

        This endpoint requires the user to be OWNER or EDITOR,
        and the assistant/group chat must have insight_enabled set to true.

        Args:
            assistant_id: UUID of the assistant (optional)
            group_chat_id: UUID of the group chat (optional)
            limit: Maximum number of sessions to return
            cursor: Datetime to start fetching from. If no time is provided, time defaults to 00:00:00.
            previous: Whether to fetch sessions before or after the cursor
            name_filter: Filter sessions by name
            start_date: Start date to filter sessions (optional).
                If no time is provided, time components default to 00:00:00.
            end_date: End date to filter sessions (optional).
                If no time is provided, time components default to 00:00:00.

        Returns:
            Paginated list of sessions
      operationId: >-
        get_conversation_insight_sessions_api_v1_analysis_conversation_insights_sessions__get
      parameters:
        - name: assistant_id
          in: query
          required: false
          style: form
          explode: true
          schema:
            anyOf:
              - type: string
                format: uuid
              - type: 'null'
            title: Assistant Id
        - name: group_chat_id
          in: query
          required: false
          style: form
          explode: true
          schema:
            anyOf:
              - type: string
                format: uuid
              - type: 'null'
            title: Group Chat Id
        - name: limit
          in: query
          required: false
          style: form
          explode: true
          schema:
            anyOf:
              - type: integer
                maximum: 100
                minimum: 1
              - type: 'null'
            title: Limit
        - name: cursor
          in: query
          required: false
          style: form
          explode: true
          schema:
            anyOf:
              - type: string
                format: date-time
              - type: 'null'
            title: Cursor
        - name: previous
          in: query
          required: false
          style: form
          explode: true
          schema:
            type: boolean
            default: false
            title: Previous
        - name: name_filter
          in: query
          required: false
          style: form
          explode: true
          schema:
            anyOf:
              - type: string
              - type: 'null'
            title: Name Filter
        - name: start_date
          in: query
          required: false
          style: form
          explode: true
          schema:
            anyOf:
              - type: string
                format: date-time
              - type: 'null'
            title: Start Date
        - name: end_date
          in: query
          required: false
          style: form
          explode: true
          schema:
            anyOf:
              - type: string
                format: date-time
              - type: 'null'
            title: End Date
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: >-
                  #/components/schemas/CursorPaginatedResponse_SessionMetadataPublic_
        '403':
          description: >-
            Forbidden - Either user is not ADMIN/EDITOR or insights are not
            enabled
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  '/analysis/conversation-insights/sessions/{session_id}/':
    get:
      tags:
        - analysis
      summary: Get Conversation Insight Session
      description: >-
        Get a specific session with insight access.


        This endpoint requires the user to be OWNER or EDITOR, and the
        assistant/group chat

        must have insight_enabled set to true.


        Args:
            session_id: UUID of the session
            assistant_id: UUID of the assistant (optional)
            group_chat_id: UUID of the group chat (optional)

        Returns:
            Session data
      operationId: >-
        get_conversation_insight_session_api_v1_analysis_conversation_insights_sessions__session_id___get
      parameters:
        - name: session_id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Session Id
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SessionPublic'
        '403':
          description: >-
            Forbidden - Either user is not ADMIN/EDITOR or insights are not
            enabled
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  /admin/users/:
    get:
      tags:
        - admin
      summary: List users with pagination and search
      description: >-
        List tenant users with pagination, fuzzy search, and sorting
        capabilities.


        **Performance Optimization:**

        - Uses pg_trgm GIN indexes for efficient fuzzy text search (email and
        username)

        - Uses composite B-tree indexes for fast tenant-scoped sorting

        - Sub-second response time even with 10,000+ users per tenant


        **Pagination:**

        - Max depth: 100 pages (prevents deep pagination performance issues)

        - Default: 100 users per page, sorted by creation date (newest first)

        - Supports custom page sizes (1-100)


        **Search:**

        - Email search: Case-insensitive partial match (e.g., "john" matches
        john.doe@example.com)

        - Name search: Case-insensitive partial match on username (e.g., "emma"
        matches emma.andersson)

        - Combined search: Use both filters with AND logic


        **Sorting:**

        - Sort by: email, username, or created_at (default)

        - Sort order: asc or desc (default)


        **Example Requests:**


        Default (first 100 users, newest first):

        ```

        GET /api/v1/admin/users/

        ```


        Custom page size (50 users per page):

        ```

        GET /api/v1/admin/users/?page_size=50

        ```


        Email search (find users at municipality domain):

        ```

        GET /api/v1/admin/users/?search_email=@municipality.se

        ```


        Name search (find users named Emma):

        ```

        GET /api/v1/admin/users/?search_name=emma

        ```


        Combined search and pagination:

        ```

        GET
        /api/v1/admin/users/?search_email=@municipality.se&page=2&page_size=50

        ```


        Sort by email ascending:

        ```

        GET /api/v1/admin/users/?sort_by=email&sort_order=asc

        ```


        **Response Format:**

        ```json

        {
          "items": [...],
          "metadata": {
            "page": 1,
            "page_size": 100,
            "total_count": 543,
            "total_pages": 6,
            "has_next": true,
            "has_previous": false
          }
        }

        ```


        **Important Notes:**

        - Only active users (not soft-deleted) are returned

        - All results are isolated to your tenant (cross-tenant access is
        prevented)

        - Max depth limit (100 pages) ensures consistent performance
      operationId: get_users_api_v1_admin_users__get
      parameters:
        - name: page
          in: query
          description: Page number (1-100)
          required: false
          style: form
          explode: true
          schema:
            type: integer
            default: 1
            description: Page number (1-100)
            maximum: 100
            minimum: 1
            title: Page
        - name: page_size
          in: query
          description: Users per page (1-100)
          required: false
          style: form
          explode: true
          schema:
            type: integer
            default: 100
            description: Users per page (1-100)
            maximum: 100
            minimum: 1
            title: Page Size
        - name: search_email
          in: query
          description: 'Search by email (case-insensitive, partial match)'
          required: false
          style: form
          explode: true
          schema:
            anyOf:
              - type: string
              - type: 'null'
            description: 'Search by email (case-insensitive, partial match)'
            title: Search Email
        - name: search_name
          in: query
          description: 'Search by username (case-insensitive, partial match)'
          required: false
          style: form
          explode: true
          schema:
            anyOf:
              - type: string
              - type: 'null'
            description: 'Search by username (case-insensitive, partial match)'
            title: Search Name
        - name: sort_by
          in: query
          description: 'Sort field (default: alphabetical by email)'
          required: false
          style: form
          explode: true
          schema:
            $ref: '#/components/schemas/SortField'
            default: email
            description: 'Sort field (default: alphabetical by email)'
        - name: sort_order
          in: query
          description: 'Sort order (default: ascending A-Z)'
          required: false
          style: form
          explode: true
          schema:
            $ref: '#/components/schemas/SortOrder'
            default: asc
            description: 'Sort order (default: ascending A-Z)'
        - name: state_filter
          in: query
          description: >-
            Filter by user state (active includes invited, inactive for
            temporary leave)
          required: false
          style: form
          explode: true
          schema:
            anyOf:
              - $ref: '#/components/schemas/StateFilter'
              - type: 'null'
            description: >-
              Filter by user state (active includes invited, inactive for
              temporary leave)
            title: State Filter
      responses:
        '200':
          description: Paginated list of users successfully retrieved
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedUsersResponse_UserAdminView_'
              example:
                items:
                  - id: 123e4567-e89b-12d3-a456-426614174000
                    username: emma.andersson
                    email: emma.andersson@municipality.se
                    state: active
                    used_tokens: 1250
                    is_active: true
                    email_verified: true
                    quota_limit: 50000000
                    quota_used: 12500000
                    created_at: '2025-09-01T08:30:00Z'
                    updated_at: '2025-10-15T14:20:00Z'
                    roles: [ ]
                    predefined_roles: [ ]
                    user_groups: [ ]
                metadata:
                  page: 1
                  page_size: 100
                  total_count: 543
                  total_pages: 6
                  has_next: true
                  has_previous: false
        '400':
          description: Invalid pagination parameters (page/page_size out of bounds)
          content:
            application/json:
              example:
                type: 'about:blank'
                title: Bad Request
                status: 400
                detail: page must not exceed 100 (max depth limit)
                instance: /api/v1/admin/users/
        '401':
          description: Authentication required (invalid or missing API key)
        '403':
          description: Admin permissions required
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
    post:
      tags:
        - admin
      summary: Create new user in tenant
      description: >-
        Creates a new user account within your tenant. The user will be created
        with the provided credentials and automatically associated with your
        organization. Returns user details including a new API key for the user.
      operationId: register_user_api_v1_admin_users__post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UserAddAdmin'
        required: true
      responses:
        '201':
          description: User successfully created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserCreatedAdminView'
        '400':
          description: Invalid input data or validation errors
        '401':
          description: Authentication required (invalid or missing API key)
        '403':
          description: Admin permissions required
        '409':
          description: Username or email already exists in your tenant
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  '/admin/users/{username}/':
    get:
      tags:
        - admin
      summary: Get user details
      description: >-
        Retrieves a single user's complete details using their username. User
        must exist in your tenant and not be soft-deleted. Returns the same
        detailed information format as other admin endpoints.
      operationId: get_user_api_v1_admin_users__username___get
      parameters:
        - name: username
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            title: Username
      responses:
        '200':
          description: User details successfully retrieved
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserAdminView'
        '400':
          description: Cross-tenant access attempt
        '401':
          description: Authentication required (invalid or missing API key)
        '403':
          description: Admin permissions required
        '404':
          description: User not found in your tenant (may be soft-deleted)
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
    post:
      tags:
        - admin
      summary: Update existing user
      description: >-
        Updates an existing user's details using their username. Only fields
        provided in the request body will be updated. User must exist in your
        tenant and not be soft-deleted.
      operationId: update_user_api_v1_admin_users__username___post
      parameters:
        - name: username
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            title: Username
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UserUpdatePublic'
        required: true
      responses:
        '200':
          description: User successfully updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserAdminView'
        '400':
          description: >-
            Invalid input data, validation errors, or cross-tenant access
            attempt
        '401':
          description: Authentication required (invalid or missing API key)
        '403':
          description: Admin permissions required
        '404':
          description: User not found in your tenant (may be soft-deleted)
        '409':
          description: Email already exists in your tenant
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  '/admin/users/{username}':
    delete:
      tags:
        - admin
      summary: Soft delete user
      description: >-
        Soft deletes a user by setting deleted_at timestamp and
        UserState.DELETED. The user's record is preserved for audit purposes but
        they can no longer authenticate. This operation is irreversible through
        the API.
      operationId: delete_user_api_v1_admin_users__username__delete
      parameters:
        - name: username
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            title: Username
      responses:
        '200':
          description: User successfully soft deleted
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DeleteResponse'
        '400':
          description: Cannot delete yourself or cross-tenant access attempt
        '401':
          description: Authentication required (invalid or missing API key)
        '403':
          description: Admin permissions required
        '404':
          description: User not found in your tenant (may already be soft-deleted)
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  '/admin/users/{username}/deactivate':
    post:
      tags:
        - admin
      summary: Deactivate user (temporary leave)
      description: >-
        Sets user state to INACTIVE for temporary unavailability such as sick
        leave, vacation, or parental leave. User cannot login but account data
        is fully preserved. This is reversible through reactivation.
      operationId: deactivate_user_api_v1_admin_users__username__deactivate_post
      parameters:
        - name: username
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            title: Username
      responses:
        '200':
          description: User successfully deactivated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserAdminView'
        '400':
          description: Cannot deactivate yourself or cross-tenant access attempt
        '401':
          description: Authentication required (invalid or missing API key)
        '403':
          description: Admin permissions required
        '404':
          description: User not found in your tenant
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  '/admin/users/{username}/reactivate':
    post:
      tags:
        - admin
      summary: Reactivate user (return to active)
      description: >-
        Sets user state to ACTIVE from any previous state (INACTIVE or DELETED).
        Restores full system access and clears deletion timestamps if present.
        Use for employees returning from leave or rare rehire cases.
      operationId: reactivate_user_api_v1_admin_users__username__reactivate_post
      parameters:
        - name: username
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            title: Username
      responses:
        '200':
          description: User successfully reactivated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserAdminView'
        '400':
          description: Cross-tenant access attempt
        '401':
          description: Authentication required (invalid or missing API key)
        '403':
          description: Admin permissions required
        '404':
          description: User not found in your tenant
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  /admin/users/inactive:
    get:
      tags:
        - admin
      summary: List inactive users
      description: >-
        Returns all users in INACTIVE state within your tenant. These are
        employees on temporary leave who cannot login but are still employed.
        Use for tracking who is temporarily unavailable.
      operationId: get_inactive_users_api_v1_admin_users_inactive_get
      responses:
        '200':
          description: List of inactive users successfully retrieved
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/UserStateListItem'
                title: Response Get Inactive Users Api V1 Admin Users Inactive Get
        '401':
          description: Authentication required (invalid or missing API key)
        '403':
          description: Admin permissions required
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  /admin/users/deleted:
    get:
      tags:
        - admin
      summary: List deleted users
      description: >-
        Returns all users in DELETED state within your tenant. These are
        employees who have left the organization and cannot login. Records are
        preserved for audit purposes and potential cleanup by external systems.
      operationId: get_deleted_users_api_v1_admin_users_deleted_get
      responses:
        '200':
          description: List of deleted users successfully retrieved
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/UserDeletedListItem'
                title: Response Get Deleted Users Api V1 Admin Users Deleted Get
        '401':
          description: Authentication required (invalid or missing API key)
        '403':
          description: Admin permissions required
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  /admin/predefined-roles/:
    get:
      tags:
        - admin
      summary: Get predefined roles for tenant
      description: >-
        Retrieves all predefined roles available for the authenticated tenant.
        Requires tenant admin (owner) permissions. Returns the same structure as
        the sysadmin endpoint for consistency.
      operationId: get_predefined_roles_api_v1_admin_predefined_roles__get
      responses:
        '200':
          description: List of predefined roles successfully retrieved
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/PredefinedRoleInDB'
                title: >-
                  Response Get Predefined Roles Api V1 Admin Predefined Roles 
                  Get
              example:
                - id: 550e8400-e29b-41d4-a716-446655440001
                  name: Owner
                  permissions:
                    - admin
                    - AI
                    - assistants
                    - group_chats
                  created_at: '2024-01-15T10:30:00Z'
                  updated_at: '2024-01-15T10:30:00Z'
                - id: 550e8400-e29b-41d4-a716-446655440002
                  name: AI Configurator
                  permissions:
                    - AI
                    - assistants
                  created_at: '2024-01-15T10:30:00Z'
                  updated_at: '2024-01-15T10:30:00Z'
        '401':
          description: Authentication required (invalid or missing API key)
        '403':
          description: Admin permissions required (owner role)
        '500':
          description: Internal server error while fetching predefined roles
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  /admin/privacy-policy/:
    post:
      tags:
        - admin
      summary: Update Privacy Policy
      operationId: update_privacy_policy_api_v1_admin_privacy_policy__post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PrivacyPolicy'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TenantPublic'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  '/admin/credentials/{provider}':
    put:
      tags:
        - admin
      summary: Set API credential for current tenant
      description: >-
        Set or update API credentials for a specific LLM provider. Tenant admin
        only. Provider-specific fields are validated.
      operationId: set_credential_api_v1_admin_credentials__provider__put
      parameters:
        - name: provider
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            enum:
              - openai
              - anthropic
              - azure
              - berget
              - gdm
              - mistral
              - ovhcloud
              - vllm
            title: Provider
      requestBody:
        content:
          application/json:
            schema:
              $ref: >-
                #/components/schemas/intric__tenants__presentation__tenant_self_credentials_router__SetCredentialRequest
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: >-
                  #/components/schemas/intric__tenants__presentation__tenant_self_credentials_router__SetCredentialResponse
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  /admin/credentials/:
    get:
      tags:
        - admin
      summary: List API credentials for current tenant
      description: >-
        List all configured API credentials with masked keys and encryption
        status. Tenant admin only.
      operationId: list_credentials_api_v1_admin_credentials__get
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: >-
                  #/components/schemas/intric__tenants__presentation__tenant_self_credentials_router__ListCredentialsResponse
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  /admin/templates/assistants/:
    get:
      tags:
        - admin-templates
        - admin-templates
      summary: List tenant's assistant templates
      description: |-
        List all active (non-deleted) assistant templates owned by your tenant.

        **Admin Only:** Requires admin permissions.

        **Visibility:**
        - Only shows templates where `tenant_id` matches your tenant
        - Excludes global templates (tenant_id = NULL)
        - Excludes soft-deleted templates (deleted_at IS NOT NULL)

        Use this endpoint for the admin template management page.
      operationId: list_templates_api_v1_admin_templates_assistants__get
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AssistantTemplateAdminListPublic'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
    post:
      tags:
        - admin-templates
        - admin-templates
      summary: Create assistant template
      description: |-
        Create a new assistant template for your tenant.

        **Admin Only:** Requires admin permissions.

        **Prerequisites:**
        - Feature flag `using_templates` must be enabled for your tenant
        - Template name must be unique within your tenant

        **Business Logic:**
        - Template is automatically scoped to your tenant
        - Original state is saved in `original_snapshot` for rollback
        - Template immediately available in gallery for users in your tenant

        **Example Request:**
        ```json
        {
          "name": "Customer Support Assistant",
          "description": "Handles customer inquiries professionally and efficiently",
          "category": "Support",
          "prompt": "You are a helpful customer support agent. Always be polite and professional.",
          "completion_model_kwargs": {"temperature": 0.7, "max_tokens": 500},
          "wizard": {
            "attachments": {"required": false, "title": "Add product docs", "description": "Optional documentation"},
            "collections": {"required": true, "title": "Select knowledge base", "description": "Choose support knowledge base"}
          }
        }
        ```
      operationId: create_template_api_v1_admin_templates_assistants__post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AssistantTemplateAdminCreate'
        required: true
      responses:
        '201':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AssistantTemplateAdminPublic'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '409':
          description: Conflict
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
        '424':
          description: Failed Dependency
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  '/admin/templates/assistants/{template_id}':
    delete:
      tags:
        - admin-templates
        - admin-templates
      summary: Delete assistant template
      description: |-
        Soft-delete an assistant template (marks with deleted_at timestamp).

        **Admin Only:** Requires admin permissions.

        **Safety Checks:**
        - Validates template belongs to your tenant
        - Checks if template is currently in use by assistants
        - Returns 409 Conflict if template is in use with usage count

        **Behavior:**
        - Sets `deleted_at` to current timestamp
        - Template no longer appears in gallery or admin list
        - Template can be viewed in deleted list (audit trail)
        - Template remains in database (soft-delete only)

        **Error Response (In Use):**
        ```json
        {
          "detail": "Cannot delete template 'My Template'. It is used by 3 assistant(s).",
          "error_code": "BAD_REQUEST"
        }
        ```
      operationId: delete_template_api_v1_admin_templates_assistants__template_id__delete
      parameters:
        - name: template_id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Template Id
      responses:
        '204':
          description: Successful Response
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '409':
          description: Conflict
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
    patch:
      tags:
        - admin-templates
        - admin-templates
      summary: Update assistant template
      description: Updates an existing assistant template (admin only)
      operationId: update_template_api_v1_admin_templates_assistants__template_id__patch
      parameters:
        - name: template_id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Template Id
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AssistantTemplateAdminUpdate'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AssistantTemplateAdminPublic'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '409':
          description: Conflict
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  '/admin/templates/assistants/{template_id}/default':
    patch:
      tags:
        - admin-templates
        - admin-templates
      summary: Toggle assistant template as featured
      description: |-
        Toggle an assistant template as featured/default.

        **Admin Only:** Requires admin permissions.

        **Validation:**
        - Template must belong to your tenant
        - Maximum 5 featured templates per tenant
        - Returns 400 if limit exceeded

        **Behavior:**
        - Featured templates appear first in the template gallery
        - Featured templates are sorted alphabetically by name
        - Non-featured templates appear below, sorted by creation date

        **Example Request:**
        ```json
        {
          "is_default": true
        }
        ```
      operationId: >-
        toggle_default_api_v1_admin_templates_assistants__template_id__default_patch
      parameters:
        - name: template_id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Template Id
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AssistantTemplateToggleDefaultRequest'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AssistantTemplateAdminPublic'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  '/admin/templates/assistants/{template_id}/rollback':
    post:
      tags:
        - admin-templates
        - admin-templates
      summary: Rollback assistant template
      description: Restores template to original snapshot (admin only)
      operationId: >-
        rollback_template_api_v1_admin_templates_assistants__template_id__rollback_post
      parameters:
        - name: template_id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Template Id
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AssistantTemplateAdminPublic'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  '/admin/templates/assistants/{template_id}/restore':
    post:
      tags:
        - admin-templates
        - admin-templates
      summary: Restore deleted assistant template
      description: Restores a soft-deleted template (admin only)
      operationId: >-
        restore_template_api_v1_admin_templates_assistants__template_id__restore_post
      parameters:
        - name: template_id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Template Id
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AssistantTemplateAdminPublic'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  '/admin/templates/assistants/{template_id}/permanent':
    delete:
      tags:
        - admin-templates
        - admin-templates
      summary: Permanently delete assistant template
      description: Permanently removes a soft-deleted template from database (admin only)
      operationId: >-
        permanent_delete_template_api_v1_admin_templates_assistants__template_id__permanent_delete
      parameters:
        - name: template_id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Template Id
      responses:
        '204':
          description: Successful Response
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  /admin/templates/assistants/deleted:
    get:
      tags:
        - admin-templates
        - admin-templates
      summary: List deleted assistant templates
      description: Returns soft-deleted templates for audit trail (admin only)
      operationId: list_deleted_templates_api_v1_admin_templates_assistants_deleted_get
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AssistantTemplateAdminListPublic'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  /admin/templates/apps/:
    get:
      tags:
        - admin-templates
        - admin-templates
      summary: List tenant's app templates
      description: Returns all active app templates for your tenant (admin only)
      operationId: list_templates_api_v1_admin_templates_apps__get
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AppTemplateAdminListPublic'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
    post:
      tags:
        - admin-templates
        - admin-templates
      summary: Create app template
      description: |-
        Create a new app template for your tenant.

        **Admin Only:** Requires admin permissions.

        **Prerequisites:**
        - Feature flag `using_templates` must be enabled for your tenant
        - Template name must be unique within your tenant

        **Business Logic:**
        - Template is automatically scoped to your tenant
        - Original state is saved in `original_snapshot` for rollback
        - Template immediately available in gallery for users in your tenant

        **Example Request:**
        ```json
        {
          "name": "Document Analyzer",
          "description": "Analyzes uploaded documents and extracts key insights",
          "category": "Analysis",
          "prompt": "Analyze the following document and provide a summary with key insights.",
          "completion_model_kwargs": {"temperature": 0.3, "max_tokens": 1000},
          "wizard": {
            "attachments": {"required": true, "title": "Upload document", "description": "Upload PDF or text file"},
            "collections": null
          },
          "input_type": "file",
          "input_description": "Upload a document (PDF, TXT, or DOCX)"
        }
        ```
      operationId: create_template_api_v1_admin_templates_apps__post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AppTemplateAdminCreate'
        required: true
      responses:
        '201':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AppTemplateAdminPublic'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '409':
          description: Conflict
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
        '424':
          description: Failed Dependency
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  '/admin/templates/apps/{template_id}':
    delete:
      tags:
        - admin-templates
        - admin-templates
      summary: Delete app template
      description: Soft-deletes an app template (admin only)
      operationId: delete_template_api_v1_admin_templates_apps__template_id__delete
      parameters:
        - name: template_id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Template Id
      responses:
        '204':
          description: Successful Response
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '409':
          description: Conflict
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
    patch:
      tags:
        - admin-templates
        - admin-templates
      summary: Update app template
      description: Updates an existing app template (admin only)
      operationId: update_template_api_v1_admin_templates_apps__template_id__patch
      parameters:
        - name: template_id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Template Id
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AppTemplateAdminUpdate'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AppTemplateAdminPublic'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '409':
          description: Conflict
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  '/admin/templates/apps/{template_id}/default':
    patch:
      tags:
        - admin-templates
        - admin-templates
      summary: Toggle app template as featured
      description: |-
        Toggle an app template as featured/default.

        **Admin Only:** Requires admin permissions.

        **Validation:**
        - Template must belong to your tenant
        - Maximum 5 featured templates per tenant
        - Returns 400 if limit exceeded

        **Behavior:**
        - Featured templates appear first in the template gallery
        - Featured templates are sorted alphabetically by name
        - Non-featured templates appear below, sorted by creation date

        **Example Request:**
        ```json
        {
          "is_default": true
        }
        ```
      operationId: toggle_default_api_v1_admin_templates_apps__template_id__default_patch
      parameters:
        - name: template_id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Template Id
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AppTemplateToggleDefaultRequest'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AppTemplateAdminPublic'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  '/admin/templates/apps/{template_id}/rollback':
    post:
      tags:
        - admin-templates
        - admin-templates
      summary: Rollback app template
      description: Restores template to original snapshot (admin only)
      operationId: >-
        rollback_template_api_v1_admin_templates_apps__template_id__rollback_post
      parameters:
        - name: template_id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Template Id
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AppTemplateAdminPublic'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  '/admin/templates/apps/{template_id}/restore':
    post:
      tags:
        - admin-templates
        - admin-templates
      summary: Restore deleted app template
      description: Restores a soft-deleted template (admin only)
      operationId: restore_template_api_v1_admin_templates_apps__template_id__restore_post
      parameters:
        - name: template_id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Template Id
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AppTemplateAdminPublic'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  '/admin/templates/apps/{template_id}/permanent':
    delete:
      tags:
        - admin-templates
        - admin-templates
      summary: Permanently delete app template
      description: Permanently removes a soft-deleted template from database (admin only)
      operationId: >-
        permanent_delete_template_api_v1_admin_templates_apps__template_id__permanent_delete
      parameters:
        - name: template_id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Template Id
      responses:
        '204':
          description: Successful Response
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  /admin/templates/apps/deleted:
    get:
      tags:
        - admin-templates
        - admin-templates
      summary: List deleted app templates
      description: Returns soft-deleted templates for audit trail (admin only)
      operationId: list_deleted_templates_api_v1_admin_templates_apps_deleted_get
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AppTemplateAdminListPublic'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  /jobs/:
    get:
      tags:
        - jobs
      summary: Get Running Jobs
      operationId: get_running_jobs_api_v1_jobs__get
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedResponse_JobPublic_'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  '/jobs/{id}/':
    get:
      tags:
        - jobs
      summary: Get Job
      operationId: get_job_api_v1_jobs__id___get
      parameters:
        - name: id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Id
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/JobPublic'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  /user-groups/:
    get:
      tags:
        - user-groups
      summary: Get User Groups
      operationId: get_user_groups_api_v1_user_groups__get
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedResponse_UserGroupPublic_'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
    post:
      tags:
        - user-groups
      summary: Create User Group
      operationId: create_user_group_api_v1_user_groups__post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UserGroupCreateRequest'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserGroupPublic'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  '/user-groups/{id}/':
    get:
      tags:
        - user-groups
      summary: Get User Group By Uuid
      operationId: get_user_group_by_uuid_api_v1_user_groups__id___get
      parameters:
        - name: id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Id
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserGroupPublic'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
    post:
      tags:
        - user-groups
      summary: Update User Group
      operationId: update_user_group_api_v1_user_groups__id___post
      parameters:
        - name: id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Id
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UserGroupUpdateRequest'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserGroupPublic'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
    delete:
      tags:
        - user-groups
      summary: Delete User Group By Uuid
      operationId: delete_user_group_by_uuid_api_v1_user_groups__id___delete
      parameters:
        - name: id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Id
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserGroupPublic'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  '/user-groups/{id}/users/{user_id}/':
    post:
      tags:
        - user-groups
      summary: Add User To User Group
      operationId: add_user_to_user_group_api_v1_user_groups__id__users__user_id___post
      parameters:
        - name: id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Id
        - name: user_id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: User Id
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserGroupPublic'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
    delete:
      tags:
        - user-groups
      summary: Delete User From User Group
      operationId: >-
        delete_user_from_user_group_api_v1_user_groups__id__users__user_id___delete
      parameters:
        - name: id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Id
        - name: user_id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: User Id
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserGroupPublic'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  /allowed-origins/:
    get:
      tags:
        - allowed-origins
      summary: Get Origins
      operationId: get_origins_api_v1_allowed_origins__get
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedResponse_AllowedOriginPublic_'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  /completion-models/:
    get:
      tags:
        - completion-models
      summary: Get Completion Models
      operationId: get_completion_models_api_v1_completion_models__get
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedResponse_CompletionModelPublic_'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  '/completion-models/{id}/':
    post:
      tags:
        - completion-models
      summary: Update Completion Model
      operationId: update_completion_model_api_v1_completion_models__id___post
      parameters:
        - name: id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Id
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CompletionModelUpdateFlags'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CompletionModelPublic'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  '/completion-models/{model_id}/usage':
    get:
      tags:
        - completion-models
      summary: Get Model Usage
      description: >-
        Get usage statistics for a specific model (pre-aggregated for
        performance)
      operationId: get_model_usage_api_v1_completion_models__model_id__usage_get
      parameters:
        - name: model_id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Model Id
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ModelUsageStatistics'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  '/completion-models/{model_id}/usage/details':
    get:
      tags:
        - completion-models
      summary: Get Model Usage Details
      description: Get detailed list of entities using this model with cursor pagination
      operationId: >-
        get_model_usage_details_api_v1_completion_models__model_id__usage_details_get
      parameters:
        - name: model_id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Model Id
        - name: entity_type
          in: query
          description: Filter by entity type
          required: false
          style: form
          explode: true
          schema:
            anyOf:
              - type: string
              - type: 'null'
            description: Filter by entity type
            title: Entity Type
        - name: cursor
          in: query
          description: Cursor for pagination
          required: false
          style: form
          explode: true
          schema:
            anyOf:
              - type: string
              - type: 'null'
            description: Cursor for pagination
            title: Cursor
        - name: limit
          in: query
          description: Number of results per page
          required: false
          style: form
          explode: true
          schema:
            type: integer
            default: 50
            description: Number of results per page
            maximum: 100
            title: Limit
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedResponse'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  '/completion-models/{model_id}/migrate':
    post:
      tags:
        - completion-models
      summary: Migrate Model Usage
      description: Migrate all usage from one model to another with safety checks
      operationId: migrate_model_usage_api_v1_completion_models__model_id__migrate_post
      parameters:
        - name: model_id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Model Id
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ModelMigrationRequest'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MigrationResult'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  /completion-models/usage-summary:
    get:
      tags:
        - completion-models
      summary: Get All Models Usage Summary
      description: Get usage summary for all models (optimized with pre-aggregation)
      operationId: get_all_models_usage_summary_api_v1_completion_models_usage_summary_get
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/ModelUsageSummary'
                title: >-
                  Response Get All Models Usage Summary Api V1 Completion Models
                  Usage Summary Get
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  '/completion-models/{model_id}/migration-history':
    get:
      tags:
        - completion-models
      summary: Get Model Migration History
      description: Get migration history for a specific model (from or to this model)
      operationId: >-
        get_model_migration_history_api_v1_completion_models__model_id__migration_history_get
      parameters:
        - name: model_id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Model Id
        - name: limit
          in: query
          description: Number of results per page
          required: false
          style: form
          explode: true
          schema:
            type: integer
            default: 50
            description: Number of results per page
            maximum: 100
            title: Limit
        - name: offset
          in: query
          description: Offset for pagination
          required: false
          style: form
          explode: true
          schema:
            type: integer
            default: 0
            description: Offset for pagination
            minimum: 0
            title: Offset
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/ModelMigrationHistory'
                title: >-
                  Response Get Model Migration History Api V1 Completion Models 
                  Model Id  Migration History Get
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  /completion-models/migration-history:
    get:
      tags:
        - completion-models
      summary: Get All Migration History
      description: Get all migration history for the tenant
      operationId: get_all_migration_history_api_v1_completion_models_migration_history_get
      parameters:
        - name: limit
          in: query
          description: Number of results per page
          required: false
          style: form
          explode: true
          schema:
            type: integer
            default: 50
            description: Number of results per page
            maximum: 100
            title: Limit
        - name: offset
          in: query
          description: Offset for pagination
          required: false
          style: form
          explode: true
          schema:
            type: integer
            default: 0
            description: Offset for pagination
            minimum: 0
            title: Offset
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/ModelMigrationHistory'
                title: >-
                  Response Get All Migration History Api V1 Completion Models
                  Migration History Get
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  '/completion-models/migration-history/{migration_id}':
    get:
      tags:
        - completion-models
      summary: Get Migration History By Id
      description: Get a specific migration history record by ID
      operationId: >-
        get_migration_history_by_id_api_v1_completion_models_migration_history__migration_id__get
      parameters:
        - name: migration_id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Migration Id
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ModelMigrationHistory'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  /embedding-models/:
    get:
      tags:
        - embedding-models
      summary: Get Embedding Models
      operationId: get_embedding_models_api_v1_embedding_models__get
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedResponse_EmbeddingModelPublic_'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  '/embedding-models/{id}/':
    get:
      tags:
        - embedding-models
      summary: Get Embedding Model
      operationId: get_embedding_model_api_v1_embedding_models__id___get
      parameters:
        - name: id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Id
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/EmbeddingModelPublic'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
    post:
      tags:
        - embedding-models
      summary: Update Embedding Model
      operationId: update_embedding_model_api_v1_embedding_models__id___post
      parameters:
        - name: id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Id
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/EmbeddingModelUpdate'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/EmbeddingModelPublic'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  /transcription-models/:
    get:
      tags:
        - transcription-models
      summary: Get Transcription Models
      operationId: get_transcription_models_api_v1_transcription_models__get
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: >-
                  #/components/schemas/PaginatedResponse_TranscriptionModelPublic_
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  '/transcription-models/{id}/':
    post:
      tags:
        - transcription-models
      summary: Update Transcription Model
      operationId: update_transcription_model_api_v1_transcription_models__id___post
      parameters:
        - name: id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Id
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TranscriptionModelUpdate'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TranscriptionModelPublic'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  /files/:
    get:
      tags:
        - files
      summary: Get Files
      operationId: get_files_api_v1_files__get
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedResponse_FilePublic_'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
    post:
      tags:
        - files
      summary: Upload File
      operationId: upload_file_api_v1_files__post
      requestBody:
        content:
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/Body_upload_file_api_v1_files__post'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FilePublic'
        '413':
          description: Request Entity Too Large
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '415':
          description: Unsupported Media Type
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  '/files/{id}/':
    get:
      tags:
        - files
      summary: Get File
      operationId: get_file_api_v1_files__id___get
      parameters:
        - name: id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Id
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FilePublic'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
    delete:
      tags:
        - files
      summary: Delete File
      operationId: delete_file_api_v1_files__id___delete
      parameters:
        - name: id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Id
      responses:
        '204':
          description: Successful Response
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  '/files/{id}/signed-url/':
    post:
      tags:
        - files
      summary: Generate a signed URL for file download
      description: >-
        Generates a signed URL that can be used to download a file without
        authentication.
            The URL will expire after the specified time period.

            This is useful for sharing files with third parties or for embedding in emails.
      operationId: generate_signed_url_api_v1_files__id__signed_url__post
      parameters:
        - name: id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Id
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SignedURLRequest'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SignedURLResponse'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  '/files/{id}/download/':
    get:
      tags:
        - files
      summary: Download a file using a signed URL
      description: |-
        Allows downloading a file using a pre-signed URL token.
            No authentication is required, but the token must be valid and not expired.
      operationId: download_file_signed_api_v1_files__id__download__get
      parameters:
        - name: id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Id
        - name: token
          in: query
          description: The signed token for file access
          required: true
          style: form
          explode: true
          schema:
            type: string
            description: The signed token for file access
            title: Token
        - name: range
          in: header
          required: false
          style: simple
          explode: false
          schema:
            type: string
            title: Range
      responses:
        '200':
          description: Successfully downloaded the entire file
        '206':
          description: Successfully downloaded a partial content (range request)
        '400':
          description: >-
            Bad request - Invalid token or range requests not supported for this
            file type
        '401':
          description: Unauthorized - Token is invalid or has expired
        '403':
          description: Unauthorized - Not authorized to view this file
        '404':
          description: File content not found or file does not exist
        '416':
          description: Range not satisfiable
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  '/icons/{id}/':
    get:
      tags:
        - icons
      summary: Get icon image
      description: >-
        Returns icon as binary data. Public endpoint for img tags. Cached for 1
        year.
      operationId: get_icon_api_v1_icons__id___get
      parameters:
        - name: id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Id
      responses:
        '200':
          description: Successful Response
          content:
            image/png: { }
            image/jpeg: { }
            image/webp: { }
        '404':
          description: Icon not found
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
    delete:
      tags:
        - icons
      summary: Delete icon
      description: Delete an icon by ID. Requires authentication and ownership.
      operationId: delete_icon_api_v1_icons__id___delete
      parameters:
        - name: id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Id
      responses:
        '204':
          description: Deleted
        '404':
          description: Not found
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  /icons/:
    post:
      tags:
        - icons
      summary: Upload icon
      description: 'Upload icon image (PNG, JPEG, WebP). Max 256 KB. Returns icon ID.'
      operationId: create_icon_api_v1_icons__post
      requestBody:
        content:
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/Body_create_icon_api_v1_icons__post'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/IconPublic'
        '413':
          description: Request Entity Too Large
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '415':
          description: Unsupported Media Type
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  /limits/:
    get:
      tags:
        - limits
      summary: Get Limits
      operationId: get_limits_api_v1_limits__get
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Limits'
      security:
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  /spaces/:
    get:
      tags:
        - spaces
      summary: Get Spaces
      operationId: get_spaces_api_v1_spaces__get
      parameters:
        - name: include_applications
          in: query
          description: Includes published applications on each space
          required: false
          style: form
          explode: true
          schema:
            type: boolean
            default: false
            description: Includes published applications on each space
            title: Include Applications
        - name: include_personal
          in: query
          description: Includes your personal space
          required: false
          style: form
          explode: true
          schema:
            type: boolean
            default: false
            description: Includes your personal space
            title: Include Personal
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedResponse_SpaceSparse_'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
    post:
      tags:
        - spaces
      summary: Create Space
      operationId: create_space_api_v1_spaces__post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateSpaceRequest'
        required: true
      responses:
        '201':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SpacePublic'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  '/spaces/{id}/':
    get:
      tags:
        - spaces
      summary: Get Space
      operationId: get_space_api_v1_spaces__id___get
      parameters:
        - name: id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Id
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SpacePublic'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
    delete:
      tags:
        - spaces
      summary: Delete Space
      operationId: delete_space_api_v1_spaces__id___delete
      parameters:
        - name: id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Id
      responses:
        '204':
          description: Successful Response
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
    patch:
      tags:
        - spaces
      summary: Update Space
      operationId: update_space_api_v1_spaces__id___patch
      parameters:
        - name: id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Id
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PartialUpdateSpaceRequest'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SpacePublic'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  '/spaces/{id}/security_classification/{security_classification_id}/impact-analysis/':
    get:
      tags:
        - spaces
      summary: Get Security Classification Impact Analysis
      description: >-
        Get a preview of the impact of changing the security classification of a
        space.
      operationId: >-
        get_security_classification_impact_analysis_api_v1_spaces__id__security_classification__security_classification_id__impact_analysis__get
      parameters:
        - name: id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Id
        - name: security_classification_id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Security Classification Id
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UpdateSpaceDryRunResponse'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  '/spaces/{id}/applications/':
    get:
      tags:
        - spaces
      summary: Get Space Applications
      operationId: get_space_applications_api_v1_spaces__id__applications__get
      parameters:
        - name: id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Id
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Applications'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  '/spaces/{id}/applications/assistants/':
    post:
      tags:
        - spaces
      summary: Create Space Assistant
      operationId: create_space_assistant_api_v1_spaces__id__applications_assistants__post
      parameters:
        - name: id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Id
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateSpaceAssistantRequest'
        required: true
      responses:
        '201':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AssistantPublic'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  '/spaces/{id}/applications/group-chats/':
    post:
      tags:
        - spaces
      summary: Create Group Chat
      description: Creates a group chat.
      operationId: create_group_chat_api_v1_spaces__id__applications_group_chats__post
      parameters:
        - name: id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Id
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/GroupChatCreate'
        required: true
      responses:
        '201':
          description: Successful Response.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GroupChatPublic'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  '/spaces/{id}/applications/apps/':
    post:
      tags:
        - spaces
      summary: Create App
      operationId: create_app_api_v1_spaces__id__applications_apps__post
      parameters:
        - name: id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Id
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateSpaceAppRequest'
        required: true
      responses:
        '201':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AppPublic'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  '/spaces/{id}/applications/services/':
    post:
      tags:
        - spaces
      summary: Create Space Services
      operationId: create_space_services_api_v1_spaces__id__applications_services__post
      parameters:
        - name: id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Id
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateSpaceServiceRequest'
        required: true
      responses:
        '201':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CreateSpaceServiceResponse'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  '/spaces/{id}/knowledge/':
    get:
      tags:
        - spaces
      summary: Get Space Knowledge
      operationId: get_space_knowledge_api_v1_spaces__id__knowledge__get
      parameters:
        - name: id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Id
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Knowledge'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  '/spaces/{id}/knowledge/groups/':
    post:
      tags:
        - spaces
      summary: Create Space Groups
      operationId: create_space_groups_api_v1_spaces__id__knowledge_groups__post
      parameters:
        - name: id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Id
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateSpaceGroupsRequest'
        required: true
      responses:
        '201':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CollectionPublic'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  '/spaces/{id}/knowledge/websites/':
    post:
      tags:
        - spaces
      summary: Create a website crawler
      description: >-
        Create a new website crawler that will extract content and make it
        available to assistants in this space.

            **Update Intervals:**
            - `never` (default): Manual crawls only
            - `daily`: Automatic recrawl every day at 3 AM Swedish time
            - `every_other_day`: Recrawl every 2 days
            - `weekly`: Recrawl every Friday

            **Example Request Body:**
            ```json
            {
              "name": "Company Documentation",
              "url": "https://docs.example.com",
              "crawl_type": "crawl",
              "download_files": true,
              "update_interval": "daily"
            }
            ```

            The crawl will start immediately upon creation.
      operationId: create_space_websites_api_v1_spaces__id__knowledge_websites__post
      parameters:
        - name: id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Id
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/WebsiteCreate'
        required: true
      responses:
        '201':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/WebsitePublic'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  '/spaces/{id}/knowledge/integrations/add/{user_integration_id}/':
    post:
      tags:
        - spaces
      summary: Create Space Integration Knowledge
      operationId: >-
        create_space_integration_knowledge_api_v1_spaces__id__knowledge_integrations_add__user_integration_id___post
      parameters:
        - name: id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Id
        - name: user_integration_id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: User Integration Id
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateSpaceIntegrationKnowledge'
        required: true
      responses:
        '202':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/JobPublic'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  '/spaces/{id}/knowledge/integrations/remove/{integration_knowledge_id}/':
    delete:
      tags:
        - spaces
      summary: Delete Space Integration Knowledge
      operationId: >-
        delete_space_integration_knowledge_api_v1_spaces__id__knowledge_integrations_remove__integration_knowledge_id___delete
      parameters:
        - name: id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Id
        - name: integration_knowledge_id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Integration Knowledge Id
      responses:
        '204':
          description: Successful Response
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  '/spaces/{id}/knowledge/integrations/{integration_knowledge_id}/':
    patch:
      tags:
        - spaces
      summary: Update Integration Knowledge
      operationId: >-
        update_integration_knowledge_api_v1_spaces__id__knowledge_integrations__integration_knowledge_id___patch
      parameters:
        - name: id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Id
        - name: integration_knowledge_id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Integration Knowledge Id
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateIntegrationKnowledgeRequest'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/IntegrationKnowledgePublic'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  '/spaces/{id}/members/':
    post:
      tags:
        - spaces
      summary: Add Space Member
      operationId: add_space_member_api_v1_spaces__id__members__post
      parameters:
        - name: id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Id
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AddSpaceMemberRequest'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SpaceMember'
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  '/spaces/{id}/members/{user_id}/':
    delete:
      tags:
        - spaces
      summary: Remove Space Member
      operationId: remove_space_member_api_v1_spaces__id__members__user_id___delete
      parameters:
        - name: id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Id
        - name: user_id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: User Id
      responses:
        '204':
          description: Successful Response
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
    patch:
      tags:
        - spaces
      summary: Change Role Of Member
      operationId: change_role_of_member_api_v1_spaces__id__members__user_id___patch
      parameters:
        - name: id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Id
        - name: user_id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: User Id
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateSpaceMemberRequest'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SpaceMember'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  /spaces/type/personal/:
    get:
      tags:
        - spaces
      summary: Get Personal Space
      operationId: get_personal_space_api_v1_spaces_type_personal__get
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SpacePublic'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  /spaces/type/organization/:
    get:
      tags:
        - spaces
      summary: Get Organization Space
      operationId: get_organization_space_api_v1_spaces_type_organization__get
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SpacePublic'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  /dashboard/:
    get:
      tags:
        - dashboard
      summary: Get Dashboard
      operationId: get_dashboard_api_v1_dashboard__get
      parameters:
        - name: only_published
          in: query
          required: false
          style: form
          explode: true
          schema:
            type: boolean
            default: false
            title: Only Published
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Dashboard'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  /websites/:
    get:
      tags:
        - websites
      summary: Get Websites
      operationId: get_websites_api_v1_websites__get
      parameters:
        - name: for_tenant
          in: query
          description: Filter websites by tenant scope
          required: false
          style: form
          explode: true
          schema:
            type: boolean
            default: false
            description: Filter websites by tenant scope
            title: For Tenant
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedResponse_WebsitePublic_'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      deprecated: true
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
    post:
      tags:
        - websites
      summary: Create Website
      operationId: create_website_api_v1_websites__post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/WebsiteCreateRequestDeprecated'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/WebsitePublic'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      deprecated: true
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  /websites/bulk/run/:
    post:
      tags:
        - websites
      summary: Trigger bulk crawl
      description: |-
        Trigger crawls for multiple websites at once. Useful for:
            - Batch recrawling selected websites
            - Refreshing multiple knowledge sources simultaneously
            - Recovering from failed crawls across multiple sites

            **Features:**
            - Maximum 50 websites per request (safety limit)
            - Individual failures don't stop the batch
            - Returns detailed status for each website

            **Example Request:**
            ```json
            {
              "website_ids": [
                "123e4567-e89b-12d3-a456-426614174000",
                "123e4567-e89b-12d3-a456-426614174001"
              ]
            }
            ```

            **Example Response:**
            ```json
            {
              "total": 2,
              "queued": 1,
              "failed": 1,
              "crawl_runs": [...],
              "errors": [
                {
                  "website_id": "123e4567-e89b-12d3-a456-426614174001",
                  "error": "Crawl already in progress for this website"
                }
              ]
            }
            ```
      operationId: bulk_run_crawl_api_v1_websites_bulk_run__post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/BulkCrawlRequest'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BulkCrawlResponse'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  '/websites/{id}/':
    get:
      tags:
        - websites
      summary: Get Website
      operationId: get_website_api_v1_websites__id___get
      parameters:
        - name: id
          in: path
          description: Unique identifier of the website
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            description: Unique identifier of the website
            title: Id
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/WebsitePublic'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
    post:
      tags:
        - websites
      summary: Update Website
      operationId: update_website_api_v1_websites__id___post
      parameters:
        - name: id
          in: path
          description: Unique identifier of the website to update
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            description: Unique identifier of the website to update
            title: Id
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/WebsiteUpdate'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/WebsitePublic'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
    delete:
      tags:
        - websites
      summary: Delete Website
      operationId: delete_website_api_v1_websites__id___delete
      parameters:
        - name: id
          in: path
          description: Unique identifier of the website to delete
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            description: Unique identifier of the website to delete
            title: Id
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema: { }
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  '/websites/{id}/run/':
    post:
      tags:
        - websites
      summary: Trigger a crawl
      description: |-
        Manually trigger a crawl for a specific website. This can be used to:
            - Recrawl a website to update its content
            - Force a crawl outside the automatic update schedule
            - Retry a failed crawl

            The crawl will use the website's configured settings (crawler engine, crawl type, etc.).

            **Status Flow:**
            1. `queued` - Crawl is waiting to start
            2. `in progress` - Crawl is actively running
            3. `complete` - Crawl finished successfully
            4. `failed` - Crawl encountered an error

            Returns the new crawl run with status information.
      operationId: run_crawl_api_v1_websites__id__run__post
      parameters:
        - name: id
          in: path
          description: Unique identifier of the website to crawl
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            description: Unique identifier of the website to crawl
            title: Id
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: >-
                  #/components/schemas/intric__websites__presentation__website_models__CrawlRunPublic
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  '/websites/{id}/runs/':
    get:
      tags:
        - websites
      summary: Get Crawl Runs
      operationId: get_crawl_runs_api_v1_websites__id__runs__get
      parameters:
        - name: id
          in: path
          description: Unique identifier of the website
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            description: Unique identifier of the website
            title: Id
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedResponse_CrawlRunPublic_'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  '/websites/{id}/transfer/':
    post:
      tags:
        - websites
      summary: Transfer Website To Space
      operationId: transfer_website_to_space_api_v1_websites__id__transfer__post
      parameters:
        - name: id
          in: path
          description: Unique identifier of the website to transfer
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            description: Unique identifier of the website to transfer
            title: Id
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TransferRequest'
        required: true
      responses:
        '204':
          description: Successful Response
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  '/websites/{id}/info-blobs/':
    get:
      tags:
        - websites
      summary: Get Info Blobs
      operationId: get_info_blobs_api_v1_websites__id__info_blobs__get
      parameters:
        - name: id
          in: path
          description: Unique identifier of the website
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            description: Unique identifier of the website
            title: Id
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedResponse_InfoBlobPublicNoText_'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  '/prompts/{id}/':
    get:
      tags:
        - prompts
      summary: Get Prompt
      operationId: get_prompt_api_v1_prompts__id___get
      parameters:
        - name: id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Id
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PromptPublic'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
    delete:
      tags:
        - prompts
      summary: Delete Prompt
      operationId: delete_prompt_api_v1_prompts__id___delete
      parameters:
        - name: id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Id
      responses:
        '204':
          description: Successful Response
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
    patch:
      tags:
        - prompts
      summary: Update Prompt Description
      operationId: update_prompt_description_api_v1_prompts__id___patch
      parameters:
        - name: id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Id
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PromptUpdateRequest'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PromptPublic'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  /templates/apps/:
    get:
      tags:
        - apps-templates
      summary: List available app templates
      description: >-
        Get app templates available for creating new apps.


        **Feature Flag Behavior:**

        - If `using_templates` feature is disabled: Returns empty list (not an
        error)

        - If `using_templates` feature is enabled: Returns all available
        templates


        **Template Scope:**

        - Global templates (tenant_id = NULL): Available to all tenants

        - Tenant-specific templates: Only available to that tenant


        **Response:**

        Returns paginated list of templates with basic information for gallery
        display.
      operationId: get_templates_api_v1_templates_apps__get
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AppTemplateListPublic'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  /templates/assistants/:
    get:
      tags:
        - assistants-templates
      summary: List available assistant templates
      description: >-
        Get assistant templates available for creating new assistants.


        **Feature Flag Behavior:**

        - If `using_templates` feature is disabled: Returns empty list (not an
        error)

        - If `using_templates` feature is enabled: Returns all available
        templates


        **Template Scope:**

        - Global templates (tenant_id = NULL): Available to all tenants

        - Tenant-specific templates: Only available to that tenant


        **Response:**

        Returns paginated list of templates with basic information for gallery
        display.
      operationId: get_templates_api_v1_templates_assistants__get
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AssistantTemplateListPublic'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  /templates/:
    get:
      tags:
        - templates
      summary: Get Templates
      description: Get all types of templates
      operationId: get_templates_api_v1_templates__get
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TemplateListPublic'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  /storage/:
    get:
      tags:
        - storage
      summary: Get Storage
      operationId: get_storage_api_v1_storage__get
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/StorageModel'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  /storage/spaces/:
    get:
      tags:
        - storage
      summary: Get Spaces
      operationId: get_spaces_api_v1_storage_spaces__get
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/StorageInfoModel'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  /token-usage/:
    get:
      tags:
        - token-usage
      summary: Get Token Usage
      description: >-
        Get token usage statistics for the specified date range.

        If no dates are provided, returns token usage for the last 30 days.

        Note: If no time is provided in datetime parameters, time components
        default to 00:00:00.
      operationId: get_token_usage_api_v1_token_usage__get
      parameters:
        - name: start_date
          in: query
          description: >-
            Start date for token usage data (defaults to 30 days ago).Time
            defaults to 00:00:00.
          required: false
          style: form
          explode: true
          schema:
            anyOf:
              - type: string
                format: date-time
              - type: 'null'
            description: >-
              Start date for token usage data (defaults to 30 days ago).Time
              defaults to 00:00:00.
            title: Start Date
        - name: end_date
          in: query
          description: >-
            End date for token usage data (defaults to current time).Time
            defaults to 00:00:00.
          required: false
          style: form
          explode: true
          schema:
            anyOf:
              - type: string
                format: date-time
              - type: 'null'
            description: >-
              End date for token usage data (defaults to current time).Time
              defaults to 00:00:00.
            title: End Date
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TokenUsageSummary'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  /token-usage/users:
    get:
      tags:
        - token-usage
      summary: Get User Token Usage
      description: >-
        Get token usage statistics aggregated by user for the specified date
        range.

        If no dates are provided, returns token usage for the last 30 days.

        Note: If no time is provided in datetime parameters, time components
        default to 00:00:00.
      operationId: get_user_token_usage_api_v1_token_usage_users_get
      parameters:
        - name: start_date
          in: query
          description: >-
            Start date for token usage data (defaults to 30 days ago).Time
            defaults to 00:00:00.
          required: false
          style: form
          explode: true
          schema:
            anyOf:
              - type: string
                format: date-time
              - type: 'null'
            description: >-
              Start date for token usage data (defaults to 30 days ago).Time
              defaults to 00:00:00.
            title: Start Date
        - name: end_date
          in: query
          description: >-
            End date for token usage data (defaults to current time).Time
            defaults to 00:00:00.
          required: false
          style: form
          explode: true
          schema:
            anyOf:
              - type: string
                format: date-time
              - type: 'null'
            description: >-
              End date for token usage data (defaults to current time).Time
              defaults to 00:00:00.
            title: End Date
        - name: page
          in: query
          description: Page number for pagination.
          required: false
          style: form
          explode: true
          schema:
            type: integer
            default: 1
            description: Page number for pagination.
            title: Page
        - name: per_page
          in: query
          description: Number of items per page.
          required: false
          style: form
          explode: true
          schema:
            type: integer
            default: 15
            description: Number of items per page.
            title: Per Page
        - name: sort_by
          in: query
          description: Field to sort by.
          required: false
          style: form
          explode: true
          schema:
            $ref: '#/components/schemas/UserSortBy'
            default: total_tokens
            description: Field to sort by.
        - name: sort_order
          in: query
          description: Sort order (asc or desc).
          required: false
          style: form
          explode: true
          schema:
            type: string
            default: desc
            description: Sort order (asc or desc).
            title: Sort Order
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserTokenUsageSummary'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  '/token-usage/users/{user_id}/summary':
    get:
      tags:
        - token-usage
      summary: Get User Summary
      description: >-
        Get summary for a specific user without fetching all users.

        If no dates are provided, returns summary for the last 30 days.

        Note: If no time is provided in datetime parameters, time components
        default to 00:00:00.
      operationId: get_user_summary_api_v1_token_usage_users__user_id__summary_get
      parameters:
        - name: user_id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: User Id
        - name: start_date
          in: query
          description: >-
            Start date for token usage data (defaults to 30 days ago).Time
            defaults to 00:00:00.
          required: false
          style: form
          explode: true
          schema:
            anyOf:
              - type: string
                format: date-time
              - type: 'null'
            description: >-
              Start date for token usage data (defaults to 30 days ago).Time
              defaults to 00:00:00.
            title: Start Date
        - name: end_date
          in: query
          description: >-
            End date for token usage data (defaults to current time).Time
            defaults to 00:00:00.
          required: false
          style: form
          explode: true
          schema:
            anyOf:
              - type: string
                format: date-time
              - type: 'null'
            description: >-
              End date for token usage data (defaults to current time).Time
              defaults to 00:00:00.
            title: End Date
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserTokenUsageSummaryDetail'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  '/token-usage/users/{user_id}':
    get:
      tags:
        - token-usage
      summary: Get User Model Breakdown
      description: >-
        Get model breakdown for a specific user within the specified date range.

        If no dates are provided, returns model breakdown for the last 30 days.

        Note: If no time is provided in datetime parameters, time components
        default to 00:00:00.
      operationId: get_user_model_breakdown_api_v1_token_usage_users__user_id__get
      parameters:
        - name: user_id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: User Id
        - name: start_date
          in: query
          description: >-
            Start date for token usage data (defaults to 30 days ago).Time
            defaults to 00:00:00.
          required: false
          style: form
          explode: true
          schema:
            anyOf:
              - type: string
                format: date-time
              - type: 'null'
            description: >-
              Start date for token usage data (defaults to 30 days ago).Time
              defaults to 00:00:00.
            title: Start Date
        - name: end_date
          in: query
          description: >-
            End date for token usage data (defaults to current time).Time
            defaults to 00:00:00.
          required: false
          style: form
          explode: true
          schema:
            anyOf:
              - type: string
                format: date-time
              - type: 'null'
            description: >-
              End date for token usage data (defaults to current time).Time
              defaults to 00:00:00.
            title: End Date
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TokenUsageSummary'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  /security-classifications/:
    get:
      tags:
        - security-classifications
      summary: List Security Classifications
      description: >-
        List all security classifications ordered by security classification
        level.

        Returns:
            List of security classifications ordered by security classification level.
        Raises:
            403: If the user doesn't have permission to list security classifications.
      operationId: list_security_classifications_api_v1_security_classifications__get
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SecurityClassificationResponse'
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
    post:
      tags:
        - security-classifications
      summary: Create Security Classification
      description: |-
        Create a new security classification for the current tenant.
        Args:
            request: The security classification creation request.
        Returns:
            The created security classification.
        Raises:
            400: If the request is invalid. Names must be unique.
      operationId: create_security_classification_api_v1_security_classifications__post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SecurityClassificationCreatePublic'
        required: true
      responses:
        '201':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SecurityClassificationPublic'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
    patch:
      tags:
        - security-classifications
      summary: Update Security Classification Levels
      description: |-
        Update the security levels of security classifications.
        Args:
            request: Security classifications to update.
        Returns:
            The updated security classifications.
        Raises:
            400: If the request is invalid.
            403: If the user doesn't have permission to update the security classification.
            404: If the security classification doesn't exist or belongs to a different tenant.
      operationId: >-
        update_security_classification_levels_api_v1_security_classifications__patch
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SecurityClassificationLevelsUpdateRequest'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SecurityClassificationsListPublic'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  '/security-classifications/{id}/':
    get:
      tags:
        - security-classifications
      summary: Get Security Classification
      description: |-
        Get a security classification by ID.
        Args:
            id: The ID of the security classification.
        Returns:
            The security classification.
        Raises:
            403: If the user doesn't have permission to view the security classification.
            404: If the security classification doesn't exist or belongs to a different tenant.
      operationId: get_security_classification_api_v1_security_classifications__id___get
      parameters:
        - name: id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Id
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SecurityClassificationPublic'
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
    delete:
      tags:
        - security-classifications
      summary: Delete Security Classification
      description: |-
        Delete a security classification.
        Args:
            id: The ID of the security classification to delete.
        Raises:
            403: If the user doesn't have permission to delete the security classification.
            404: If the security classification doesn't exist.
      operationId: >-
        delete_security_classification_api_v1_security_classifications__id___delete
      parameters:
        - name: id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Id
      responses:
        '204':
          description: Successful Response
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
    patch:
      tags:
        - security-classifications
      summary: Update Security Classification
      description: >-
        Update a single security classification's name and/or description.


        This endpoint allows updating just the name and description of a
        security classification

        without changing its security level.


        Args:
            id: The ID of the security classification to update
            request: The update request containing new name and/or description

        Returns:
            The updated security classification

        Raises:
            400: If the request is invalid or security is disabled. Names must be unique.
            403: If the user doesn't have permission to update the classification
            404: If the security classification doesn't exist
      operationId: >-
        update_security_classification_api_v1_security_classifications__id___patch
      parameters:
        - name: id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Id
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SecurityClassificationSingleUpdate'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SecurityClassificationPublic'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  /security-classifications/enable/:
    post:
      tags:
        - security-classifications
      summary: Toggle Security Classifications
      description: |-
        Enable or disable security classifications for the current tenant.

        Args:
            request: Contains a flag to enable or disable security classifications.

        Returns:
            The updated tenant information with security_enabled status.

        Raises:
            400: If the request is invalid.
            403: If the user doesn't have permission to update tenant settings.
      operationId: >-
        toggle_security_classifications_api_v1_security_classifications_enable__post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SecurityEnableRequest'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SecurityEnableResponse'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  /audit/config:
    get:
      tags:
        - audit
        - audit
      summary: Get audit category configuration
      description: Retrieve all audit category configurations for the current tenant.
      operationId: get_audit_config_api_v1_audit_config_get
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AuditConfigResponse'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
    patch:
      tags:
        - audit
        - audit
      summary: Update audit category configuration
      description: Update one or more audit category configurations for the current tenant.
      operationId: update_audit_config_api_v1_audit_config_patch
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AuditConfigUpdateRequest'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AuditConfigResponse'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  /audit/config/actions:
    get:
      tags:
        - audit
        - audit
      summary: Get per-action audit configuration
      description: Retrieve all 65 actions with their enabled status for the modal UI.
      operationId: get_action_config_api_v1_audit_config_actions_get
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ActionConfigResponse'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
    patch:
      tags:
        - audit
        - audit
      summary: Update per-action audit configuration
      description: Update one or more action-level audit configurations.
      operationId: update_action_config_api_v1_audit_config_actions_patch
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ActionConfigUpdateRequest'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ActionConfigResponse'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  /audit/access-session/rate-limit:
    delete:
      tags:
        - audit
        - audit
      summary: Reset Rate Limit
      description: >-
        Admin utility: Reset audit session rate limit for current user.


        This endpoint is only available in development/testing environments.

        Use when you get rate limited during testing.


        Requires: Authentication (JWT token or API key)

        Requires: Development/testing environment


        Note: Permission check intentionally removed to allow clearing rate
        limit

        even when locked out. User is still authenticated via JWT.
      operationId: reset_rate_limit_api_v1_audit_access_session_rate_limit_delete
      responses:
        '204':
          description: Successful Response
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  /audit/access-session:
    post:
      tags:
        - audit
        - audit
      summary: Create Access Session
      description: >-
        Create an audit access session with justification.


        Stores the access justification securely in Redis (server-side) instead
        of

        exposing it in URL parameters. Returns an HTTP-only cookie with session
        ID.


        Security Features:

        - Justification never appears in URLs or browser history

        - Session ID stored in HTTP-only cookie (prevents XSS)

        - Automatic expiration after 1 hour

        - Tenant isolation validation

        - Instant revocation capability


        Requires: Authentication (JWT token or API key)

        Requires: Admin permissions


        Returns: Session creation confirmation with HTTP-only cookie set
      operationId: create_access_session_api_v1_audit_access_session_post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AccessJustificationRequest'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AccessJustificationResponse'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  /audit/logs:
    get:
      tags:
        - audit
        - audit
      summary: List Audit Logs
      description: |-
        List audit logs for the authenticated user's tenant.

        Security:
        - Requires active audit access session (via HTTP-only cookie)
        - Session must contain valid justification
        - Justification stored server-side (Redis) - never in URLs

        Access Control:
        - Admins only: View all actions in their tenant

        Requires: Authentication (JWT token or API key)
        Requires: Admin permissions
        Requires: Active audit access session with justification
      operationId: list_audit_logs_api_v1_audit_logs_get
      parameters:
        - name: actor_id
          in: query
          description: Filter by actor
          required: false
          style: form
          explode: true
          schema:
            anyOf:
              - type: string
                format: uuid
              - type: 'null'
            description: Filter by actor
            title: Actor Id
        - name: action
          in: query
          description: 'Filter by single action type (deprecated, use actions)'
          required: false
          style: form
          explode: true
          schema:
            anyOf:
              - $ref: '#/components/schemas/ActionType'
              - type: 'null'
            description: 'Filter by single action type (deprecated, use actions)'
            title: Action
        - name: from_date
          in: query
          description: Filter from date
          required: false
          style: form
          explode: true
          schema:
            anyOf:
              - type: string
                format: date-time
              - type: 'null'
            description: Filter from date
            title: From Date
        - name: to_date
          in: query
          description: Filter to date
          required: false
          style: form
          explode: true
          schema:
            anyOf:
              - type: string
                format: date-time
              - type: 'null'
            description: Filter to date
            title: To Date
        - name: search
          in: query
          description: Search entity names in log descriptions (min 3 chars)
          required: false
          style: form
          explode: true
          schema:
            anyOf:
              - type: string
                maxLength: 100
                minLength: 3
              - type: 'null'
            description: Search entity names in log descriptions (min 3 chars)
            title: Search
        - name: page
          in: query
          description: Page number
          required: false
          style: form
          explode: true
          schema:
            type: integer
            default: 1
            description: Page number
            minimum: 1
            title: Page
        - name: page_size
          in: query
          description: Page size
          required: false
          style: form
          explode: true
          schema:
            type: integer
            default: 100
            description: Page size
            maximum: 1000
            minimum: 1
            title: Page Size
        - name: actions
          in: query
          description: Filter by multiple action types (comma-separated or repeated)
          required: false
          style: form
          explode: true
          schema:
            anyOf:
              - type: array
                items:
                  type: string
              - type: 'null'
            description: Filter by multiple action types (comma-separated or repeated)
            title: Actions
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AuditLogListResponse'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  '/audit/logs/user/{user_id}':
    get:
      tags:
        - audit
        - audit
      summary: Get User Logs
      description: |-
        Get all logs where user is actor OR target (GDPR Article 15 export).

        Returns audit logs involving the user in any capacity.

        Requires: Authentication (JWT token or API key via X-API-Key header)
        Requires: Admin permissions
        Security: Only returns logs for the authenticated user's tenant
      operationId: get_user_logs_api_v1_audit_logs_user__user_id__get
      parameters:
        - name: user_id
          in: path
          description: User ID for GDPR export
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            description: User ID for GDPR export
            title: User Id
        - name: from_date
          in: query
          description: Filter from date
          required: false
          style: form
          explode: true
          schema:
            anyOf:
              - type: string
                format: date-time
              - type: 'null'
            description: Filter from date
            title: From Date
        - name: to_date
          in: query
          description: Filter to date
          required: false
          style: form
          explode: true
          schema:
            anyOf:
              - type: string
                format: date-time
              - type: 'null'
            description: Filter to date
            title: To Date
        - name: page
          in: query
          description: Page number
          required: false
          style: form
          explode: true
          schema:
            type: integer
            default: 1
            description: Page number
            minimum: 1
            title: Page
        - name: page_size
          in: query
          description: Page size
          required: false
          style: form
          explode: true
          schema:
            type: integer
            default: 100
            description: Page size
            maximum: 1000
            minimum: 1
            title: Page Size
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AuditLogListResponse'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  /audit/logs/export:
    get:
      tags:
        - audit
        - audit
      summary: Export Audit Logs
      description: |-
        Export audit logs to CSV or JSON Lines format.

        Supported formats:
        - csv: Comma-separated values (default, Excel-compatible)
        - json: JSON Lines format (one JSON object per line, for large exports)

        Use user_id for GDPR Article 15 data subject access requests.

        Memory Protection:
        - Default limit: 50,000 records (configurable via max_records parameter)
        - Response includes X-Records-Truncated header if limit was hit
        - Response includes X-Total-Records header with total matching count

        Requires: Authentication (JWT token or API key via X-API-Key header)
        Requires: Admin permissions
        Security: Only exports logs for the authenticated user's tenant
      operationId: export_audit_logs_api_v1_audit_logs_export_get
      parameters:
        - name: user_id
          in: query
          description: User ID for GDPR export
          required: false
          style: form
          explode: true
          schema:
            anyOf:
              - type: string
                format: uuid
              - type: 'null'
            description: User ID for GDPR export
            title: User Id
        - name: actor_id
          in: query
          description: Filter by actor
          required: false
          style: form
          explode: true
          schema:
            anyOf:
              - type: string
                format: uuid
              - type: 'null'
            description: Filter by actor
            title: Actor Id
        - name: action
          in: query
          description: Filter by action type
          required: false
          style: form
          explode: true
          schema:
            anyOf:
              - $ref: '#/components/schemas/ActionType'
              - type: 'null'
            description: Filter by action type
            title: Action
        - name: from_date
          in: query
          description: Filter from date
          required: false
          style: form
          explode: true
          schema:
            anyOf:
              - type: string
                format: date-time
              - type: 'null'
            description: Filter from date
            title: From Date
        - name: to_date
          in: query
          description: Filter to date
          required: false
          style: form
          explode: true
          schema:
            anyOf:
              - type: string
                format: date-time
              - type: 'null'
            description: Filter to date
            title: To Date
        - name: format
          in: query
          description: 'Export format: csv or json'
          required: false
          style: form
          explode: true
          schema:
            type: string
            default: csv
            description: 'Export format: csv or json'
            title: Format
        - name: max_records
          in: query
          description: 'Maximum records to export (default: 50000, max: 100000)'
          required: false
          style: form
          explode: true
          schema:
            anyOf:
              - type: integer
                maximum: 100000
                minimum: 1
              - type: 'null'
            description: 'Maximum records to export (default: 50000, max: 100000)'
            title: Max Records
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema: { }
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  /audit/logs/export/async:
    post:
      tags:
        - audit
        - audit
      summary: Request Async Export
      description: >-
        Request async export of audit logs.


        Returns immediately with a job_id. Poll /logs/export/{job_id}/status for
        progress.

        Download via /logs/export/{job_id}/download when complete.


        Advantages over sync export:

        - Handles 1M-10M+ records without timeout

        - Progress tracking for long exports

        - Cancellation support

        - Constant memory usage (~50MB)


        Limitations:

        - Max 2 concurrent exports per tenant

        - Files auto-deleted after 24 hours


        Requires: Authentication (JWT token or API key via X-API-Key header)

        Requires: Admin permissions
      operationId: request_async_export_api_v1_audit_logs_export_async_post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ExportJobRequest'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ExportJobResponse'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  '/audit/logs/export/{job_id}/status':
    get:
      tags:
        - audit
        - audit
      summary: Get Export Status
      description: |-
        Get export job status with progress.

        Poll this endpoint to track export progress.
        When status is 'completed', use the download_url to get the file.

        Requires: Authentication (JWT token or API key via X-API-Key header)
        Requires: Admin permissions
      operationId: get_export_status_api_v1_audit_logs_export__job_id__status_get
      parameters:
        - name: job_id
          in: path
          description: Export job ID
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            description: Export job ID
            title: Job Id
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ExportJobStatusResponse'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  '/audit/logs/export/{job_id}/download':
    get:
      tags:
        - audit
        - audit
      summary: Download Export
      description: |-
        Download completed export file.

        Only available when job status is 'completed'.
        Files are auto-deleted after 24 hours.

        Requires: Authentication (JWT token or API key via X-API-Key header)
        Requires: Admin permissions
      operationId: download_export_api_v1_audit_logs_export__job_id__download_get
      parameters:
        - name: job_id
          in: path
          description: Export job ID
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            description: Export job ID
            title: Job Id
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema: { }
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  '/audit/logs/export/{job_id}/cancel':
    post:
      tags:
        - audit
        - audit
      summary: Cancel Export
      description: |-
        Cancel an in-progress export.

        Only works for jobs in 'pending' or 'processing' state.
        The worker will stop processing and clean up the partial file.

        Requires: Authentication (JWT token or API key via X-API-Key header)
        Requires: Admin permissions
      operationId: cancel_export_api_v1_audit_logs_export__job_id__cancel_post
      parameters:
        - name: job_id
          in: path
          description: Export job ID
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            description: Export job ID
            title: Job Id
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema: { }
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  /audit/retention-policy:
    get:
      tags:
        - audit
        - audit
      summary: Get Retention Policy
      description: |-
        Get the current retention policy for your tenant.

        Returns audit log retention policy configuration.

        Requires: Authentication (JWT token or API key via X-API-Key header)
        Requires: Admin permissions
      operationId: get_retention_policy_api_v1_audit_retention_policy_get
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RetentionPolicyResponse'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
    put:
      tags:
        - audit
        - audit
      summary: Update Retention Policy
      description: >-
        Update the audit log retention policy for your tenant.


        Configure audit log retention for compliance and security tracking.


        Audit Log Retention:

        - Minimum: 1 day (Recommended: 90+ days for compliance)

        - Maximum: 2555 days (~7 years, Swedish statute of limitations)

        - Default: 365 days (Swedish Arkivlagen)


        Note: Conversation retention is configured at the Assistant, App, or
        Space level.

        Tenant-level conversation retention has been removed to prevent
        accidental data loss.


        The system automatically runs a daily job to delete audit logs older
        than

        the retention period.


        Requires: Authentication (JWT token or API key via X-API-Key header)

        Requires: Admin permissions
      operationId: update_retention_policy_api_v1_audit_retention_policy_put
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RetentionPolicyUpdateRequest'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RetentionPolicyResponse'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  /integrations/:
    get:
      tags:
        - integrations
      summary: Get Integrations
      operationId: get_integrations_api_v1_integrations__get
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/IntegrationList'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  /integrations/tenant/:
    get:
      tags:
        - integrations
      summary: Get Tenant Integrations
      operationId: get_tenant_integrations_api_v1_integrations_tenant__get
      parameters:
        - name: filter
          in: query
          required: false
          style: form
          explode: true
          schema:
            anyOf:
              - $ref: '#/components/schemas/TenantIntegrationFilter'
              - type: 'null'
            title: Filter
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TenantIntegrationList'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  '/integrations/tenant/add/{integration_id}/':
    post:
      tags:
        - integrations
      summary: Add Tenant Integration
      operationId: >-
        add_tenant_integration_api_v1_integrations_tenant_add__integration_id___post
      parameters:
        - name: integration_id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Integration Id
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TenantIntegration'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  '/integrations/tenant/remove/{tenant_integration_id}/':
    delete:
      tags:
        - integrations
      summary: Remove Tenant Integration
      operationId: >-
        remove_tenant_integration_api_v1_integrations_tenant_remove__tenant_integration_id___delete
      parameters:
        - name: tenant_integration_id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Tenant Integration Id
      responses:
        '204':
          description: Successful Response
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  /integrations/me/:
    get:
      tags:
        - integrations
      summary: Get User Integrations
      description: |-
        Get user's personal integrations.

        Only returns user_oauth integrations (personal account connections).
        Tenant app integrations are managed in admin panel and not shown here.
      operationId: get_user_integrations_api_v1_integrations_me__get
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserIntegrationList'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  '/integrations/spaces/{space_id}/available/':
    get:
      tags:
        - integrations
      summary: Get Available Integrations For Space
      description: >-
        Get integrations available for a specific space, filtered by space type
        and auth type.


        - Personal spaces: Only user OAuth integrations

        - Shared/Organization spaces: Both tenant app and user OAuth
        integrations
      operationId: >-
        get_available_integrations_for_space_api_v1_integrations_spaces__space_id__available__get
      parameters:
        - name: space_id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Space Id
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserIntegrationList'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  '/integrations/users/{user_integration_id}/':
    delete:
      tags:
        - integrations
      summary: Disconnect User Integration
      operationId: >-
        disconnect_user_integration_api_v1_integrations_users__user_integration_id___delete
      parameters:
        - name: user_integration_id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: User Integration Id
      responses:
        '204':
          description: Successful Response
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  '/integrations/sync-logs/{integration_knowledge_id}/':
    get:
      tags:
        - integrations
      summary: Get Sync Logs
      description: Get paginated sync history for an integration knowledge.
      operationId: >-
        get_sync_logs_api_v1_integrations_sync_logs__integration_knowledge_id___get
      parameters:
        - name: integration_knowledge_id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Integration Knowledge Id
        - name: skip
          in: query
          description: Number of items to skip
          required: false
          style: form
          explode: true
          schema:
            type: integer
            default: 0
            description: Number of items to skip
            minimum: 0
            title: Skip
        - name: limit
          in: query
          description: Number of items per page
          required: false
          style: form
          explode: true
          schema:
            type: integer
            default: 10
            description: Number of items per page
            maximum: 100
            minimum: 1
            title: Limit
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedSyncLogList'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  '/integrations/{user_integration_id}/preview/':
    get:
      tags:
        - integrations
      summary: Get Integration Preview
      operationId: >-
        get_integration_preview_api_v1_integrations__user_integration_id__preview__get
      parameters:
        - name: user_integration_id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: User Integration Id
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/IntegrationPreviewDataList'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  '/integrations/{user_integration_id}/sharepoint/tree/':
    get:
      tags:
        - integrations
      summary: Get Sharepoint Folder Tree
      description: >-
        Get SharePoint/OneDrive folder tree with hybrid authentication support.


        Authentication is determined by space type:

        - Personal space: Uses user OAuth

        - Shared/Org space with tenant app: Uses tenant app (no
        person-dependency)

        - Shared/Org space without tenant app: Falls back to user OAuth


        Provide site_id for SharePoint sites, or drive_id for OneDrive.
      operationId: >-
        get_sharepoint_folder_tree_api_v1_integrations__user_integration_id__sharepoint_tree__get
      parameters:
        - name: user_integration_id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: User Integration Id
        - name: space_id
          in: query
          description: Space ID (for auth routing)
          required: true
          style: form
          explode: true
          schema:
            type: string
            format: uuid
            description: Space ID (for auth routing)
            title: Space Id
        - name: site_id
          in: query
          description: SharePoint site ID (required for SharePoint)
          required: false
          style: form
          explode: true
          schema:
            anyOf:
              - type: string
              - type: 'null'
            description: SharePoint site ID (required for SharePoint)
            title: Site Id
        - name: drive_id
          in: query
          description: Drive ID (required for OneDrive)
          required: false
          style: form
          explode: true
          schema:
            anyOf:
              - type: string
              - type: 'null'
            description: Drive ID (required for OneDrive)
            title: Drive Id
        - name: folder_id
          in: query
          description: Folder ID (null for root)
          required: false
          style: form
          explode: true
          schema:
            anyOf:
              - type: string
              - type: 'null'
            description: Folder ID (null for root)
            title: Folder Id
        - name: folder_path
          in: query
          description: Current folder path
          required: false
          style: form
          explode: true
          schema:
            type: string
            default: ''
            description: Current folder path
            title: Folder Path
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SharePointTreeResponse'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  '/integrations/{integration_id}/':
    get:
      tags:
        - integrations
      summary: Get Integration By Id
      operationId: get_integration_by_id_api_v1_integrations__integration_id___get
      parameters:
        - name: integration_id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Integration Id
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Integration'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  /integrations/sharepoint/webhook/:
    get:
      tags:
        - integrations
      summary: Sharepoint Webhook Validation
      operationId: >-
        sharepoint_webhook_validation_api_v1_integrations_sharepoint_webhook__get
      parameters:
        - name: validationToken
          in: query
          required: false
          style: form
          explode: true
          schema:
            anyOf:
              - type: string
              - type: 'null'
            title: Validationtoken
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema: { }
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - default: [ ]
      x-auth-type: None
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
    post:
      tags:
        - integrations
      summary: Sharepoint Webhook
      operationId: sharepoint_webhook_api_v1_integrations_sharepoint_webhook__post
      parameters:
        - name: validationToken
          in: query
          required: false
          style: form
          explode: true
          schema:
            anyOf:
              - type: string
              - type: 'null'
            title: Validationtoken
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema: { }
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - default: [ ]
      x-auth-type: None
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  /admin/sharepoint/app:
    get:
      tags:
        - admin
      summary: Get tenant SharePoint app configuration
      description: >-
        Retrieve the current SharePoint app configuration for the tenant. Client
        secret is masked in the response. Requires admin role.
      operationId: get_sharepoint_app_api_v1_admin_sharepoint_app_get
      responses:
        '200':
          description: >-
            SharePoint app configuration retrieved (may be null if not
            configured)
          content:
            application/json:
              schema:
                anyOf:
                  - $ref: '#/components/schemas/TenantSharePointAppPublic'
                  - type: 'null'
                title: Response Get Sharepoint App Api V1 Admin Sharepoint App Get
        '401':
          description: Authentication required
        '403':
          description: Admin permissions required
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
    post:
      tags:
        - admin
      summary: Configure tenant SharePoint app
      description: >-
        Configure Azure AD application credentials for organization-wide
        SharePoint access. This eliminates person-dependency for shared and
        organization spaces by using application permissions instead of
        delegated user permissions. Requires admin role.
      operationId: configure_sharepoint_app_api_v1_admin_sharepoint_app_post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TenantSharePointAppCreate'
        required: true
      responses:
        '201':
          description: SharePoint app successfully configured
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TenantSharePointAppPublic'
        '400':
          description: Invalid credentials or configuration
        '401':
          description: Authentication required
        '403':
          description: Admin permissions required
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
    delete:
      tags:
        - admin
      summary: Permanently delete SharePoint app
      description: >-
        Permanently delete the tenant's SharePoint app configuration and all
        associated data. WARNING: This action CANNOT be undone. This will
        cascade delete:

        - All user_integrations using this tenant app (both org and personal)

        - All integration_knowledge (imported SharePoint content)

        - All info_blobs and embeddings (document data and vectors)

        - All sharepoint_subscriptions (webhooks)

        - All oauth_tokens for personal SharePoint integrations

        - All sync_logs


        Assistants linked to this knowledge will lose their connections.

        Requires admin role.
      operationId: delete_sharepoint_app_api_v1_admin_sharepoint_app_delete
      responses:
        '200':
          description: SharePoint app permanently deleted
          content:
            application/json:
              schema:
                type: object
                additionalProperties:
                  type: string
                title: >-
                  Response Delete Sharepoint App Api V1 Admin Sharepoint App
                  Delete
        '401':
          description: Authentication required
        '403':
          description: Admin permissions required
        '404':
          description: No SharePoint app configured
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  /admin/sharepoint/app/test:
    post:
      tags:
        - admin
      summary: Test SharePoint app credentials
      description: >-
        Test if the provided SharePoint app credentials are valid by attempting
        to acquire an access token. This does not save the credentials. Requires
        admin role.
      operationId: test_sharepoint_app_credentials_api_v1_admin_sharepoint_app_test_post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TenantSharePointAppCreate'
        required: true
      responses:
        '200':
          description: Test completed (check success field in response)
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TenantAppTestResult'
        '401':
          description: Authentication required
        '403':
          description: Admin permissions required
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  /admin/sharepoint/subscriptions:
    get:
      tags:
        - admin
      summary: List all SharePoint webhook subscriptions
      description: >-
        Get all SharePoint webhook subscriptions for the tenant. Shows status,
        expiration time, and related integration information. Requires admin
        role.
      operationId: list_sharepoint_subscriptions_api_v1_admin_sharepoint_subscriptions_get
      responses:
        '200':
          description: List of subscriptions retrieved
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/SharePointSubscriptionPublic'
                title: >-
                  Response List Sharepoint Subscriptions Api V1 Admin Sharepoint
                  Subscriptions Get
        '401':
          description: Authentication required
        '403':
          description: Admin permissions required
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  /admin/sharepoint/subscriptions/renew-expired:
    post:
      tags:
        - admin
      summary: Renew all expired SharePoint subscriptions
      description: >-
        Recreate all expired SharePoint webhook subscriptions for the tenant.
        This is useful after server downtime > 24h when subscriptions have
        expired. Preserves all integration relationships - assistants continue
        to work. Requires admin role.
      operationId: >-
        renew_expired_subscriptions_api_v1_admin_sharepoint_subscriptions_renew_expired_post
      responses:
        '200':
          description: Renewal operation completed (check result for details)
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SubscriptionRenewalResult'
        '401':
          description: Authentication required
        '403':
          description: Admin permissions required
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  '/admin/sharepoint/subscriptions/{subscription_id}/recreate':
    post:
      tags:
        - admin
      summary: Recreate a specific SharePoint subscription
      description: >-
        Recreate a specific SharePoint webhook subscription. Useful for targeted
        fixes of expired or problematic subscriptions. Preserves all integration
        relationships. Requires admin role.
      operationId: >-
        recreate_subscription_api_v1_admin_sharepoint_subscriptions__subscription_id__recreate_post
      parameters:
        - name: subscription_id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Subscription Id
      responses:
        '200':
          description: Subscription successfully recreated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SharePointSubscriptionPublic'
        '401':
          description: Authentication required
        '403':
          description: Admin permissions required
        '404':
          description: Subscription not found
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  /admin/sharepoint/service-account/auth/start:
    post:
      tags:
        - admin
      summary: Start service account OAuth flow
      description: >-
        Start the OAuth flow for configuring a service account. Returns an
        authorization URL that the admin should be redirected to. The admin will
        log in with the service account credentials at Microsoft. Requires admin
        role.
      operationId: >-
        start_service_account_auth_api_v1_admin_sharepoint_service_account_auth_start_post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ServiceAccountAuthStart'
        required: true
      responses:
        '200':
          description: OAuth authorization URL generated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServiceAccountAuthStartResponse'
        '401':
          description: Authentication required
        '403':
          description: Admin permissions required
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  /admin/sharepoint/service-account/auth/callback:
    post:
      tags:
        - admin
      summary: Complete service account OAuth flow
      description: >-
        Complete the OAuth flow by exchanging the authorization code for tokens.
        This will configure the service account for the tenant's SharePoint
        access. Requires admin role.
      operationId: >-
        service_account_auth_callback_api_v1_admin_sharepoint_service_account_auth_callback_post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ServiceAccountAuthCallback'
        required: true
      responses:
        '201':
          description: Service account successfully configured
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TenantSharePointAppPublic'
        '400':
          description: Invalid state or auth code
        '401':
          description: Authentication required
        '403':
          description: Admin permissions required
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  /ai-models/:
    get:
      tags:
        - ai-models
      summary: Get all AI models
      description: 'Get all completion, embedding, and transcription models.'
      operationId: get_models_api_v1_ai_models__get
      parameters:
        - name: space_id
          in: query
          description: Optional space ID to provide security classification status.
          required: false
          style: form
          explode: true
          schema:
            anyOf:
              - type: string
                format: uuid
              - type: 'null'
            description: Optional space ID to provide security classification status.
            title: Space Id
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ModelsPresentation'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  '/integrations/auth/{tenant_integration_id}/url/':
    get:
      tags:
        - integrations
      summary: Gen Url
      operationId: gen_url_api_v1_integrations_auth__tenant_integration_id__url__get
      parameters:
        - name: tenant_integration_id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Tenant Integration Id
        - name: state
          in: query
          required: false
          style: form
          explode: true
          schema:
            anyOf:
              - type: string
              - type: 'null'
            title: State
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AuthUrlPublic'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  /integrations/auth/callback/token/:
    post:
      tags:
        - integrations
      summary: On Auth Callback
      operationId: on_auth_callback_api_v1_integrations_auth_callback_token__post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AuthCallbackParams'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserIntegration'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  /sysadmin/users/:
    get:
      tags:
        - sysadmin
      summary: Get All Users
      operationId: get_all_users_api_v1_sysadmin_users__get
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedResponse_UserInDB_'
      security:
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
    post:
      tags:
        - sysadmin
      summary: Register New User
      operationId: register_new_user_api_v1_sysadmin_users__post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UserAddSuperAdmin'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserCreated'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  '/sysadmin/users/{user_id}/':
    get:
      tags:
        - sysadmin
      summary: Get User
      operationId: get_user_api_v1_sysadmin_users__user_id___get
      parameters:
        - name: user_id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: User Id
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserInDB'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
    post:
      tags:
        - sysadmin
      summary: Update User
      description: Omitted fields are not updated.
      operationId: update_user_api_v1_sysadmin_users__user_id___post
      parameters:
        - name: user_id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: User Id
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UserUpdatePublic'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserInDB'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
    delete:
      tags:
        - sysadmin
      summary: Delete User
      operationId: delete_user_api_v1_sysadmin_users__user_id___delete
      parameters:
        - name: user_id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: User Id
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DeleteResponse'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  /sysadmin/tenants/:
    get:
      tags:
        - sysadmin
      summary: Get Tenants
      description: >-
        Get all tenants with masked API credentials.


        Returns tenant information with API keys masked to show only last 4
        characters.

        This prevents exposing full API keys through the API endpoint.


        Args:
            domain: Optional domain filter
            container: Dependency injection container

        Returns:
            Paginated list of tenants with masked credentials
      operationId: get_tenants_api_v1_sysadmin_tenants__get
      parameters:
        - name: domain
          in: query
          required: false
          style: form
          explode: true
          schema:
            anyOf:
              - type: string
              - type: 'null'
            title: Domain
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: >-
                  #/components/schemas/PaginatedResponse_TenantWithMaskedCredentials_
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
    post:
      tags:
        - sysadmin
      summary: Create Tenant
      operationId: create_tenant_api_v1_sysadmin_tenants__post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TenantBase'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TenantWithMaskedCredentials'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  '/sysadmin/tenants/{id}/':
    post:
      tags:
        - sysadmin
      summary: Update Tenant
      operationId: update_tenant_api_v1_sysadmin_tenants__id___post
      parameters:
        - name: id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Id
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TenantUpdatePublic'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TenantWithMaskedCredentials'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
    delete:
      tags:
        - sysadmin
      summary: Delete Tenant By Id
      operationId: delete_tenant_by_id_api_v1_sysadmin_tenants__id___delete
      parameters:
        - name: id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Id
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TenantWithMaskedCredentials'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  /sysadmin/predefined-roles/:
    get:
      tags:
        - sysadmin
      summary: Get Predefined Roles
      operationId: get_predefined_roles_api_v1_sysadmin_predefined_roles__get
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema: { }
      security:
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  /sysadmin/crawl-all-weekly-websites/:
    post:
      tags:
        - sysadmin
      summary: Crawl All Weekly Websites
      operationId: >-
        crawl_all_weekly_websites_api_v1_sysadmin_crawl_all_weekly_websites__post
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema: { }
      security:
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  /sysadmin/observability/oidc-debug/:
    get:
      tags:
        - sysadmin
      summary: Get current OIDC debug toggle status
      description: >-
        Returns whether OIDC debug logging is currently enabled and when it
        expires.
      operationId: get_oidc_debug_status_api_v1_sysadmin_observability_oidc_debug__get
      responses:
        '200':
          description: Current state of the OIDC debug toggle.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OIDCDebugToggleResponse'
        '401':
          description: Missing or invalid super API key.
      security:
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
    post:
      tags:
        - sysadmin
      summary: Enable or disable OIDC debug logging
      description: >-
        Turns verbose OIDC diagnostics on or off for a limited window. Requires
        super API key.
      operationId: toggle_oidc_debug_api_v1_sysadmin_observability_oidc_debug__post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/OIDCDebugToggleRequest'
        required: true
      responses:
        '200':
          description: Debug flag state updated.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OIDCDebugToggleResponse'
        '401':
          description: Missing or invalid super API key.
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  /sysadmin/embedding-models/:
    get:
      tags:
        - sysadmin
      summary: Get Embedding Models
      operationId: get_embedding_models_api_v1_sysadmin_embedding_models__get
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedResponse_EmbeddingModelLegacy_'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
      security:
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  /sysadmin/completion-models/:
    get:
      tags:
        - sysadmin
      summary: Get Completion Models
      operationId: get_completion_models_api_v1_sysadmin_completion_models__get
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedResponse_CompletionModelPublic_'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
      security:
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  '/sysadmin/tenants/{id}/completion-models/{completion_model_id}/':
    post:
      tags:
        - sysadmin
      summary: Enable Completion Model
      operationId: >-
        enable_completion_model_api_v1_sysadmin_tenants__id__completion_models__completion_model_id___post
      parameters:
        - name: id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Id
        - name: completion_model_id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Completion Model Id
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CompletionModelUpdateFlags'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CompletionModelPublic'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  '/sysadmin/tenants/{id}/embedding-models/{embedding_model_id}/':
    post:
      tags:
        - sysadmin
      summary: Enable Embedding Model
      operationId: >-
        enable_embedding_model_api_v1_sysadmin_tenants__id__embedding_models__embedding_model_id___post
      parameters:
        - name: id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Id
        - name: embedding_model_id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Embedding Model Id
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/EmbeddingModelUpdateFlags'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/EmbeddingModelPublicLegacy'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  /sysadmin/allowed-origins/:
    get:
      tags:
        - sysadmin
      summary: Get Origins
      operationId: get_origins_api_v1_sysadmin_allowed_origins__get
      parameters:
        - name: tenant_id
          in: query
          required: false
          style: form
          explode: true
          schema:
            anyOf:
              - type: string
                format: uuid
              - type: 'null'
            title: Tenant Id
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedResponse_AllowedOriginInDB_'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
    post:
      tags:
        - sysadmin
      summary: Add Origin
      operationId: add_origin_api_v1_sysadmin_allowed_origins__post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AllowedOriginCreate'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AllowedOriginInDB'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  '/sysadmin/allowed-origins/{id}/':
    delete:
      tags:
        - sysadmin
      summary: Delete Origin
      operationId: delete_origin_api_v1_sysadmin_allowed_origins__id___delete
      parameters:
        - name: id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Id
      responses:
        '204':
          description: Successful Response
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  '/sysadmin/tenants/{tenant_id}/usage-stats/recalculate':
    post:
      tags:
        - sysadmin
      summary: Recalculate Tenant Usage Statistics
      description: |-
        Recalculate usage statistics for a specific tenant.

        This endpoint is intended for tenant-specific administrative operations,
        such as fixing usage statistics for a particular tenant.
      operationId: >-
        recalculate_tenant_usage_statistics_api_v1_sysadmin_tenants__tenant_id__usage_stats_recalculate_post
      parameters:
        - name: tenant_id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Tenant Id
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema: { }
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  /sysadmin/system/usage-stats/recalculate-all:
    post:
      tags:
        - sysadmin
      summary: Recalculate All Tenants Usage Statistics
      description: |-
        Recalculate usage statistics for all active tenants.

        This endpoint is intended for system-wide administrative operations,
        such as bulk recalculation of usage statistics across all tenants.
      operationId: >-
        recalculate_all_tenants_usage_statistics_api_v1_sysadmin_system_usage_stats_recalculate_all_post
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema: { }
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
      security:
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  '/sysadmin/tenants/{tenant_id}/completion-models/{model_id}/migrate':
    post:
      tags:
        - sysadmin
      summary: Migrate Completion Model For Tenant
      description: |-
        Migrate completion model usage for a specific tenant.

        This endpoint allows system administrators to migrate all usage from one
        completion model to another for a specific tenant. This is useful for:
        - Migrating tenants away from deprecated models
        - Consolidating model usage
        - Fixing model configurations for specific tenants

        Args:
            tenant_id: UUID of the tenant to migrate
            model_id: UUID of the source model to migrate from
            migration_request: Details of the migration (target model, entity types, etc.)
      operationId: >-
        migrate_completion_model_for_tenant_api_v1_sysadmin_tenants__tenant_id__completion_models__model_id__migrate_post
      parameters:
        - name: tenant_id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Tenant Id
        - name: model_id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Model Id
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ModelMigrationRequest'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MigrationResult'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
      security:
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  '/sysadmin/system/completion-models/{model_id}/migrate-all-tenants':
    post:
      tags:
        - sysadmin
      summary: Migrate Completion Model For All Tenants
      description: >-
        Migrate completion model usage for all active tenants.


        This endpoint allows system administrators to migrate all usage from one

        completion model to another across all active tenants. This is useful
        for:

        - Deprecating models system-wide

        - Migrating to newer model versions

        - Consolidating model usage across the entire system


        Args:
            model_id: UUID of the source model to migrate from
            migration_request: Details of the migration (target model, entity types, etc.)
      operationId: >-
        migrate_completion_model_for_all_tenants_api_v1_sysadmin_system_completion_models__model_id__migrate_all_tenants_post
      parameters:
        - name: model_id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Model Id
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ModelMigrationRequest'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                type: object
                additionalProperties: true
                title: >-
                  Response Migrate Completion Model For All Tenants Api V1
                  Sysadmin System Completion Models  Model Id  Migrate All
                  Tenants Post
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
      security:
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  /sysadmin/completion-models/create:
    post:
      tags:
        - sysadmin
      summary: Create Completion Model
      description: |-
        Create a new completion model (system-wide operation).

        Requires: X-API-Key header with INTRIC_SUPER_API_KEY

        This creates the model metadata only. To enable it for a tenant,
        use POST /api/v1/completion-models/{id}/ with tenant credentials.
      operationId: create_completion_model_api_v1_sysadmin_completion_models_create_post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CompletionModelCreate'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CompletionModelSparse'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  '/sysadmin/completion-models/{id}/metadata':
    put:
      tags:
        - sysadmin
      summary: Update Completion Model Metadata
      description: |-
        Update completion model metadata (system-wide operation).

        Requires: X-API-Key header with INTRIC_SUPER_API_KEY

        Updates global model metadata. Does not affect tenant-specific settings.
      operationId: >-
        update_completion_model_metadata_api_v1_sysadmin_completion_models__id__metadata_put
      parameters:
        - name: id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Id
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PartialCompletionModelUpdate'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CompletionModelSparse'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  '/sysadmin/completion-models/{id}':
    delete:
      tags:
        - sysadmin
      summary: Delete Completion Model
      description: |-
        Delete a completion model (system-wide operation).

        Requires: X-API-Key header with INTRIC_SUPER_API_KEY

        WARNING: Deletion affects all tenants. Use with caution.
        Set force=true to delete even if model is in use (may break references).
      operationId: delete_completion_model_api_v1_sysadmin_completion_models__id__delete
      parameters:
        - name: id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Id
        - name: force
          in: query
          description: Force delete even if in use
          required: false
          style: form
          explode: true
          schema:
            type: boolean
            default: false
            description: Force delete even if in use
            title: Force
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema: { }
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  /sysadmin/embedding-models/create:
    post:
      tags:
        - sysadmin
      summary: Create Embedding Model
      description: |-
        Create a new embedding model (system-wide operation).

        Requires: X-API-Key header with INTRIC_SUPER_API_KEY

        This creates the model metadata only. To enable it for a tenant,
        use POST /api/v1/embedding-models/{id}/ with tenant credentials.
      operationId: create_embedding_model_api_v1_sysadmin_embedding_models_create_post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/EmbeddingModelCreate'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/EmbeddingModelSparse'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  '/sysadmin/embedding-models/{id}/metadata':
    put:
      tags:
        - sysadmin
      summary: Update Embedding Model Metadata
      description: |-
        Update embedding model metadata (system-wide operation).

        Requires: X-API-Key header with INTRIC_SUPER_API_KEY

        Updates global model metadata. Does not affect tenant-specific settings.
      operationId: >-
        update_embedding_model_metadata_api_v1_sysadmin_embedding_models__id__metadata_put
      parameters:
        - name: id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Id
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PartialEmbeddingModelUpdate'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/EmbeddingModelSparse'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  '/sysadmin/embedding-models/{id}':
    delete:
      tags:
        - sysadmin
      summary: Delete Embedding Model
      description: |-
        Delete an embedding model (system-wide operation).

        Requires: X-API-Key header with INTRIC_SUPER_API_KEY

        WARNING: Deletion affects all tenants. Use with caution.
      operationId: delete_embedding_model_api_v1_sysadmin_embedding_models__id__delete
      parameters:
        - name: id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Id
        - name: force
          in: query
          description: Force delete even if in use
          required: false
          style: form
          explode: true
          schema:
            type: boolean
            default: false
            description: Force delete even if in use
            title: Force
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema: { }
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  '/sysadmin/tenants/{tenant_id}/credentials/{provider}':
    put:
      tags:
        - sysadmin
      summary: Set tenant API credential
      description: >-
        Set or update API credentials for a specific LLM provider for a tenant.
        System admin only. Provider-specific fields are validated:
        OpenAI/Anthropic require api_key only; vLLM requires api_key and
        endpoint; Azure requires api_key, endpoint, and api_version.
      operationId: >-
        set_tenant_credential_api_v1_sysadmin_tenants__tenant_id__credentials__provider__put
      parameters:
        - name: tenant_id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Tenant Id
        - name: provider
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            enum:
              - openai
              - anthropic
              - azure
              - berget
              - gdm
              - mistral
              - ovhcloud
              - vllm
            title: Provider
      requestBody:
        content:
          application/json:
            schema:
              $ref: >-
                #/components/schemas/intric__tenants__presentation__tenant_credentials_router__SetCredentialRequest
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: >-
                  #/components/schemas/intric__tenants__presentation__tenant_credentials_router__SetCredentialResponse
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
    delete:
      tags:
        - sysadmin
      summary: Delete tenant API credential
      description: >-
        Delete API credentials for a specific LLM provider for a tenant. System
        admin only.
      operationId: >-
        delete_tenant_credential_api_v1_sysadmin_tenants__tenant_id__credentials__provider__delete
      parameters:
        - name: tenant_id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Tenant Id
        - name: provider
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            enum:
              - openai
              - anthropic
              - azure
              - berget
              - gdm
              - mistral
              - ovhcloud
              - vllm
            title: Provider
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DeleteCredentialResponse'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  '/sysadmin/tenants/{tenant_id}/credentials':
    get:
      tags:
        - sysadmin
      summary: List tenant API credentials
      description: >-
        List all configured API credentials for a tenant with masked keys and
        encryption status. Shows last 4 characters of API key for verification
        and encryption state for security auditing. System admin only.
      operationId: >-
        list_tenant_credentials_api_v1_sysadmin_tenants__tenant_id__credentials_get
      parameters:
        - name: tenant_id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Tenant Id
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: >-
                  #/components/schemas/intric__tenants__presentation__tenant_credentials_router__ListCredentialsResponse
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  '/sysadmin/tenants/{tenant_id}/crawler-settings':
    get:
      tags:
        - sysadmin
      summary: Get tenant crawler settings
      description: >-
        Get current crawler settings for a tenant. Returns effective settings
        (tenant overrides merged with environment defaults). System admin only.
      operationId: >-
        get_crawler_settings_api_v1_sysadmin_tenants__tenant_id__crawler_settings_get
      parameters:
        - name: tenant_id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Tenant Id
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CrawlerSettingsResponse'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
    put:
      tags:
        - sysadmin
      summary: Update tenant crawler settings
      description: >-
        Update crawler settings for a specific tenant. Only provided fields are
        updated; missing fields retain previous values. Settings persist across
        server restarts and override environment defaults. System admin only.
      operationId: >-
        update_crawler_settings_api_v1_sysadmin_tenants__tenant_id__crawler_settings_put
      parameters:
        - name: tenant_id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Tenant Id
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CrawlerSettingsUpdate'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CrawlerSettingsResponse'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
    delete:
      tags:
        - sysadmin
      summary: Reset tenant crawler settings
      description: >-
        Delete all tenant-specific crawler settings, reverting to environment
        defaults. System admin only.
      operationId: >-
        delete_crawler_settings_api_v1_sysadmin_tenants__tenant_id__crawler_settings_delete
      parameters:
        - name: tenant_id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Tenant Id
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DeleteSettingsResponse'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  '/sysadmin/tenants/{tenant_id}/federation':
    get:
      tags:
        - sysadmin
      summary: Get tenant federation config
      description: View federation config with masked secrets. System admin only.
      operationId: get_tenant_federation_api_v1_sysadmin_tenants__tenant_id__federation_get
      parameters:
        - name: tenant_id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Tenant Id
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FederationInfo'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
    put:
      tags:
        - sysadmin
      summary: Set tenant federation config
      description: Configure custom identity provider for tenant. System admin only.
      operationId: set_tenant_federation_api_v1_sysadmin_tenants__tenant_id__federation_put
      parameters:
        - name: tenant_id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Tenant Id
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SetFederationRequest'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SetFederationResponse'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
    delete:
      tags:
        - sysadmin
      summary: Delete tenant federation config
      description: Remove custom identity provider for tenant. System admin only.
      operationId: >-
        delete_tenant_federation_api_v1_sysadmin_tenants__tenant_id__federation_delete
      parameters:
        - name: tenant_id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Tenant Id
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DeleteFederationResponse'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  '/sysadmin/tenants/{tenant_id}/federation/test':
    post:
      tags:
        - sysadmin
      summary: Test tenant federation config
      description: Test connection to tenant's IdP. System admin only.
      operationId: >-
        test_tenant_federation_api_v1_sysadmin_tenants__tenant_id__federation_test_post
      parameters:
        - name: tenant_id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Tenant Id
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema: { }
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  /modules/:
    get:
      tags:
        - modules
      summary: Get Modules
      operationId: get_modules_api_v1_modules__get
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedResponse_ModuleInDB_'
      security:
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
    post:
      tags:
        - modules
      summary: Add Module
      operationId: add_module_api_v1_modules__post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ModuleBase'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ModuleInDB'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  '/modules/{tenant_id}/':
    post:
      tags:
        - modules
      summary: Add Module To Tenant
      description: Value is a list of module `id`'s to add to the `tenant_id`.
      operationId: add_module_to_tenant_api_v1_modules__tenant_id___post
      parameters:
        - name: tenant_id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Tenant Id
      requestBody:
        content:
          application/json:
            schema:
              type: array
              items:
                $ref: '#/components/schemas/ModelId'
              title: Module Ids
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TenantInDB'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  /auth/federation-status:
    get:
      tags:
        - authentication
        - authentication
      summary: Check federation configuration status
      description: >-
        Returns federation availability status for the system. Used by login
        page to determine which authentication method to show. No authentication
        required (public endpoint).
      operationId: get_federation_status_api_v1_auth_federation_status_get
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FederationStatusResponse'
      security:
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  /auth/tenants:
    get:
      tags:
        - authentication
        - authentication
      summary: List tenants for selector
      description: >-
        Public endpoint returning all active tenants for the tenant selector
        grid. Only returns tenants with slugs configured for federation. No
        authentication required.
      operationId: list_tenants_api_v1_auth_tenants_get
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TenantListResponse'
      security:
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  /auth/initiate:
    get:
      tags:
        - authentication
        - authentication
      summary: Initiate OIDC authentication
      description: >-
        Get authorization URL for tenant's identity provider. No authentication
        required. Returns URL to redirect user to IdP login page.
      operationId: initiate_auth_api_v1_auth_initiate_get
      parameters:
        - name: tenant
          in: query
          description: 'Tenant slug (required for multi-tenant, optional for single-tenant)'
          required: false
          style: form
          explode: true
          schema:
            anyOf:
              - type: string
              - type: 'null'
            description: >-
              Tenant slug (required for multi-tenant, optional for
              single-tenant)
            title: Tenant
        - name: state
          in: query
          description: Optional frontend-generated CSRF state
          required: false
          style: form
          explode: true
          schema:
            anyOf:
              - type: string
              - type: 'null'
            description: Optional frontend-generated CSRF state
            title: State
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/InitiateAuthResponse'
        '403':
          description: Tenant is not active
        '404':
          description: Tenant not found or not configured
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
        '500':
          description: Federation or redirect configuration missing
      security:
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  /auth/callback:
    post:
      tags:
        - authentication
        - authentication
      summary: OIDC callback handler
      description: >-
        Handle OIDC callback, validate token, lookup user. No authentication
        required (public endpoint). Returns JWT token for authenticated user.
      operationId: auth_callback_api_v1_auth_callback_post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CallbackRequest'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema: { }
        '400':
          description: Invalid or expired state
        '401':
          description: Token validation failed
        '403':
          description: 'Domain not allowed, inactive tenant, or user missing'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  /api-docs:
    get:
      tags:
        - Documentation
      summary: Get OpenAPI specification
      description: >-
        Returns the complete OpenAPI 3.0 specification for this API. Compatible
        with WSO2 API Manager.
      operationId: get_api_documentation_api_v1_api_docs_get
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema: { }
      security:
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  /roles/permissions/:
    get:
      tags:
        - roles
      summary: Get Permissions
      operationId: get_permissions_api_v1_roles_permissions__get
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/PermissionPublic'
                title: Response Get Permissions Api V1 Roles Permissions  Get
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  /roles/:
    get:
      tags:
        - roles
      summary: Get Roles
      operationId: get_roles_api_v1_roles__get
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RolesPaginatedResponse'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
    post:
      tags:
        - roles
      summary: Create Role
      operationId: create_role_api_v1_roles__post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RoleCreateRequest'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RolePublic'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  '/roles/{role_id}/':
    get:
      tags:
        - roles
      summary: Get Role By Id
      operationId: get_role_by_id_api_v1_roles__role_id___get
      parameters:
        - name: role_id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Role Id
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RolePublic'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
    post:
      tags:
        - roles
      summary: Update Role
      operationId: update_role_api_v1_roles__role_id___post
      parameters:
        - name: role_id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Role Id
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RoleUpdateRequest'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RolePublic'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
    delete:
      tags:
        - roles
      summary: Delete Role By Id
      operationId: delete_role_by_id_api_v1_roles__role_id___delete
      parameters:
        - name: role_id
          in: path
          required: true
          style: simple
          explode: false
          schema:
            type: string
            format: uuid
            title: Role Id
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RolePublic'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralError'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - OAuth2PasswordBearer: [ ]
        - APIKeyHeader: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  /api/healthz:
    get:
      summary: Get Healthz
      operationId: get_healthz_api_healthz_get
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema: { }
      security:
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  /api/healthz/crawler:
    get:
      summary: Crawler Health
      description: >-
        Detailed crawler diagnostics. NOT for K8s probes.


        Public endpoint - no auth required. Shows only job counts and tenant
        IDs.


        Args:
            include_all: If True, return all tenant queue lengths instead of top-10.
      operationId: crawler_health_api_healthz_crawler_get
      parameters:
        - name: include_all
          in: query
          required: false
          style: form
          explode: true
          schema:
            type: boolean
            default: false
            title: Include All
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CrawlerHealthResponse'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
  /version:
    get:
      summary: Get Version
      operationId: get_version_version_get
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema: { }
      security:
        - OAuth2PasswordBearer: [ ]
        - default: [ ]
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
          - oauth2
        optional: false
components:
  schemas:
    ARQHealth:
      type: object
      description: Parsed ARQ health metrics (clean view).
      properties:
        heartbeat_ttl_seconds:
          anyOf:
            - type: integer
            - type: 'null'
          title: Heartbeat Ttl Seconds
        age_seconds:
          anyOf:
            - type: number
            - type: 'null'
          title: Age Seconds
        j_complete:
          type: integer
          default: 0
          title: J Complete
        j_failed:
          type: integer
          default: 0
          title: J Failed
        j_retried:
          type: integer
          default: 0
          title: J Retried
        j_ongoing:
          type: integer
          default: 0
          title: J Ongoing
        queued:
          type: integer
          default: 0
          title: Queued
      title: ARQHealth
    AcceptedFileType:
      type: object
      properties:
        mimetype:
          type: string
          title: Mimetype
        size_limit:
          type: integer
          title: Size Limit
      required:
        - mimetype
        - size_limit
      title: AcceptedFileType
    AccessJustificationRequest:
      type: object
      description: Schema for creating audit access session with justification.
      properties:
        category:
          type: string
          description: Justification category
          maxLength: 100
          minLength: 1
          title: Category
        description:
          type: string
          description: Detailed access reason
          maxLength: 500
          minLength: 10
          title: Description
      required:
        - category
        - description
      title: AccessJustificationRequest
    AccessJustificationResponse:
      type: object
      description: Schema for access session creation response.
      properties:
        status:
          type: string
          default: session_created
          description: Status of session creation
          title: Status
        message:
          anyOf:
            - type: string
            - type: 'null'
          description: Additional message if needed
          title: Message
      title: AccessJustificationResponse
    AccessToken:
      type: object
      properties:
        access_token:
          type: string
          title: Access Token
        token_type:
          type: string
          title: Token Type
      required:
        - access_token
        - token_type
      title: AccessToken
    ActionConfig:
      type: object
      description: Configuration for a single action type with metadata for UI display.
      example:
        action: user_created
        category: admin_actions
        description_sv: Loggar nr en ny anvndare skapas
        enabled: true
        name_sv: Anvndare skapad
      properties:
        action:
          type: string
          description: 'Action type value (e.g., ''user_created'')'
          title: Action
        enabled:
          type: boolean
          description: Whether this action is currently enabled
          title: Enabled
        category:
          type: string
          description: Category this action belongs to
          title: Category
        name_sv:
          type: string
          description: Swedish display name
          title: Name Sv
        description_sv:
          type: string
          description: Swedish description
          title: Description Sv
      required:
        - action
        - category
        - description_sv
        - enabled
        - name_sv
      title: ActionConfig
    ActionConfigResponse:
      type: object
      description: |-
        Response model for GET /api/v1/audit/config/actions.
        Contains all 65 actions with their configuration and metadata.
      example:
        actions:
          - action: user_created
            category: admin_actions
            description_sv: Loggar nr en ny anvndare skapas
            enabled: true
            name_sv: Anvndare skapad
          - action: user_deleted
            category: admin_actions
            description_sv: Loggar nr en anvndare tas bort
            enabled: false
            name_sv: Anvndare raderad
      properties:
        actions:
          type: array
          description: List of all actions with configuration and Swedish metadata
          items:
            $ref: '#/components/schemas/ActionConfig'
          title: Actions
      required:
        - actions
      title: ActionConfigResponse
    ActionConfigUpdateRequest:
      type: object
      description: |-
        Request model for PATCH /api/v1/audit/config/actions.
        Allows bulk updates of multiple action overrides.
      example:
        updates:
          - action: user_created
            enabled: false
          - action: user_deleted
            enabled: false
      properties:
        updates:
          type: array
          description: List of action configuration updates
          items:
            $ref: '#/components/schemas/ActionUpdate'
          maxItems: 65
          minItems: 1
          title: Updates
      required:
        - updates
      title: ActionConfigUpdateRequest
    ActionType:
      type: string
      description: Standardized vocabulary of auditable actions
      enum:
        - user_created
        - user_deleted
        - user_updated
        - role_created
        - role_modified
        - role_deleted
        - permission_changed
        - tenant_settings_updated
        - credentials_updated
        - federation_updated
        - api_key_generated
        - module_added
        - module_added_to_tenant
        - assistant_created
        - assistant_deleted
        - assistant_updated
        - assistant_transferred
        - assistant_published
        - space_created
        - space_updated
        - space_deleted
        - space_member_added
        - space_member_removed
        - app_created
        - app_deleted
        - app_updated
        - app_executed
        - app_published
        - app_run_deleted
        - session_started
        - session_ended
        - file_uploaded
        - file_deleted
        - website_created
        - website_updated
        - website_deleted
        - website_crawled
        - website_transferred
        - group_chat_created
        - collection_created
        - collection_updated
        - collection_deleted
        - integration_added
        - integration_removed
        - integration_connected
        - integration_disconnected
        - integration_knowledge_created
        - integration_knowledge_deleted
        - completion_model_updated
        - embedding_model_updated
        - transcription_model_updated
        - template_created
        - template_updated
        - template_deleted
        - security_classification_created
        - security_classification_updated
        - security_classification_deleted
        - security_classification_levels_updated
        - security_classification_enabled
        - security_classification_disabled
        - retention_policy_applied
        - encryption_key_rotated
        - system_maintenance
        - audit_session_created
        - audit_log_viewed
        - audit_log_exported
      title: ActionType
    ActionUpdate:
      type: object
      description: Represents an action-level configuration change request.
      example:
        action: user_created
        enabled: false
      properties:
        action:
          type: string
          description: Action name to update
          title: Action
        enabled:
          type: boolean
          description: New enabled state
          title: Enabled
      required:
        - action
        - enabled
      title: ActionUpdate
    ActorType:
      type: string
      description: Categorize who performed the action
      enum:
        - user
        - system
        - api_key
      title: ActorType
    AddSpaceMemberRequest:
      type: object
      properties:
        id:
          type: string
          format: uuid
          title: Id
        role:
          $ref: '#/components/schemas/SpaceRoleValue'
      required:
        - id
        - role
      title: AddSpaceMemberRequest
    AdditionalField:
      type: object
      properties:
        type:
          $ref: '#/components/schemas/WizardType'
        value:
          type: array
          items:
            type: object
            additionalProperties:
              type: string
              format: uuid
          title: Value
      required:
        - type
        - value
      title: AdditionalField
    AllowedOriginCreate:
      type: object
      properties:
        url:
          type: string
          title: Url
        tenant_id:
          type: string
          format: uuid
          title: Tenant Id
      required:
        - tenant_id
        - url
      title: AllowedOriginCreate
    AllowedOriginInDB:
      type: object
      properties:
        created_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Created At
        updated_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Updated At
        id:
          type: string
          format: uuid
          title: Id
        url:
          type: string
          title: Url
        tenant_id:
          type: string
          format: uuid
          title: Tenant Id
      required:
        - id
        - tenant_id
        - url
      title: AllowedOriginInDB
    AllowedOriginPublic:
      type: object
      properties:
        created_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Created At
        updated_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Updated At
        id:
          type: string
          format: uuid
          title: Id
        url:
          type: string
          title: Url
      required:
        - id
        - url
      title: AllowedOriginPublic
    ApiKey:
      type: object
      properties:
        truncated_key:
          type: string
          title: Truncated Key
        key:
          type: string
          title: Key
      required:
        - key
        - truncated_key
      title: ApiKey
    ApiKeyInDB:
      type: object
      properties:
        truncated_key:
          type: string
          title: Truncated Key
        key:
          type: string
          title: Key
        user_id:
          anyOf:
            - type: string
              format: uuid
            - type: 'null'
          title: User Id
        assistant_id:
          anyOf:
            - type: string
              format: uuid
            - type: 'null'
          title: Assistant Id
      required:
        - assistant_id
        - key
        - truncated_key
        - user_id
      title: ApiKeyInDB
    AppInTemplatePublic:
      type: object
      properties:
        name:
          type: string
          title: Name
        completion_model:
          anyOf:
            - $ref: '#/components/schemas/CompletionModelPublicAppTemplate'
            - type: 'null'
        completion_model_kwargs:
          type: object
          additionalProperties: true
          title: Completion Model Kwargs
        prompt:
          anyOf:
            - $ref: '#/components/schemas/PromptPublicAppTemplate'
            - type: 'null'
        input_description:
          anyOf:
            - type: string
            - type: 'null'
          title: Input Description
        input_type:
          type: string
          title: Input Type
      required:
        - completion_model
        - completion_model_kwargs
        - input_description
        - input_type
        - name
        - prompt
      title: AppInTemplatePublic
    AppPublic:
      type: object
      properties:
        permissions:
          type: array
          default: [ ]
          items:
            $ref: '#/components/schemas/ResourcePermission'
          title: Permissions
        created_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Created At
        updated_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Updated At
        id:
          type: string
          format: uuid
          title: Id
        name:
          type: string
          title: Name
        description:
          anyOf:
            - type: string
            - type: 'null'
          title: Description
        input_fields:
          type: array
          items:
            $ref: '#/components/schemas/InputFieldPublic'
          title: Input Fields
        attachments:
          type: array
          items:
            $ref: '#/components/schemas/FilePublic'
          title: Attachments
        prompt:
          anyOf:
            - $ref: '#/components/schemas/PromptPublic'
            - type: 'null'
        completion_model:
          $ref: '#/components/schemas/CompletionModelSparse'
        completion_model_kwargs:
          $ref: '#/components/schemas/ModelKwargs'
        allowed_attachments:
          $ref: '#/components/schemas/FileRestrictions'
        published:
          type: boolean
          title: Published
        transcription_model:
          $ref: '#/components/schemas/TranscriptionModelPublic'
        data_retention_days:
          anyOf:
            - type: integer
            - type: 'null'
          title: Data Retention Days
        icon_id:
          anyOf:
            - type: string
              format: uuid
            - type: 'null'
          description: Icon ID referencing an uploaded icon
          title: Icon Id
      required:
        - allowed_attachments
        - attachments
        - completion_model
        - completion_model_kwargs
        - description
        - id
        - input_fields
        - name
        - prompt
        - published
        - transcription_model
      title: AppPublic
    AppRunInput:
      type: object
      properties:
        files:
          type: array
          items:
            $ref: '#/components/schemas/FilePublic'
          title: Files
        text:
          anyOf:
            - type: string
            - type: 'null'
          title: Text
      required:
        - files
        - text
      title: AppRunInput
    AppRunPublic:
      type: object
      properties:
        created_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Created At
        updated_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Updated At
        id:
          type: string
          format: uuid
          title: Id
        input:
          $ref: '#/components/schemas/AppRunInput'
        status:
          $ref: '#/components/schemas/Status'
        finished_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Finished At
        user:
          $ref: '#/components/schemas/UserSparse'
        output:
          anyOf:
            - type: string
            - type: 'null'
          title: Output
      required:
        - finished_at
        - id
        - input
        - output
        - status
        - user
      title: AppRunPublic
    AppRunSparse:
      type: object
      properties:
        created_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Created At
        updated_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Updated At
        id:
          type: string
          format: uuid
          title: Id
        input:
          $ref: '#/components/schemas/AppRunInput'
        status:
          $ref: '#/components/schemas/Status'
        finished_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Finished At
        user:
          $ref: '#/components/schemas/UserSparse'
      required:
        - finished_at
        - id
        - input
        - status
        - user
      title: AppRunSparse
    AppSparse:
      type: object
      properties:
        created_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Created At
        updated_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Updated At
        id:
          type: string
          format: uuid
          title: Id
        permissions:
          type: array
          default: [ ]
          items:
            $ref: '#/components/schemas/ResourcePermission'
          title: Permissions
        name:
          type: string
          title: Name
        description:
          anyOf:
            - type: string
            - type: 'null'
          title: Description
        published:
          type: boolean
          title: Published
        user_id:
          type: string
          format: uuid
          title: User Id
        icon_id:
          anyOf:
            - type: string
              format: uuid
            - type: 'null'
          description: Icon ID referencing an uploaded icon
          title: Icon Id
      required:
        - id
        - name
        - published
        - user_id
      title: AppSparse
    AppTemplateAdminCreate:
      type: object
      description: Admin template creation request.
      properties:
        name:
          type: string
          title: Name
        description:
          anyOf:
            - type: string
            - type: 'null'
          title: Description
        category:
          type: string
          title: Category
        prompt:
          anyOf:
            - type: string
            - type: 'null'
          title: Prompt
        completion_model_kwargs:
          anyOf:
            - type: object
              additionalProperties: true
            - type: 'null'
          title: Completion Model Kwargs
        wizard:
          anyOf:
            - $ref: '#/components/schemas/AppTemplateWizard'
            - type: 'null'
        input_type:
          type: string
          title: Input Type
        input_description:
          anyOf:
            - type: string
            - type: 'null'
          title: Input Description
        icon_name:
          anyOf:
            - type: string
            - type: 'null'
          title: Icon Name
      required:
        - category
        - input_type
        - name
      title: AppTemplateAdminCreate
    AppTemplateAdminListPublic:
      type: object
      description: Admin list response.
      properties:
        items:
          type: array
          items:
            $ref: '#/components/schemas/AppTemplateAdminPublic'
          title: Items
        count:
          type: integer
          readOnly: true
          title: Count
      required:
        - count
        - items
      title: AppTemplateAdminListPublic
    AppTemplateAdminPublic:
      type: object
      description: Admin view of template with tenant fields.
      properties:
        id:
          type: string
          format: uuid
          title: Id
        name:
          type: string
          title: Name
        description:
          type: string
          title: Description
        category:
          type: string
          title: Category
        prompt_text:
          anyOf:
            - type: string
            - type: 'null'
          title: Prompt Text
        completion_model_kwargs:
          anyOf:
            - type: object
              additionalProperties: true
            - type: 'null'
          title: Completion Model Kwargs
        completion_model_id:
          anyOf:
            - type: string
              format: uuid
            - type: 'null'
          title: Completion Model Id
        completion_model_name:
          anyOf:
            - type: string
            - type: 'null'
          title: Completion Model Name
        wizard:
          anyOf:
            - $ref: '#/components/schemas/AppTemplateWizard'
            - type: 'null'
        input_type:
          type: string
          title: Input Type
        input_description:
          anyOf:
            - type: string
            - type: 'null'
          title: Input Description
        organization:
          type: string
          title: Organization
        tenant_id:
          type: string
          format: uuid
          title: Tenant Id
        deleted_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Deleted At
        deleted_by_user_id:
          anyOf:
            - type: string
              format: uuid
            - type: 'null'
          title: Deleted By User Id
        restored_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Restored At
        restored_by_user_id:
          anyOf:
            - type: string
              format: uuid
            - type: 'null'
          title: Restored By User Id
        original_snapshot:
          anyOf:
            - type: object
              additionalProperties: true
            - type: 'null'
          title: Original Snapshot
        created_at:
          type: string
          format: date-time
          title: Created At
        updated_at:
          type: string
          format: date-time
          title: Updated At
        usage_count:
          type: integer
          default: 0
          title: Usage Count
        is_default:
          type: boolean
          default: false
          title: Is Default
        icon_name:
          anyOf:
            - type: string
            - type: 'null'
          title: Icon Name
      required:
        - category
        - created_at
        - description
        - id
        - input_type
        - name
        - organization
        - tenant_id
        - updated_at
      title: AppTemplateAdminPublic
    AppTemplateAdminUpdate:
      type: object
      description: Admin template update request (PATCH semantics).
      properties:
        name:
          anyOf:
            - type: string
            - type: 'null'
          title: Name
        description:
          anyOf:
            - type: string
            - type: 'null'
          title: Description
        category:
          anyOf:
            - type: string
            - type: 'null'
          title: Category
        prompt:
          anyOf:
            - type: string
            - type: 'null'
          title: Prompt
        completion_model_kwargs:
          anyOf:
            - type: object
              additionalProperties: true
            - type: 'null'
          title: Completion Model Kwargs
        completion_model_id:
          anyOf:
            - type: string
              format: uuid
            - type: 'null'
          title: Completion Model Id
        wizard:
          anyOf:
            - $ref: '#/components/schemas/AppTemplateWizard'
            - type: 'null'
        input_type:
          anyOf:
            - type: string
            - type: 'null'
          title: Input Type
        input_description:
          anyOf:
            - type: string
            - type: 'null'
          title: Input Description
        icon_name:
          anyOf:
            - type: string
            - type: 'null'
          title: Icon Name
      title: AppTemplateAdminUpdate
    AppTemplateListPublic:
      type: object
      properties:
        items:
          type: array
          items:
            $ref: '#/components/schemas/AppTemplatePublic'
          title: Items
        count:
          type: integer
          description: Number of items returned in the response
          readOnly: true
          title: Count
      required:
        - count
        - items
      title: AppTemplateListPublic
    AppTemplateOrganization:
      type: object
      properties:
        name:
          type: string
          title: Name
      required:
        - name
      title: AppTemplateOrganization
    AppTemplatePublic:
      type: object
      properties:
        id:
          type: string
          format: uuid
          title: Id
        created_at:
          type: string
          format: date-time
          title: Created At
        updated_at:
          type: string
          format: date-time
          title: Updated At
        name:
          type: string
          title: Name
        description:
          anyOf:
            - type: string
            - type: 'null'
          title: Description
        category:
          type: string
          title: Category
        app:
          $ref: '#/components/schemas/AppInTemplatePublic'
        type:
          type: string
          const: app
          title: Type
        wizard:
          $ref: '#/components/schemas/AppTemplateWizard'
        organization:
          $ref: '#/components/schemas/AppTemplateOrganization'
        is_default:
          type: boolean
          default: false
          title: Is Default
        icon_name:
          anyOf:
            - type: string
            - type: 'null'
          title: Icon Name
      required:
        - app
        - category
        - created_at
        - description
        - id
        - name
        - organization
        - type
        - updated_at
        - wizard
      title: AppTemplatePublic
    AppTemplateToggleDefaultRequest:
      type: object
      description: Request to toggle template as default/featured.
      properties:
        is_default:
          type: boolean
          title: Is Default
      required:
        - is_default
      title: AppTemplateToggleDefaultRequest
    AppTemplateWizard:
      type: object
      properties:
        attachments:
          anyOf:
            - $ref: '#/components/schemas/TemplateWizard'
            - type: 'null'
        collections:
          anyOf:
            - $ref: '#/components/schemas/TemplateWizard'
            - type: 'null'
      required:
        - attachments
        - collections
      title: AppTemplateWizard
    AppUpdateRequest:
      type: object
      properties:
        name:
          anyOf:
            - type: string
            - type: 'null'
          title: Name
        description:
          anyOf:
            - type: string
            - type: 'null'
          title: Description
        input_fields:
          anyOf:
            - type: array
              items:
                $ref: '#/components/schemas/InputField'
            - type: 'null'
          title: Input Fields
        attachments:
          anyOf:
            - type: array
              items:
                $ref: '#/components/schemas/ModelId'
            - type: 'null'
          title: Attachments
        prompt:
          anyOf:
            - $ref: '#/components/schemas/PromptCreate'
            - type: 'null'
        completion_model:
          anyOf:
            - $ref: '#/components/schemas/ModelId'
            - type: 'null'
        completion_model_kwargs:
          anyOf:
            - $ref: '#/components/schemas/ModelKwargs'
            - type: 'null'
        transcription_model:
          anyOf:
            - $ref: '#/components/schemas/ModelId'
            - type: 'null'
        data_retention_days:
          anyOf:
            - type: integer
            - type: 'null'
          title: Data Retention Days
        icon_id:
          anyOf:
            - type: string
              format: uuid
            - type: 'null'
          description: Icon ID referencing an uploaded icon. Set to null to remove.
          title: Icon Id
      title: AppUpdateRequest
    Applications:
      type: object
      properties:
        assistants:
          $ref: '#/components/schemas/PaginatedPermissions_AssistantSparse_'
        group_chats:
          $ref: '#/components/schemas/PaginatedPermissions_GroupChatSparse_'
        services:
          $ref: '#/components/schemas/PaginatedPermissions_ServiceSparse_'
        apps:
          $ref: '#/components/schemas/PaginatedPermissions_AppSparse_'
      required:
        - apps
        - assistants
        - group_chats
        - services
      title: Applications
    AskAnalysis:
      type: object
      properties:
        question:
          type: string
          title: Question
        completion_model_id:
          anyOf:
            - type: string
              format: uuid
            - type: 'null'
          title: Completion Model Id
        stream:
          type: boolean
          default: false
          title: Stream
      required:
        - question
      title: AskAnalysis
    AskAssistant:
      type: object
      properties:
        question:
          type: string
          title: Question
        session_id:
          anyOf:
            - type: string
              format: uuid
            - type: 'null'
          title: Session Id
        files:
          type: array
          default: [ ]
          items:
            $ref: '#/components/schemas/ModelId'
          maxItems: 20
          title: Files
        stream:
          type: boolean
          default: false
          title: Stream
        tools:
          anyOf:
            - $ref: '#/components/schemas/UseTools'
            - type: 'null'
      required:
        - question
      title: AskAssistant
    AskResponse:
      type: object
      properties:
        session_id:
          type: string
          format: uuid
          title: Session Id
        question:
          type: string
          title: Question
        answer:
          type: string
          title: Answer
        files:
          type: array
          items:
            $ref: '#/components/schemas/FilePublic'
          title: Files
        generated_files:
          type: array
          items:
            $ref: '#/components/schemas/FilePublic'
          title: Generated Files
        references:
          type: array
          items:
            $ref: '#/components/schemas/InfoBlobAskAssistantPublic'
          title: References
        tools:
          $ref: '#/components/schemas/UseTools'
        web_search_references:
          type: array
          items:
            $ref: '#/components/schemas/WebSearchResultPublic'
          title: Web Search References
        model:
          anyOf:
            - $ref: '#/components/schemas/CompletionModelPublic'
            - type: 'null'
      required:
        - answer
        - files
        - generated_files
        - question
        - references
        - session_id
        - tools
        - web_search_references
      title: AskResponse
    AssistantCreatePublic:
      type: object
      properties:
        name:
          type: string
          title: Name
        completion_model_kwargs:
          anyOf:
            - $ref: '#/components/schemas/ModelKwargs'
            - type: 'null'
          deprecated: true
          description: This field is deprecated and will be ignored
        logging_enabled:
          anyOf:
            - type: boolean
            - type: 'null'
          deprecated: true
          description: This field is deprecated and will be ignored
          title: Logging Enabled
        space_id:
          type: string
          format: uuid
          title: Space Id
        prompt:
          anyOf:
            - $ref: '#/components/schemas/PromptCreate'
            - type: 'null'
          deprecated: true
          description: This field is deprecated and will be ignored
        groups:
          type: array
          default: [ ]
          deprecated: true
          description: This field is deprecated and will be ignored
          items:
            $ref: '#/components/schemas/ModelId'
          title: Groups
        websites:
          type: array
          default: [ ]
          deprecated: true
          description: This field is deprecated and will be ignored
          items:
            $ref: '#/components/schemas/ModelId'
          title: Websites
        integration_knowledge_list:
          type: array
          default: [ ]
          deprecated: true
          description: This field is deprecated and will be ignored
          items:
            $ref: '#/components/schemas/ModelId'
          title: Integration Knowledge List
        guardrail:
          anyOf:
            - $ref: '#/components/schemas/AssistantGuard'
            - type: 'null'
          deprecated: true
          description: This field is deprecated and will be ignored
        completion_model:
          anyOf:
            - $ref: '#/components/schemas/ModelId'
            - type: 'null'
          deprecated: true
          description: This field is deprecated and will be ignored
      required:
        - name
        - space_id
      title: AssistantCreatePublic
    AssistantGuard:
      type: object
      properties:
        guardrail_active:
          type: boolean
          default: true
          title: Guardrail Active
        guardrail_string:
          type: string
          default: ''
          title: Guardrail String
        on_fail_message:
          type: string
          default: Jag kan tyvrr inte svara p det. Frga grna ngot annat!
          title: On Fail Message
      title: AssistantGuard
    AssistantInTemplatePublic:
      type: object
      properties:
        name:
          type: string
          title: Name
        completion_model:
          anyOf:
            - $ref: '#/components/schemas/CompletionModelPublicAssistantTemplate'
            - type: 'null'
        completion_model_kwargs:
          type: object
          additionalProperties: true
          title: Completion Model Kwargs
        prompt:
          anyOf:
            - $ref: '#/components/schemas/PromptPublicAssistantTemplate'
            - type: 'null'
      required:
        - completion_model
        - name
        - prompt
      title: AssistantInTemplatePublic
    AssistantMetadata:
      type: object
      properties:
        id:
          type: string
          format: uuid
          title: Id
        created_at:
          type: string
          format: date-time
          title: Created At
      required:
        - created_at
        - id
      title: AssistantMetadata
    AssistantPublic:
      type: object
      properties:
        permissions:
          type: array
          default: [ ]
          items:
            $ref: '#/components/schemas/ResourcePermission'
          title: Permissions
        created_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Created At
        updated_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Updated At
        id:
          type: string
          format: uuid
          title: Id
        name:
          type: string
          title: Name
        prompt:
          anyOf:
            - $ref: '#/components/schemas/PromptPublic'
            - type: 'null'
        space_id:
          type: string
          format: uuid
          title: Space Id
        completion_model_kwargs:
          $ref: '#/components/schemas/ModelKwargs'
        logging_enabled:
          type: boolean
          title: Logging Enabled
        attachments:
          type: array
          items:
            $ref: '#/components/schemas/FilePublic'
          title: Attachments
        allowed_attachments:
          $ref: '#/components/schemas/FileRestrictions'
        groups:
          type: array
          items:
            $ref: '#/components/schemas/CollectionPublic'
          title: Groups
        websites:
          type: array
          items:
            $ref: '#/components/schemas/WebsitePublic'
          title: Websites
        integration_knowledge_list:
          type: array
          items:
            $ref: '#/components/schemas/IntegrationKnowledgePublic'
          title: Integration Knowledge List
        completion_model:
          $ref: '#/components/schemas/CompletionModelSparse'
        published:
          type: boolean
          default: false
          title: Published
        user:
          $ref: '#/components/schemas/UserSparse'
        tools:
          $ref: '#/components/schemas/UseTools'
        type:
          $ref: '#/components/schemas/AssistantType'
        model_info:
          anyOf:
            - $ref: '#/components/schemas/ModelInfo'
            - type: 'null'
        description:
          anyOf:
            - type: string
            - type: 'null'
          description: >-
            A description of the assitant that will be used as default
            description in GroupChatAssistantPublic
          example: This is a helpful AI assistant
          title: Description
        icon_id:
          anyOf:
            - type: string
              format: uuid
            - type: 'null'
          description: Icon ID referencing an uploaded icon
          title: Icon Id
        insight_enabled:
          type: boolean
          description: >-
            Whether insights are enabled for this assistant. If enabled, users
            with appropriate permissions can see all sessions for this
            assistant.
          title: Insight Enabled
        data_retention_days:
          anyOf:
            - type: integer
            - type: 'null'
          description: Number of days to retain data for this assistant
          title: Data Retention Days
        metadata_json:
          anyOf:
            - type: object
              additionalProperties: true
            - type: 'null'
          description: Metadata for the assistant
          title: Metadata Json
      required:
        - allowed_attachments
        - attachments
        - completion_model
        - completion_model_kwargs
        - groups
        - id
        - insight_enabled
        - integration_knowledge_list
        - logging_enabled
        - name
        - space_id
        - tools
        - type
        - user
        - websites
      title: AssistantPublic
    AssistantSparse:
      type: object
      properties:
        created_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Created At
        updated_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Updated At
        id:
          type: string
          format: uuid
          title: Id
        name:
          type: string
          title: Name
        completion_model_kwargs:
          $ref: '#/components/schemas/ModelKwargs'
        logging_enabled:
          type: boolean
          default: false
          title: Logging Enabled
        permissions:
          type: array
          default: [ ]
          items:
            $ref: '#/components/schemas/ResourcePermission'
          title: Permissions
        user_id:
          type: string
          format: uuid
          title: User Id
        published:
          type: boolean
          default: false
          title: Published
        description:
          anyOf:
            - type: string
            - type: 'null'
          title: Description
        metadata_json:
          anyOf:
            - type: object
              additionalProperties: true
            - type: 'null'
          description: Metadata for the assistant
          title: Metadata Json
        type:
          $ref: '#/components/schemas/AssistantType'
        icon_id:
          anyOf:
            - type: string
              format: uuid
            - type: 'null'
          description: Icon ID referencing an uploaded icon
          title: Icon Id
      required:
        - id
        - name
        - type
        - user_id
      title: AssistantSparse
    AssistantTemplateAdminCreate:
      type: object
      description: Admin template creation request.
      properties:
        name:
          type: string
          maxLength: 255
          minLength: 1
          title: Name
        description:
          anyOf:
            - type: string
              maxLength: 2000
            - type: 'null'
          title: Description
        category:
          type: string
          maxLength: 100
          minLength: 1
          title: Category
        prompt:
          anyOf:
            - type: string
            - type: 'null'
          title: Prompt
        completion_model_kwargs:
          anyOf:
            - type: object
              additionalProperties: true
            - type: 'null'
          title: Completion Model Kwargs
        wizard:
          anyOf:
            - $ref: '#/components/schemas/AssistantTemplateWizard'
            - type: 'null'
        icon_name:
          anyOf:
            - type: string
              maxLength: 100
            - type: 'null'
          title: Icon Name
      required:
        - category
        - name
      title: AssistantTemplateAdminCreate
    AssistantTemplateAdminListPublic:
      type: object
      description: Admin list response.
      properties:
        items:
          type: array
          items:
            $ref: '#/components/schemas/AssistantTemplateAdminPublic'
          title: Items
        count:
          type: integer
          readOnly: true
          title: Count
      required:
        - count
        - items
      title: AssistantTemplateAdminListPublic
    AssistantTemplateAdminPublic:
      type: object
      description: Admin view of template with tenant fields.
      properties:
        id:
          type: string
          format: uuid
          title: Id
        name:
          type: string
          title: Name
        description:
          type: string
          title: Description
        category:
          type: string
          title: Category
        prompt_text:
          anyOf:
            - type: string
            - type: 'null'
          title: Prompt Text
        completion_model_kwargs:
          anyOf:
            - type: object
              additionalProperties: true
            - type: 'null'
          title: Completion Model Kwargs
        completion_model_id:
          anyOf:
            - type: string
              format: uuid
            - type: 'null'
          title: Completion Model Id
        completion_model_name:
          anyOf:
            - type: string
            - type: 'null'
          title: Completion Model Name
        wizard:
          anyOf:
            - $ref: '#/components/schemas/AssistantTemplateWizard'
            - type: 'null'
        organization:
          type: string
          title: Organization
        tenant_id:
          type: string
          format: uuid
          title: Tenant Id
        deleted_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Deleted At
        deleted_by_user_id:
          anyOf:
            - type: string
              format: uuid
            - type: 'null'
          title: Deleted By User Id
        restored_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Restored At
        restored_by_user_id:
          anyOf:
            - type: string
              format: uuid
            - type: 'null'
          title: Restored By User Id
        original_snapshot:
          anyOf:
            - type: object
              additionalProperties: true
            - type: 'null'
          title: Original Snapshot
        created_at:
          type: string
          format: date-time
          title: Created At
        updated_at:
          type: string
          format: date-time
          title: Updated At
        usage_count:
          type: integer
          default: 0
          title: Usage Count
        is_default:
          type: boolean
          default: false
          title: Is Default
        icon_name:
          anyOf:
            - type: string
            - type: 'null'
          title: Icon Name
      required:
        - category
        - created_at
        - description
        - id
        - name
        - organization
        - tenant_id
        - updated_at
      title: AssistantTemplateAdminPublic
    AssistantTemplateAdminUpdate:
      type: object
      description: Admin template update request (PATCH semantics).
      properties:
        name:
          anyOf:
            - type: string
              maxLength: 255
              minLength: 1
            - type: 'null'
          title: Name
        description:
          anyOf:
            - type: string
              maxLength: 2000
              minLength: 1
            - type: 'null'
          title: Description
        category:
          anyOf:
            - type: string
              maxLength: 100
              minLength: 1
            - type: 'null'
          title: Category
        prompt:
          anyOf:
            - type: string
            - type: 'null'
          title: Prompt
        completion_model_kwargs:
          anyOf:
            - type: object
              additionalProperties: true
            - type: 'null'
          title: Completion Model Kwargs
        completion_model_id:
          anyOf:
            - type: string
              format: uuid
            - type: 'null'
          title: Completion Model Id
        wizard:
          anyOf:
            - $ref: '#/components/schemas/AssistantTemplateWizard'
            - type: 'null'
        icon_name:
          anyOf:
            - type: string
              maxLength: 100
            - type: 'null'
          title: Icon Name
      title: AssistantTemplateAdminUpdate
    AssistantTemplateListPublic:
      type: object
      properties:
        items:
          type: array
          items:
            $ref: '#/components/schemas/AssistantTemplatePublic'
          title: Items
        count:
          type: integer
          description: Number of items returned in the response
          readOnly: true
          title: Count
      required:
        - count
        - items
      title: AssistantTemplateListPublic
    AssistantTemplateOrganization:
      type: object
      properties:
        name:
          type: string
          title: Name
      required:
        - name
      title: AssistantTemplateOrganization
    AssistantTemplatePublic:
      type: object
      properties:
        id:
          type: string
          format: uuid
          title: Id
        created_at:
          type: string
          format: date-time
          title: Created At
        updated_at:
          type: string
          format: date-time
          title: Updated At
        name:
          type: string
          title: Name
        description:
          type: string
          title: Description
        category:
          type: string
          title: Category
        assistant:
          $ref: '#/components/schemas/AssistantInTemplatePublic'
        type:
          type: string
          const: assistant
          title: Type
        wizard:
          $ref: '#/components/schemas/AssistantTemplateWizard'
        organization:
          $ref: '#/components/schemas/AssistantTemplateOrganization'
        is_default:
          type: boolean
          default: false
          title: Is Default
        icon_name:
          anyOf:
            - type: string
            - type: 'null'
          title: Icon Name
      required:
        - assistant
        - category
        - created_at
        - description
        - id
        - name
        - organization
        - type
        - updated_at
        - wizard
      title: AssistantTemplatePublic
    AssistantTemplateToggleDefaultRequest:
      type: object
      description: Request to toggle template as default/featured.
      properties:
        is_default:
          type: boolean
          title: Is Default
      required:
        - is_default
      title: AssistantTemplateToggleDefaultRequest
    AssistantTemplateWizard:
      type: object
      properties:
        attachments:
          anyOf:
            - $ref: '#/components/schemas/TemplateWizard'
            - type: 'null'
        collections:
          anyOf:
            - $ref: '#/components/schemas/TemplateWizard'
            - type: 'null'
      required:
        - attachments
        - collections
      title: AssistantTemplateWizard
    AssistantType:
      type: string
      enum:
        - assistant
        - default-assistant
      title: AssistantType
    AttachmentLimits:
      type: object
      properties:
        formats:
          type: array
          items:
            $ref: '#/components/schemas/FormatLimit'
          title: Formats
        max_in_question:
          type: integer
          title: Max In Question
      required:
        - formats
        - max_in_question
      title: AttachmentLimits
    AuditConfigResponse:
      type: object
      description: |-
        Response model for GET /api/v1/audit/config.
        Contains all 7 categories with metadata.
      example:
        categories:
          - action_count: 13
            category: admin_actions
            description: 'User management, role changes, API keys, tenant settings'
            enabled: true
            example_actions:
              - USER_CREATED
              - ROLE_DELETED
              - API_KEY_GENERATED
          - action_count: 28
            category: user_actions
            description: 'Assistant, space, app operations, templates, model configs'
            enabled: true
            example_actions:
              - ASSISTANT_CREATED
              - SPACE_DELETED
              - APP_EXECUTED
      properties:
        categories:
          type: array
          description: List of all audit categories with configuration and metadata
          items:
            $ref: '#/components/schemas/CategoryConfig'
          title: Categories
      required:
        - categories
      title: AuditConfigResponse
    AuditConfigUpdateRequest:
      type: object
      description: |-
        Request model for PATCH /api/v1/audit/config.
        Allows bulk updates of multiple categories.
      example:
        updates:
          - category: admin_actions
            enabled: false
          - category: file_operations
            enabled: false
      properties:
        updates:
          type: array
          description: List of category configuration updates
          items:
            $ref: '#/components/schemas/CategoryUpdate'
          maxItems: 7
          minItems: 1
          title: Updates
      required:
        - updates
      title: AuditConfigUpdateRequest
    AuditLogListResponse:
      type: object
      description: Schema for audit log list response.
      properties:
        logs:
          type: array
          items:
            $ref: '#/components/schemas/AuditLogResponse'
          title: Logs
        total_count:
          type: integer
          title: Total Count
        page:
          type: integer
          title: Page
        page_size:
          type: integer
          title: Page Size
        total_pages:
          type: integer
          title: Total Pages
      required:
        - logs
        - page
        - page_size
        - total_count
        - total_pages
      title: AuditLogListResponse
    AuditLogResponse:
      type: object
      description: Schema for audit log response.
      properties:
        id:
          type: string
          format: uuid
          title: Id
        tenant_id:
          type: string
          format: uuid
          title: Tenant Id
        actor_id:
          anyOf:
            - type: string
              format: uuid
            - type: 'null'
          title: Actor Id
        actor_type:
          $ref: '#/components/schemas/ActorType'
        action:
          $ref: '#/components/schemas/ActionType'
        entity_type:
          $ref: '#/components/schemas/EntityType'
        entity_id:
          type: string
          format: uuid
          title: Entity Id
        timestamp:
          type: string
          format: date-time
          title: Timestamp
        description:
          type: string
          title: Description
        metadata:
          type: object
          additionalProperties: true
          title: Metadata
        outcome:
          $ref: '#/components/schemas/Outcome'
        ip_address:
          anyOf:
            - type: string
            - type: 'null'
          title: Ip Address
        user_agent:
          anyOf:
            - type: string
            - type: 'null'
          title: User Agent
        request_id:
          anyOf:
            - type: string
              format: uuid
            - type: 'null'
          title: Request Id
        error_message:
          anyOf:
            - type: string
            - type: 'null'
          title: Error Message
        deleted_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Deleted At
        created_at:
          type: string
          format: date-time
          title: Created At
        updated_at:
          type: string
          format: date-time
          title: Updated At
      required:
        - action
        - actor_type
        - created_at
        - description
        - entity_id
        - entity_type
        - id
        - metadata
        - outcome
        - tenant_id
        - timestamp
        - updated_at
      title: AuditLogResponse
    AuthCallbackParams:
      type: object
      properties:
        auth_code:
          type: string
          title: Auth Code
        tenant_integration_id:
          type: string
          format: uuid
          title: Tenant Integration Id
      required:
        - auth_code
        - tenant_integration_id
      title: AuthCallbackParams
    AuthUrlPublic:
      type: object
      properties:
        auth_url:
          type: string
          title: Auth Url
      required:
        - auth_url
      title: AuthUrlPublic
    Body_Login_api_v1_users_login_token__post:
      type: object
      properties:
        grant_type:
          anyOf:
            - type: string
              pattern: password
            - type: 'null'
          title: Grant Type
        username:
          type: string
          title: Username
        password:
          type: string
          title: Password
        scope:
          type: string
          default: ''
          title: Scope
        client_id:
          anyOf:
            - type: string
            - type: 'null'
          title: Client Id
        client_secret:
          anyOf:
            - type: string
            - type: 'null'
          title: Client Secret
      required:
        - password
        - username
      title: Body_Login_api_v1_users_login_token__post
    Body_create_icon_api_v1_icons__post:
      type: object
      properties:
        file:
          type: string
          format: binary
          title: File
      required:
        - file
      title: Body_create_icon_api_v1_icons__post
    Body_upload_file_api_v1_files__post:
      type: object
      properties:
        upload_file:
          type: string
          format: binary
          title: Upload File
      required:
        - upload_file
      title: Body_upload_file_api_v1_files__post
    Body_upload_file_api_v1_groups__id__info_blobs_upload__post:
      type: object
      properties:
        file:
          type: string
          format: binary
          title: File
      required:
        - file
      title: Body_upload_file_api_v1_groups__id__info_blobs_upload__post
    BulkCrawlRequest:
      type: object
      description: Request model for triggering crawls on multiple websites.
      properties:
        website_ids:
          type: array
          items:
            type: string
            format: uuid
          title: Website Ids
      required:
        - website_ids
      title: BulkCrawlRequest
    BulkCrawlResponse:
      type: object
      description: Response model for bulk crawl operations.
      properties:
        total:
          type: integer
          title: Total
        queued:
          type: integer
          title: Queued
        failed:
          type: integer
          title: Failed
        crawl_runs:
          type: array
          items:
            $ref: >-
              #/components/schemas/intric__websites__presentation__website_models__CrawlRunPublic
          title: Crawl Runs
        errors:
          type: array
          items:
            type: object
            additionalProperties:
              type: string
          title: Errors
      required:
        - crawl_runs
        - errors
        - failed
        - queued
        - total
      title: BulkCrawlResponse
    CallbackRequest:
      type: object
      description: OIDC callback with authorization code.
      example:
        code: authorization_code_from_idp
        state: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
      properties:
        code:
          type: string
          title: Code
        state:
          type: string
          title: State
        code_verifier:
          anyOf:
            - type: string
            - type: 'null'
          title: Code Verifier
      required:
        - code
        - state
      title: CallbackRequest
    CategoryConfig:
      type: object
      description: Enriched category configuration with metadata for API responses.
      example:
        action_count: 13
        category: admin_actions
        description: 'User management, role changes, API keys, tenant settings'
        enabled: true
        example_actions:
          - USER_CREATED
          - ROLE_DELETED
          - API_KEY_GENERATED
      properties:
        category:
          type: string
          description: 'Category name (e.g., ''admin_actions'')'
          title: Category
        enabled:
          type: boolean
          description: Whether category is currently enabled
          title: Enabled
        description:
          type: string
          description: Human-readable description of category
          title: Description
        action_count:
          type: integer
          description: Number of action types in this category
          title: Action Count
        example_actions:
          type: array
          description: Sample action types (max 3) for UI display
          items:
            type: string
          title: Example Actions
      required:
        - action_count
        - category
        - description
        - enabled
        - example_actions
      title: CategoryConfig
    CategoryUpdate:
      type: object
      description: Represents a category configuration change request.
      example:
        category: admin_actions
        enabled: false
      properties:
        category:
          type: string
          description: Category name to update
          title: Category
        enabled:
          type: boolean
          description: New enabled state
          title: Enabled
      required:
        - category
        - enabled
      title: CategoryUpdate
    CollectionMetadata:
      type: object
      properties:
        num_info_blobs:
          type: integer
          title: Num Info Blobs
        size:
          type: integer
          title: Size
      required:
        - num_info_blobs
        - size
      title: CollectionMetadata
    CollectionPublic:
      type: object
      properties:
        created_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Created At
        updated_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Updated At
        id:
          type: string
          format: uuid
          title: Id
        permissions:
          type: array
          default: [ ]
          items:
            $ref: '#/components/schemas/ResourcePermission'
          title: Permissions
        name:
          type: string
          title: Name
        embedding_model:
          $ref: '#/components/schemas/EmbeddingModelPublic'
        metadata:
          $ref: '#/components/schemas/CollectionMetadata'
        space_id:
          type: string
          format: uuid
          title: Space Id
      required:
        - embedding_model
        - id
        - metadata
        - name
        - space_id
      title: CollectionPublic
    CollectionUpdate:
      type: object
      properties:
        name:
          type: string
          title: Name
      required:
        - name
      title: CollectionUpdate
    CompletionModel:
      type: object
      properties:
        created_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Created At
        updated_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Updated At
        id:
          type: string
          format: uuid
          title: Id
        name:
          type: string
          title: Name
        nickname:
          type: string
          title: Nickname
        family:
          $ref: '#/components/schemas/ModelFamily'
        token_limit:
          type: integer
          title: Token Limit
        is_deprecated:
          type: boolean
          title: Is Deprecated
        nr_billion_parameters:
          anyOf:
            - type: integer
            - type: 'null'
          title: Nr Billion Parameters
        hf_link:
          anyOf:
            - type: string
            - type: 'null'
          title: Hf Link
        stability:
          $ref: '#/components/schemas/ModelStability'
        hosting:
          $ref: '#/components/schemas/ModelHostingLocation'
        open_source:
          anyOf:
            - type: boolean
            - type: 'null'
          title: Open Source
        description:
          anyOf:
            - type: string
            - type: 'null'
          title: Description
        deployment_name:
          anyOf:
            - type: string
            - type: 'null'
          title: Deployment Name
        org:
          anyOf:
            - $ref: '#/components/schemas/ModelOrg'
            - type: 'null'
        vision:
          type: boolean
          title: Vision
        reasoning:
          type: boolean
          title: Reasoning
        base_url:
          anyOf:
            - type: string
            - type: 'null'
          title: Base Url
        litellm_model_name:
          anyOf:
            - type: string
            - type: 'null'
          title: Litellm Model Name
        is_org_enabled:
          type: boolean
          default: false
          title: Is Org Enabled
        is_org_default:
          type: boolean
          default: false
          title: Is Org Default
      required:
        - family
        - hosting
        - id
        - is_deprecated
        - name
        - nickname
        - reasoning
        - stability
        - token_limit
        - vision
      title: CompletionModel
    CompletionModelCreate:
      type: object
      properties:
        name:
          type: string
          title: Name
        nickname:
          type: string
          title: Nickname
        family:
          $ref: '#/components/schemas/ModelFamily'
        token_limit:
          type: integer
          title: Token Limit
        is_deprecated:
          type: boolean
          title: Is Deprecated
        nr_billion_parameters:
          anyOf:
            - type: integer
            - type: 'null'
          title: Nr Billion Parameters
        hf_link:
          anyOf:
            - type: string
            - type: 'null'
          title: Hf Link
        stability:
          $ref: '#/components/schemas/ModelStability'
        hosting:
          $ref: '#/components/schemas/ModelHostingLocation'
        open_source:
          anyOf:
            - type: boolean
            - type: 'null'
          title: Open Source
        description:
          anyOf:
            - type: string
            - type: 'null'
          title: Description
        deployment_name:
          anyOf:
            - type: string
            - type: 'null'
          title: Deployment Name
        org:
          anyOf:
            - $ref: '#/components/schemas/ModelOrg'
            - type: 'null'
        vision:
          type: boolean
          title: Vision
        reasoning:
          type: boolean
          title: Reasoning
        base_url:
          anyOf:
            - type: string
            - type: 'null'
          title: Base Url
        litellm_model_name:
          anyOf:
            - type: string
            - type: 'null'
          title: Litellm Model Name
      required:
        - family
        - hosting
        - is_deprecated
        - name
        - nickname
        - reasoning
        - stability
        - token_limit
        - vision
      title: CompletionModelCreate
    CompletionModelPublic:
      type: object
      properties:
        created_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Created At
        updated_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Updated At
        id:
          type: string
          format: uuid
          title: Id
        name:
          type: string
          title: Name
        nickname:
          type: string
          title: Nickname
        family:
          $ref: '#/components/schemas/ModelFamily'
        token_limit:
          type: integer
          title: Token Limit
        is_deprecated:
          type: boolean
          title: Is Deprecated
        nr_billion_parameters:
          anyOf:
            - type: integer
            - type: 'null'
          title: Nr Billion Parameters
        hf_link:
          anyOf:
            - type: string
            - type: 'null'
          title: Hf Link
        stability:
          $ref: '#/components/schemas/ModelStability'
        hosting:
          $ref: '#/components/schemas/ModelHostingLocation'
        open_source:
          anyOf:
            - type: boolean
            - type: 'null'
          title: Open Source
        description:
          anyOf:
            - type: string
            - type: 'null'
          title: Description
        deployment_name:
          anyOf:
            - type: string
            - type: 'null'
          title: Deployment Name
        org:
          anyOf:
            - $ref: '#/components/schemas/ModelOrg'
            - type: 'null'
        vision:
          type: boolean
          title: Vision
        reasoning:
          type: boolean
          title: Reasoning
        base_url:
          anyOf:
            - type: string
            - type: 'null'
          title: Base Url
        litellm_model_name:
          anyOf:
            - type: string
            - type: 'null'
          title: Litellm Model Name
        is_org_enabled:
          type: boolean
          default: false
          title: Is Org Enabled
        is_org_default:
          type: boolean
          default: false
          title: Is Org Default
        can_access:
          type: boolean
          default: false
          title: Can Access
        is_locked:
          type: boolean
          default: true
          title: Is Locked
        lock_reason:
          anyOf:
            - type: string
            - type: 'null'
          title: Lock Reason
        credential_provider:
          anyOf:
            - type: string
            - type: 'null'
          title: Credential Provider
        security_classification:
          anyOf:
            - $ref: '#/components/schemas/SecurityClassificationPublic'
            - type: 'null'
      required:
        - family
        - hosting
        - id
        - is_deprecated
        - name
        - nickname
        - reasoning
        - stability
        - token_limit
        - vision
      title: CompletionModelPublic
    CompletionModelPublicAppTemplate:
      type: object
      properties:
        id:
          type: string
          format: uuid
          title: Id
      required:
        - id
      title: CompletionModelPublicAppTemplate
    CompletionModelPublicAssistantTemplate:
      type: object
      properties:
        id:
          type: string
          format: uuid
          title: Id
      required:
        - id
      title: CompletionModelPublicAssistantTemplate
    CompletionModelSecurityStatus:
      type: object
      properties:
        created_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Created At
        updated_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Updated At
        id:
          type: string
          format: uuid
          title: Id
        name:
          type: string
          title: Name
        nickname:
          type: string
          title: Nickname
        family:
          $ref: '#/components/schemas/ModelFamily'
        token_limit:
          type: integer
          title: Token Limit
        is_deprecated:
          type: boolean
          title: Is Deprecated
        nr_billion_parameters:
          anyOf:
            - type: integer
            - type: 'null'
          title: Nr Billion Parameters
        hf_link:
          anyOf:
            - type: string
            - type: 'null'
          title: Hf Link
        stability:
          $ref: '#/components/schemas/ModelStability'
        hosting:
          $ref: '#/components/schemas/ModelHostingLocation'
        open_source:
          anyOf:
            - type: boolean
            - type: 'null'
          title: Open Source
        description:
          anyOf:
            - type: string
            - type: 'null'
          title: Description
        deployment_name:
          anyOf:
            - type: string
            - type: 'null'
          title: Deployment Name
        org:
          anyOf:
            - $ref: '#/components/schemas/ModelOrg'
            - type: 'null'
        vision:
          type: boolean
          title: Vision
        reasoning:
          type: boolean
          title: Reasoning
        base_url:
          anyOf:
            - type: string
            - type: 'null'
          title: Base Url
        litellm_model_name:
          anyOf:
            - type: string
            - type: 'null'
          title: Litellm Model Name
        is_org_enabled:
          type: boolean
          default: false
          title: Is Org Enabled
        is_org_default:
          type: boolean
          default: false
          title: Is Org Default
        can_access:
          type: boolean
          default: false
          title: Can Access
        is_locked:
          type: boolean
          default: true
          title: Is Locked
        lock_reason:
          anyOf:
            - type: string
            - type: 'null'
          title: Lock Reason
        credential_provider:
          anyOf:
            - type: string
            - type: 'null'
          title: Credential Provider
        security_classification:
          anyOf:
            - $ref: '#/components/schemas/SecurityClassificationPublic'
            - type: 'null'
        meets_security_classification:
          anyOf:
            - type: boolean
            - type: 'null'
          title: Meets Security Classification
      required:
        - family
        - hosting
        - id
        - is_deprecated
        - name
        - nickname
        - reasoning
        - stability
        - token_limit
        - vision
      title: CompletionModelSecurityStatus
    CompletionModelSparse:
      type: object
      properties:
        created_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Created At
        updated_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Updated At
        id:
          type: string
          format: uuid
          title: Id
        name:
          type: string
          title: Name
        nickname:
          type: string
          title: Nickname
        family:
          $ref: '#/components/schemas/ModelFamily'
        token_limit:
          type: integer
          title: Token Limit
        is_deprecated:
          type: boolean
          title: Is Deprecated
        nr_billion_parameters:
          anyOf:
            - type: integer
            - type: 'null'
          title: Nr Billion Parameters
        hf_link:
          anyOf:
            - type: string
            - type: 'null'
          title: Hf Link
        stability:
          $ref: '#/components/schemas/ModelStability'
        hosting:
          $ref: '#/components/schemas/ModelHostingLocation'
        open_source:
          anyOf:
            - type: boolean
            - type: 'null'
          title: Open Source
        description:
          anyOf:
            - type: string
            - type: 'null'
          title: Description
        deployment_name:
          anyOf:
            - type: string
            - type: 'null'
          title: Deployment Name
        org:
          anyOf:
            - $ref: '#/components/schemas/ModelOrg'
            - type: 'null'
        vision:
          type: boolean
          title: Vision
        reasoning:
          type: boolean
          title: Reasoning
        base_url:
          anyOf:
            - type: string
            - type: 'null'
          title: Base Url
        litellm_model_name:
          anyOf:
            - type: string
            - type: 'null'
          title: Litellm Model Name
      required:
        - family
        - hosting
        - id
        - is_deprecated
        - name
        - nickname
        - reasoning
        - stability
        - token_limit
        - vision
      title: CompletionModelSparse
    CompletionModelUpdateFlags:
      type: object
      properties:
        is_org_enabled:
          anyOf:
            - type: boolean
            - type: 'null'
          title: Is Org Enabled
        is_org_default:
          anyOf:
            - type: boolean
            - type: 'null'
          title: Is Org Default
        security_classification:
          anyOf:
            - $ref: '#/components/schemas/ModelId'
            - type: 'null'
          title: Security Classification
      title: CompletionModelUpdateFlags
    ContentDisposition:
      type: string
      enum:
        - attachment
        - inline
      title: ContentDisposition
    ConversationInsightResponse:
      type: object
      properties:
        total_conversations:
          type: integer
          title: Total Conversations
        total_questions:
          type: integer
          title: Total Questions
      required:
        - total_conversations
        - total_questions
      title: ConversationInsightResponse
    ConversationRequest:
      type: object
      description: >-
        A unified model for asking questions to either assistants or group
        chats.


        Either session_id, assistant_id, or group_chat_id must be provided.

        If session_id is provided, the conversation will continue with the
        existing session.


        For group chats:

        - If tools.assistants contains an assistant, that specific assistant
        will be targeted
          (requires the group chat to have allow_mentions=True).
        - If no assistant is targeted, the most appropriate assistant will be
        selected.
      properties:
        question:
          type: string
          title: Question
        session_id:
          anyOf:
            - type: string
              format: uuid
            - type: 'null'
          title: Session Id
        assistant_id:
          anyOf:
            - type: string
              format: uuid
            - type: 'null'
          title: Assistant Id
        group_chat_id:
          anyOf:
            - type: string
              format: uuid
            - type: 'null'
          title: Group Chat Id
        files:
          type: array
          default: [ ]
          items:
            $ref: '#/components/schemas/ModelId'
          maxItems: 20
          title: Files
        stream:
          type: boolean
          default: false
          title: Stream
        tools:
          anyOf:
            - $ref: '#/components/schemas/UseTools'
            - type: 'null'
        use_web_search:
          type: boolean
          default: false
          title: Use Web Search
      required:
        - question
      title: ConversationRequest
    Counts:
      type: object
      properties:
        assistants:
          type: integer
          title: Assistants
        sessions:
          type: integer
          title: Sessions
        questions:
          type: integer
          title: Questions
      required:
        - assistants
        - questions
        - sessions
      title: Counts
    CrawlType:
      type: string
      enum:
        - crawl
        - sitemap
      title: CrawlType
    CrawlerActivity:
      type: object
      description: Real-time crawler activity from multiple sources.
      properties:
        db_in_progress:
          anyOf:
            - type: integer
            - type: 'null'
          title: Db In Progress
        db_query_ok:
          type: boolean
          default: true
          title: Db Query Ok
        arq_ongoing:
          type: integer
          default: 0
          title: Arq Ongoing
        delta:
          anyOf:
            - type: integer
            - type: 'null'
          title: Delta
      title: CrawlerActivity
    CrawlerHealthResponse:
      type: object
      description: Crawler health status with operator-friendly signals.
      properties:
        status:
          type: string
          title: Status
        status_flags:
          type: array
          default: [ ]
          items:
            type: string
          title: Status Flags
        status_reason:
          type: string
          default: ''
          title: Status Reason
        response_timestamp_utc:
          type: string
          title: Response Timestamp Utc
        crawler_activity:
          $ref: '#/components/schemas/CrawlerActivity'
          default:
            db_query_ok: true
            arq_ongoing: 0
        arq:
          $ref: '#/components/schemas/ARQHealth'
          default:
            j_complete: 0
            j_failed: 0
            j_retried: 0
            j_ongoing: 0
            queued: 0
        watchdog:
          $ref: '#/components/schemas/WatchdogMetrics'
          default:
            zombies_reconciled: 0
            expired_killed: 0
            rescued: 0
            early_zombies_failed: 0
            long_running_failed: 0
            slots_released: 0
        feeder:
          $ref: '#/components/schemas/FeederLeader'
          default:
            status: UNKNOWN
        pending:
          $ref: '#/components/schemas/PendingQueueSummary'
          default:
            total: 0
            tenant_count: 0
            top_tenants: { }
        thresholds:
          $ref: '#/components/schemas/HealthThresholds'
        debug:
          $ref: '#/components/schemas/DebugInfo'
          default:
            arq_raw: ''
            queue_name: 'arq:queue'
      required:
        - response_timestamp_utc
        - status
        - thresholds
      title: CrawlerHealthResponse
    CrawlerSettingsResponse:
      type: object
      description: |-
        Response model for crawler settings operations.

        Returns current settings merged with environment defaults.
        Tenant overrides are highlighted.

        Example:
            {
                "tenant_id": "123e4567-e89b-12d3-a456-426614174000",
                "settings": {
                    "crawl_max_length": 14400,
                    "download_timeout": 90,
                    "download_max_size": 10485760,
                    "dns_timeout": 30,
                    "retry_times": 2,
                    "closespider_itemcount": 20000,
                    "obey_robots": true,
                    "autothrottle_enabled": true,
                    "tenant_worker_concurrency_limit": 4,
                    "crawl_stale_threshold_minutes": 30,
                    "crawl_heartbeat_interval_seconds": 300,
                    "crawl_feeder_enabled": false,
                    "crawl_feeder_interval_seconds": 10,
                    "crawl_feeder_batch_size": 10,
                    "crawl_job_max_age_seconds": 1800
                },
                "overrides": ["download_timeout", "dns_timeout"],
                "updated_at": "2025-10-22T10:00:00+00:00"
            }
      properties:
        tenant_id:
          type: string
          format: uuid
          description: Tenant UUID
          title: Tenant Id
        settings:
          type: object
          additionalProperties: true
          description: Current effective settings (tenant overrides + env defaults)
          examples:
            - autothrottle_enabled: true
              closespider_itemcount: 20000
              crawl_feeder_batch_size: 10
              crawl_feeder_enabled: false
              crawl_feeder_interval_seconds: 10
              crawl_heartbeat_interval_seconds: 300
              crawl_job_max_age_seconds: 1800
              crawl_max_length: 14400
              crawl_stale_threshold_minutes: 30
              dns_timeout: 30
              download_max_size: 10485760
              download_timeout: 90
              obey_robots: true
              retry_times: 2
              tenant_worker_concurrency_limit: 4
          title: Settings
        overrides:
          type: array
          description: List of setting keys that have tenant-specific overrides
          examples:
            - - download_timeout
              - dns_timeout
          items:
            type: string
          title: Overrides
        updated_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          description: Timestamp of last settings update
          title: Updated At
      required:
        - overrides
        - settings
        - tenant_id
      title: CrawlerSettingsResponse
    CrawlerSettingsUpdate:
      type: object
      description: >-
        Request model for updating tenant crawler settings.


        All fields are optional - only provided fields will be updated.

        Missing fields retain their previous values or fall back to environment
        defaults.


        Field constraints are derived from CRAWLER_SETTING_SPECS (single source
        of truth).


        Example - Full configuration:
            {
                "crawl_max_length": 14400,
                "download_timeout": 90,
                "download_max_size": 10485760,
                "dns_timeout": 30,
                "retry_times": 2,
                "closespider_itemcount": 20000,
                "obey_robots": true,
                "autothrottle_enabled": true,
                "tenant_worker_concurrency_limit": 4,
                "crawl_stale_threshold_minutes": 30,
                "crawl_heartbeat_interval_seconds": 300,
                "crawl_feeder_enabled": false,
                "crawl_feeder_interval_seconds": 10,
                "crawl_feeder_batch_size": 10,
                "crawl_job_max_age_seconds": 1800
            }

        Example - Partial update (adjust timeouts only):
            {
                "download_timeout": 120,
                "dns_timeout": 45
            }
      properties:
        crawl_max_length:
          anyOf:
            - type: integer
              maximum: 86400
              minimum: 60
            - type: 'null'
          description: Maximum crawl duration in seconds (1 min to 24 hours)
          examples:
            - 14400
          title: Crawl Max Length
        download_timeout:
          anyOf:
            - type: integer
              maximum: 300
              minimum: 10
            - type: 'null'
          description: Per-request download timeout in seconds (10s to 5 min)
          examples:
            - 90
          title: Download Timeout
        download_max_size:
          anyOf:
            - type: integer
              maximum: 1073741824
              minimum: 1048576
            - type: 'null'
          description: Maximum file size for crawler downloads in bytes (1MB to 1GB)
          examples:
            - 10485760
          title: Download Max Size
        dns_timeout:
          anyOf:
            - type: integer
              maximum: 120
              minimum: 5
            - type: 'null'
          description: DNS resolution timeout in seconds (5s to 2 min)
          examples:
            - 30
          title: Dns Timeout
        retry_times:
          anyOf:
            - type: integer
              maximum: 10
              minimum: 0
            - type: 'null'
          description: Number of retry attempts per request (0 to 10)
          examples:
            - 2
          title: Retry Times
        closespider_itemcount:
          anyOf:
            - type: integer
              maximum: 100000
              minimum: 100
            - type: 'null'
          description: Maximum pages to crawl before stopping (100 to 100k)
          examples:
            - 20000
          title: Closespider Itemcount
        obey_robots:
          anyOf:
            - type: boolean
            - type: 'null'
          description: Whether to respect robots.txt rules
          examples:
            - true
          title: Obey Robots
        autothrottle_enabled:
          anyOf:
            - type: boolean
            - type: 'null'
          description: Enable automatic request throttling based on server response times
          examples:
            - true
          title: Autothrottle Enabled
        tenant_worker_concurrency_limit:
          anyOf:
            - type: integer
              maximum: 50
              minimum: 0
            - type: 'null'
          description: 'Maximum concurrent crawl jobs per tenant (0 = unlimited, 1 to 50)'
          examples:
            - 4
          title: Tenant Worker Concurrency Limit
        crawl_stale_threshold_minutes:
          anyOf:
            - type: integer
              maximum: 1440
              minimum: 5
            - type: 'null'
          description: >-
            Minutes without activity before IN_PROGRESS job is considered stale
            (5 min to 24 hours)
          examples:
            - 30
          title: Crawl Stale Threshold Minutes
        crawl_heartbeat_interval_seconds:
          anyOf:
            - type: integer
              maximum: 3600
              minimum: 30
            - type: 'null'
          description: Heartbeat interval to signal job is alive (30s to 1 hour)
          examples:
            - 300
          title: Crawl Heartbeat Interval Seconds
        crawl_feeder_enabled:
          anyOf:
            - type: boolean
            - type: 'null'
          description: Enable crawl feeder service for rate-limited job enqueueing
          examples:
            - false
          title: Crawl Feeder Enabled
        crawl_feeder_interval_seconds:
          anyOf:
            - type: integer
              maximum: 300
              minimum: 5
            - type: 'null'
          description: Feeder check interval in seconds (5s to 5 min)
          examples:
            - 10
          title: Crawl Feeder Interval Seconds
        crawl_feeder_batch_size:
          anyOf:
            - type: integer
              maximum: 100
              minimum: 1
            - type: 'null'
          description: Maximum jobs to enqueue per feeder cycle per tenant (1 to 100)
          examples:
            - 10
          title: Crawl Feeder Batch Size
        crawl_job_max_age_seconds:
          anyOf:
            - type: integer
              maximum: 7200
              minimum: 300
            - type: 'null'
          description: Maximum job retry age before permanent failure (5 min to 2 hours)
          examples:
            - 1800
          title: Crawl Job Max Age Seconds
      title: CrawlerSettingsUpdate
    CreateGroupRequest:
      type: object
      properties:
        name:
          type: string
          title: Name
        embedding_model:
          $ref: '#/components/schemas/ModelId'
      required:
        - embedding_model
        - name
      title: CreateGroupRequest
    CreateSpaceAppRequest:
      type: object
      properties:
        name:
          type: string
          title: Name
        from_template:
          anyOf:
            - $ref: '#/components/schemas/TemplateCreate'
            - type: 'null'
      required:
        - name
      title: CreateSpaceAppRequest
    CreateSpaceAssistantRequest:
      type: object
      properties:
        name:
          type: string
          title: Name
        from_template:
          anyOf:
            - $ref: '#/components/schemas/TemplateCreate'
            - type: 'null'
      required:
        - name
      title: CreateSpaceAssistantRequest
    CreateSpaceGroupsRequest:
      type: object
      properties:
        name:
          type: string
          title: Name
        embedding_model:
          anyOf:
            - $ref: '#/components/schemas/ModelId'
            - type: 'null'
      required:
        - name
      title: CreateSpaceGroupsRequest
    CreateSpaceIntegrationKnowledge:
      type: object
      properties:
        name:
          type: string
          title: Name
        embedding_model:
          $ref: '#/components/schemas/ModelId'
        url:
          type: string
          title: Url
        key:
          anyOf:
            - type: string
            - type: 'null'
          title: Key
        folder_id:
          anyOf:
            - type: string
            - type: 'null'
          title: Folder Id
        folder_path:
          anyOf:
            - type: string
            - type: 'null'
          title: Folder Path
        selected_item_type:
          anyOf:
            - type: string
            - type: 'null'
          title: Selected Item Type
        resource_type:
          anyOf:
            - type: string
            - type: 'null'
          default: site
          title: Resource Type
      required:
        - embedding_model
        - name
        - url
      title: CreateSpaceIntegrationKnowledge
    CreateSpaceRequest:
      type: object
      properties:
        name:
          type: string
          title: Name
      required:
        - name
      title: CreateSpaceRequest
    CreateSpaceServiceRequest:
      type: object
      properties:
        name:
          type: string
          title: Name
      required:
        - name
      title: CreateSpaceServiceRequest
    CreateSpaceServiceResponse:
      type: object
      properties:
        permissions:
          type: array
          default: [ ]
          items:
            $ref: '#/components/schemas/ResourcePermission'
          title: Permissions
        created_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Created At
        updated_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Updated At
        id:
          type: string
          format: uuid
          title: Id
        name:
          type: string
          title: Name
        prompt:
          type: string
          title: Prompt
        completion_model_kwargs:
          $ref: '#/components/schemas/ModelKwargs'
        output_format:
          anyOf:
            - type: string
              enum:
                - json
                - list
                - boolean
            - type: 'null'
          title: Output Format
        json_schema:
          anyOf:
            - type: object
              additionalProperties: true
            - type: 'null'
          title: Json Schema
        groups:
          type: array
          items:
            $ref: '#/components/schemas/GroupPublicWithMetadata'
          title: Groups
        completion_model:
          anyOf:
            - $ref: '#/components/schemas/CompletionModelSparse'
            - type: 'null'
        published:
          type: boolean
          default: false
          title: Published
        user:
          $ref: '#/components/schemas/UserSparse'
      required:
        - completion_model
        - completion_model_kwargs
        - groups
        - id
        - name
        - prompt
        - user
      title: CreateSpaceServiceResponse
    CursorPaginatedResponse_SessionMetadataPublic_:
      type: object
      properties:
        items:
          type: array
          description: List of items returned in the response
          items:
            $ref: '#/components/schemas/SessionMetadataPublic'
          title: Items
        limit:
          anyOf:
            - type: integer
            - type: 'null'
          title: Limit
        next_cursor:
          anyOf:
            - type: string
              format: date-time
            - type: string
            - type: 'null'
          title: Next Cursor
        previous_cursor:
          anyOf:
            - type: string
              format: date-time
            - type: string
            - type: 'null'
          title: Previous Cursor
        total_count:
          type: integer
          title: Total Count
        count:
          type: integer
          description: Number of items returned in the response
          readOnly: true
          title: Count
      required:
        - count
        - items
        - total_count
      title: 'CursorPaginatedResponse[SessionMetadataPublic]'
    CursorPaginatedResponse_UserSparse_:
      type: object
      properties:
        items:
          type: array
          description: List of items returned in the response
          items:
            $ref: '#/components/schemas/UserSparse'
          title: Items
        limit:
          anyOf:
            - type: integer
            - type: 'null'
          title: Limit
        next_cursor:
          anyOf:
            - type: string
              format: date-time
            - type: string
            - type: 'null'
          title: Next Cursor
        previous_cursor:
          anyOf:
            - type: string
              format: date-time
            - type: string
            - type: 'null'
          title: Previous Cursor
        total_count:
          type: integer
          title: Total Count
        count:
          type: integer
          description: Number of items returned in the response
          readOnly: true
          title: Count
      required:
        - count
        - items
        - total_count
      title: 'CursorPaginatedResponse[UserSparse]'
    Dashboard:
      type: object
      properties:
        spaces:
          $ref: '#/components/schemas/PaginatedResponse_SpaceDashboard_'
      required:
        - spaces
      title: Dashboard
    DebugInfo:
      type: object
      description: 'Raw data for debugging - noisy, not for quick reads.'
      properties:
        arq_raw:
          type: string
          default: ''
          title: Arq Raw
        arq_timestamp:
          anyOf:
            - type: string
            - type: 'null'
          title: Arq Timestamp
        watchdog_timestamp:
          anyOf:
            - type: string
            - type: 'null'
          title: Watchdog Timestamp
        redis_db:
          anyOf:
            - type: integer
            - type: 'null'
          title: Redis Db
        queue_name:
          type: string
          default: 'arq:queue'
          title: Queue Name
      title: DebugInfo
    DefaultAssistant:
      type: object
      properties:
        permissions:
          type: array
          default: [ ]
          items:
            $ref: '#/components/schemas/ResourcePermission'
          title: Permissions
        created_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Created At
        updated_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Updated At
        id:
          type: string
          format: uuid
          title: Id
        name:
          type: string
          title: Name
        prompt:
          anyOf:
            - $ref: '#/components/schemas/PromptPublic'
            - type: 'null'
        space_id:
          type: string
          format: uuid
          title: Space Id
        completion_model_kwargs:
          $ref: '#/components/schemas/ModelKwargs'
        logging_enabled:
          type: boolean
          title: Logging Enabled
        attachments:
          type: array
          items:
            $ref: '#/components/schemas/FilePublic'
          title: Attachments
        allowed_attachments:
          $ref: '#/components/schemas/FileRestrictions'
        groups:
          type: array
          items:
            $ref: '#/components/schemas/CollectionPublic'
          title: Groups
        websites:
          type: array
          items:
            $ref: '#/components/schemas/WebsitePublic'
          title: Websites
        integration_knowledge_list:
          type: array
          items:
            $ref: '#/components/schemas/IntegrationKnowledgePublic'
          title: Integration Knowledge List
        completion_model:
          anyOf:
            - $ref: '#/components/schemas/CompletionModelSparse'
            - type: 'null'
        published:
          type: boolean
          default: false
          title: Published
        user:
          $ref: '#/components/schemas/UserSparse'
        tools:
          $ref: '#/components/schemas/UseTools'
        type:
          $ref: '#/components/schemas/AssistantType'
        model_info:
          anyOf:
            - $ref: '#/components/schemas/ModelInfo'
            - type: 'null'
        description:
          anyOf:
            - type: string
            - type: 'null'
          description: >-
            A description of the assitant that will be used as default
            description in GroupChatAssistantPublic
          example: This is a helpful AI assistant
          title: Description
        icon_id:
          anyOf:
            - type: string
              format: uuid
            - type: 'null'
          description: Icon ID referencing an uploaded icon
          title: Icon Id
        insight_enabled:
          type: boolean
          default: false
          title: Insight Enabled
        data_retention_days:
          anyOf:
            - type: integer
            - type: 'null'
          description: Number of days to retain data for this assistant
          title: Data Retention Days
        metadata_json:
          anyOf:
            - type: object
              additionalProperties: true
            - type: 'null'
          description: Metadata for the assistant
          title: Metadata Json
      required:
        - allowed_attachments
        - attachments
        - completion_model_kwargs
        - groups
        - id
        - integration_knowledge_list
        - logging_enabled
        - name
        - space_id
        - tools
        - type
        - user
        - websites
      title: DefaultAssistant
    DeleteCredentialResponse:
      type: object
      description: |-
        Response model for deleting tenant API credentials.

        Example:
            {
                "tenant_id": "123e4567-e89b-12d3-a456-426614174000",
                "provider": "anthropic",
                "message": "API credential for anthropic deleted successfully"
            }
      properties:
        tenant_id:
          type: string
          format: uuid
          title: Tenant Id
        provider:
          type: string
          title: Provider
        message:
          type: string
          title: Message
      required:
        - message
        - provider
        - tenant_id
      title: DeleteCredentialResponse
    DeleteFederationResponse:
      type: object
      description: Response model for deleting federation config.
      properties:
        tenant_id:
          type: string
          format: uuid
          title: Tenant Id
        message:
          type: string
          title: Message
      required:
        - message
        - tenant_id
      title: DeleteFederationResponse
    DeleteResponse:
      type: object
      properties:
        success:
          type: boolean
          title: Success
      required:
        - success
      title: DeleteResponse
    DeleteSettingsResponse:
      type: object
      description: |-
        Response model for deleting tenant crawler settings.

        Example:
            {
                "tenant_id": "123e4567-e89b-12d3-a456-426614174000",
                "message": "Crawler settings reset to defaults",
                "deleted_keys": ["download_timeout", "dns_timeout"]
            }
      properties:
        tenant_id:
          type: string
          format: uuid
          description: Tenant UUID
          title: Tenant Id
        message:
          type: string
          description: Confirmation message
          title: Message
        deleted_keys:
          type: array
          description: List of setting keys that were removed
          items:
            type: string
          title: Deleted Keys
      required:
        - deleted_keys
        - message
        - tenant_id
      title: DeleteSettingsResponse
    EmbeddingModelCreate:
      type: object
      properties:
        name:
          type: string
          title: Name
        family:
          $ref: '#/components/schemas/EmbeddingModelFamily'
        is_deprecated:
          type: boolean
          title: Is Deprecated
        open_source:
          type: boolean
          title: Open Source
        dimensions:
          anyOf:
            - type: integer
            - type: 'null'
          title: Dimensions
        max_input:
          anyOf:
            - type: integer
            - type: 'null'
          title: Max Input
        max_batch_size:
          anyOf:
            - type: integer
            - type: 'null'
          title: Max Batch Size
        hf_link:
          anyOf:
            - type: string
            - type: 'null'
          title: Hf Link
        stability:
          $ref: '#/components/schemas/ModelStability'
        hosting:
          $ref: '#/components/schemas/ModelHostingLocation'
        description:
          anyOf:
            - type: string
            - type: 'null'
          title: Description
        org:
          anyOf:
            - $ref: '#/components/schemas/ModelOrg'
            - type: 'null'
        litellm_model_name:
          anyOf:
            - type: string
            - type: 'null'
          title: Litellm Model Name
      required:
        - family
        - hosting
        - is_deprecated
        - name
        - open_source
        - stability
      title: EmbeddingModelCreate
    EmbeddingModelFamily:
      type: string
      enum:
        - openai
        - mini_lm
        - e5
      title: EmbeddingModelFamily
    EmbeddingModelLegacy:
      type: object
      properties:
        created_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Created At
        updated_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Updated At
        id:
          type: string
          format: uuid
          title: Id
        name:
          type: string
          title: Name
        family:
          $ref: '#/components/schemas/EmbeddingModelFamily'
        is_deprecated:
          type: boolean
          title: Is Deprecated
        open_source:
          type: boolean
          title: Open Source
        dimensions:
          anyOf:
            - type: integer
            - type: 'null'
          title: Dimensions
        max_input:
          anyOf:
            - type: integer
            - type: 'null'
          title: Max Input
        max_batch_size:
          anyOf:
            - type: integer
            - type: 'null'
          title: Max Batch Size
        hf_link:
          anyOf:
            - type: string
            - type: 'null'
          title: Hf Link
        stability:
          $ref: '#/components/schemas/ModelStability'
        hosting:
          $ref: '#/components/schemas/ModelHostingLocation'
        description:
          anyOf:
            - type: string
            - type: 'null'
          title: Description
        org:
          anyOf:
            - $ref: '#/components/schemas/ModelOrg'
            - type: 'null'
        litellm_model_name:
          anyOf:
            - type: string
            - type: 'null'
          title: Litellm Model Name
        is_org_enabled:
          type: boolean
          default: false
          title: Is Org Enabled
      required:
        - family
        - hosting
        - id
        - is_deprecated
        - name
        - open_source
        - stability
      title: EmbeddingModelLegacy
    EmbeddingModelPublic:
      type: object
      properties:
        created_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Created At
        updated_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Updated At
        id:
          type: string
          format: uuid
          title: Id
        name:
          type: string
          title: Name
        family:
          $ref: '#/components/schemas/ModelFamily'
        is_deprecated:
          type: boolean
          title: Is Deprecated
        open_source:
          type: boolean
          title: Open Source
        dimensions:
          anyOf:
            - type: integer
            - type: 'null'
          title: Dimensions
        max_input:
          anyOf:
            - type: integer
            - type: 'null'
          title: Max Input
        hf_link:
          anyOf:
            - type: string
            - type: 'null'
          title: Hf Link
        stability:
          $ref: '#/components/schemas/ModelStability'
        hosting:
          $ref: '#/components/schemas/ModelHostingLocation'
        description:
          anyOf:
            - type: string
            - type: 'null'
          title: Description
        org:
          anyOf:
            - $ref: '#/components/schemas/ModelOrg'
            - type: 'null'
        litellm_model_name:
          anyOf:
            - type: string
            - type: 'null'
          title: Litellm Model Name
        can_access:
          type: boolean
          default: false
          title: Can Access
        is_locked:
          type: boolean
          default: true
          title: Is Locked
        lock_reason:
          anyOf:
            - type: string
            - type: 'null'
          title: Lock Reason
        is_org_enabled:
          type: boolean
          default: false
          title: Is Org Enabled
        credential_provider:
          anyOf:
            - type: string
            - type: 'null'
          title: Credential Provider
        security_classification:
          anyOf:
            - $ref: '#/components/schemas/SecurityClassificationPublic'
            - type: 'null'
      required:
        - family
        - hosting
        - id
        - is_deprecated
        - name
        - open_source
        - stability
      title: EmbeddingModelPublic
    EmbeddingModelPublicLegacy:
      type: object
      properties:
        created_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Created At
        updated_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Updated At
        id:
          type: string
          format: uuid
          title: Id
        name:
          type: string
          title: Name
        family:
          $ref: '#/components/schemas/EmbeddingModelFamily'
        is_deprecated:
          type: boolean
          title: Is Deprecated
        open_source:
          type: boolean
          title: Open Source
        dimensions:
          anyOf:
            - type: integer
            - type: 'null'
          title: Dimensions
        max_input:
          anyOf:
            - type: integer
            - type: 'null'
          title: Max Input
        max_batch_size:
          anyOf:
            - type: integer
            - type: 'null'
          title: Max Batch Size
        hf_link:
          anyOf:
            - type: string
            - type: 'null'
          title: Hf Link
        stability:
          $ref: '#/components/schemas/ModelStability'
        hosting:
          $ref: '#/components/schemas/ModelHostingLocation'
        description:
          anyOf:
            - type: string
            - type: 'null'
          title: Description
        org:
          anyOf:
            - $ref: '#/components/schemas/ModelOrg'
            - type: 'null'
        litellm_model_name:
          anyOf:
            - type: string
            - type: 'null'
          title: Litellm Model Name
        is_org_enabled:
          type: boolean
          default: false
          title: Is Org Enabled
        can_access:
          type: boolean
          default: false
          title: Can Access
        is_locked:
          type: boolean
          default: true
          title: Is Locked
        lock_reason:
          anyOf:
            - type: string
            - type: 'null'
          title: Lock Reason
      required:
        - family
        - hosting
        - id
        - is_deprecated
        - name
        - open_source
        - stability
      title: EmbeddingModelPublicLegacy
    EmbeddingModelSecurityStatus:
      type: object
      properties:
        created_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Created At
        updated_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Updated At
        id:
          type: string
          format: uuid
          title: Id
        name:
          type: string
          title: Name
        family:
          $ref: '#/components/schemas/ModelFamily'
        is_deprecated:
          type: boolean
          title: Is Deprecated
        open_source:
          type: boolean
          title: Open Source
        dimensions:
          anyOf:
            - type: integer
            - type: 'null'
          title: Dimensions
        max_input:
          anyOf:
            - type: integer
            - type: 'null'
          title: Max Input
        hf_link:
          anyOf:
            - type: string
            - type: 'null'
          title: Hf Link
        stability:
          $ref: '#/components/schemas/ModelStability'
        hosting:
          $ref: '#/components/schemas/ModelHostingLocation'
        description:
          anyOf:
            - type: string
            - type: 'null'
          title: Description
        org:
          anyOf:
            - $ref: '#/components/schemas/ModelOrg'
            - type: 'null'
        litellm_model_name:
          anyOf:
            - type: string
            - type: 'null'
          title: Litellm Model Name
        can_access:
          type: boolean
          default: false
          title: Can Access
        is_locked:
          type: boolean
          default: true
          title: Is Locked
        lock_reason:
          anyOf:
            - type: string
            - type: 'null'
          title: Lock Reason
        is_org_enabled:
          type: boolean
          default: false
          title: Is Org Enabled
        credential_provider:
          anyOf:
            - type: string
            - type: 'null'
          title: Credential Provider
        security_classification:
          anyOf:
            - $ref: '#/components/schemas/SecurityClassificationPublic'
            - type: 'null'
        meets_security_classification:
          anyOf:
            - type: boolean
            - type: 'null'
          title: Meets Security Classification
      required:
        - family
        - hosting
        - id
        - is_deprecated
        - name
        - open_source
        - stability
      title: EmbeddingModelSecurityStatus
    EmbeddingModelSparse:
      type: object
      properties:
        created_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Created At
        updated_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Updated At
        id:
          type: string
          format: uuid
          title: Id
        name:
          type: string
          title: Name
        family:
          $ref: '#/components/schemas/EmbeddingModelFamily'
        is_deprecated:
          type: boolean
          title: Is Deprecated
        open_source:
          type: boolean
          title: Open Source
        dimensions:
          anyOf:
            - type: integer
            - type: 'null'
          title: Dimensions
        max_input:
          anyOf:
            - type: integer
            - type: 'null'
          title: Max Input
        max_batch_size:
          anyOf:
            - type: integer
            - type: 'null'
          title: Max Batch Size
        hf_link:
          anyOf:
            - type: string
            - type: 'null'
          title: Hf Link
        stability:
          $ref: '#/components/schemas/ModelStability'
        hosting:
          $ref: '#/components/schemas/ModelHostingLocation'
        description:
          anyOf:
            - type: string
            - type: 'null'
          title: Description
        org:
          anyOf:
            - $ref: '#/components/schemas/ModelOrg'
            - type: 'null'
        litellm_model_name:
          anyOf:
            - type: string
            - type: 'null'
          title: Litellm Model Name
      required:
        - family
        - hosting
        - id
        - is_deprecated
        - name
        - open_source
        - stability
      title: EmbeddingModelSparse
    EmbeddingModelUpdate:
      type: object
      properties:
        is_org_enabled:
          type: boolean
          title: Is Org Enabled
        security_classification:
          anyOf:
            - $ref: '#/components/schemas/ModelId'
            - type: 'null'
          title: Security Classification
      title: EmbeddingModelUpdate
    EmbeddingModelUpdateFlags:
      type: object
      properties:
        is_org_enabled:
          anyOf:
            - type: boolean
            - type: 'null'
          default: false
          title: Is Org Enabled
      title: EmbeddingModelUpdateFlags
    EntityType:
      type: string
      description: Categorize what type of entity was affected
      enum:
        - user
        - assistant
        - space
        - app
        - file
        - website
        - tenant_settings
        - credential
        - federation_config
        - api_key
        - role
        - module
        - template
        - group_chat
        - collection
        - app_run
        - security_classification
        - integration
        - integration_knowledge
        - completion_model
        - embedding_model
        - transcription_model
        - audit_log
      title: EntityType
    ErrorCodes:
      type: integer
      enum:
        - 9000
        - 9001
        - 9002
        - 9003
        - 9004
        - 9005
        - 9006
        - 9007
        - 9008
        - 9009
        - 9010
        - 9011
        - 9012
        - 9013
        - 9014
        - 9015
        - 9016
        - 9017
        - 9018
        - 9019
        - 9020
        - 9021
        - 9022
        - 9023
        - 9024
        - 9025
        - 9026
        - 9027
        - 9028
        - 9029
        - 9030
      title: ErrorCodes
    ExportJobRequest:
      type: object
      description: Schema for requesting async audit log export.
      properties:
        user_id:
          anyOf:
            - type: string
              format: uuid
            - type: 'null'
          description: User ID for GDPR export
          title: User Id
        actor_id:
          anyOf:
            - type: string
              format: uuid
            - type: 'null'
          description: Filter by actor
          title: Actor Id
        action:
          anyOf:
            - $ref: '#/components/schemas/ActionType'
            - type: 'null'
          description: Filter by action type
        from_date:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          description: Filter from date
          title: From Date
        to_date:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          description: Filter to date
          title: To Date
        format:
          type: string
          default: csv
          description: 'Export format: csv or jsonl'
          title: Format
        max_records:
          anyOf:
            - type: integer
              minimum: 1
            - type: 'null'
          description: Maximum records to export
          title: Max Records
      title: ExportJobRequest
    ExportJobResponse:
      type: object
      description: Schema for export job creation response.
      properties:
        job_id:
          type: string
          format: uuid
          title: Job Id
        status:
          type: string
          description: 'Job status: pending, processing, completed, failed, cancelled'
          title: Status
        message:
          anyOf:
            - type: string
            - type: 'null'
          description: Status message
          title: Message
      required:
        - job_id
        - status
      title: ExportJobResponse
    ExportJobStatusResponse:
      type: object
      description: Schema for export job status response.
      properties:
        job_id:
          type: string
          format: uuid
          title: Job Id
        status:
          type: string
          description: 'Job status: pending, processing, completed, failed, cancelled'
          title: Status
        progress:
          type: integer
          description: Progress percentage
          maximum: 100
          minimum: 0
          title: Progress
        total_records:
          type: integer
          description: Total records to export
          minimum: 0
          title: Total Records
        processed_records:
          type: integer
          description: Records processed so far
          minimum: 0
          title: Processed Records
        format:
          type: string
          description: 'Export format: csv or jsonl'
          title: Format
        file_size_bytes:
          anyOf:
            - type: integer
            - type: 'null'
          description: File size in bytes (when completed)
          title: File Size Bytes
        error_message:
          anyOf:
            - type: string
            - type: 'null'
          description: Error message (when failed)
          title: Error Message
        download_url:
          anyOf:
            - type: string
            - type: 'null'
          description: Download URL (when completed)
          title: Download Url
        created_at:
          type: string
          format: date-time
          title: Created At
        started_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Started At
        completed_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Completed At
        expires_at:
          type: string
          format: date-time
          title: Expires At
      required:
        - created_at
        - expires_at
        - format
        - job_id
        - processed_records
        - progress
        - status
        - total_records
      title: ExportJobStatusResponse
    FederationInfo:
      type: object
      description: Information about configured federation.
      properties:
        provider:
          type: string
          title: Provider
        client_id:
          type: string
          title: Client Id
        masked_secret:
          type: string
          title: Masked Secret
        issuer:
          anyOf:
            - type: string
            - type: 'null'
          title: Issuer
        allowed_domains:
          type: array
          items:
            type: string
          title: Allowed Domains
        configured_at:
          type: string
          format: date-time
          title: Configured At
        encryption_status:
          type: string
          enum:
            - encrypted
            - plaintext
          title: Encryption Status
      required:
        - allowed_domains
        - client_id
        - configured_at
        - encryption_status
        - masked_secret
        - provider
      title: FederationInfo
    FederationStatusResponse:
      type: object
      description: Federation configuration status for login page.
      example:
        has_global_oidc_config: false
        has_multi_tenant_federation: false
        has_single_tenant_federation: true
        tenant_count: 1
      properties:
        has_single_tenant_federation:
          type: boolean
          title: Has Single Tenant Federation
        has_multi_tenant_federation:
          type: boolean
          title: Has Multi Tenant Federation
        has_global_oidc_config:
          type: boolean
          title: Has Global Oidc Config
        tenant_count:
          type: integer
          title: Tenant Count
      required:
        - has_global_oidc_config
        - has_multi_tenant_federation
        - has_single_tenant_federation
        - tenant_count
      title: FederationStatusResponse
    FeederLeader:
      type: object
      description: Feeder leader election status.
      properties:
        leader_id:
          anyOf:
            - type: string
            - type: 'null'
          title: Leader Id
        leader_ttl_seconds:
          anyOf:
            - type: integer
            - type: 'null'
          title: Leader Ttl Seconds
        status:
          type: string
          default: UNKNOWN
          title: Status
      title: FeederLeader
    FilePublic:
      type: object
      properties:
        created_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Created At
        updated_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Updated At
        id:
          type: string
          format: uuid
          title: Id
        name:
          type: string
          title: Name
        mimetype:
          type: string
          title: Mimetype
        size:
          type: integer
          title: Size
        transcription:
          anyOf:
            - type: string
            - type: 'null'
          title: Transcription
        token_count:
          anyOf:
            - type: integer
            - type: 'null'
          title: Token Count
      required:
        - id
        - mimetype
        - name
        - size
      title: FilePublic
    FileRestrictions:
      type: object
      properties:
        accepted_file_types:
          type: array
          items:
            $ref: '#/components/schemas/AcceptedFileType'
          title: Accepted File Types
        limit:
          $ref: '#/components/schemas/Limit'
      required:
        - accepted_file_types
        - limit
      title: FileRestrictions
    FormatLimit:
      type: object
      properties:
        mimetype:
          type: string
          title: Mimetype
        size:
          type: integer
          title: Size
        extensions:
          type: array
          items:
            type: string
          title: Extensions
        vision:
          type: boolean
          title: Vision
      required:
        - extensions
        - mimetype
        - size
        - vision
      title: FormatLimit
    GeneralError:
      type: object
      properties:
        message:
          type: string
          title: Message
        intric_error_code:
          $ref: '#/components/schemas/ErrorCodes'
      required:
        - intric_error_code
        - message
      title: GeneralError
    GetModelsResponse:
      type: object
      properties:
        completion_models:
          type: array
          items:
            $ref: '#/components/schemas/CompletionModelPublic'
          title: Completion Models
        embedding_models:
          type: array
          items:
            $ref: '#/components/schemas/EmbeddingModelPublicLegacy'
          title: Embedding Models
      required:
        - completion_models
        - embedding_models
      title: GetModelsResponse
    GroupChatAssistantPublic:
      type: object
      properties:
        id:
          type: string
          format: uuid
          title: Id
        handle:
          type: string
          title: Handle
        default_description:
          anyOf:
            - type: string
            - type: 'null'
          title: Default Description
        user_description:
          anyOf:
            - type: string
            - type: 'null'
          title: User Description
      required:
        - default_description
        - handle
        - id
        - user_description
      title: GroupChatAssistantPublic
    GroupChatAssistantUpdateSchema:
      type: object
      properties:
        id:
          type: string
          format: uuid
          title: Id
        user_description:
          anyOf:
            - type: string
            - type: 'null'
          description: >-
            Custom description provided by the user. Cannot be null if
            'description' of assistant is null.
          example: My custom AI assistant description
          title: User Description
      required:
        - id
        - user_description
      title: GroupChatAssistantUpdateSchema
    GroupChatCreate:
      type: object
      description: |-
        Attributes:
            name: str
      properties:
        name:
          type: string
          title: Name
      required:
        - name
      title: GroupChatCreate
    GroupChatPublic:
      type: object
      description: |-
        Represents a group chat of assistants.

        Attributes:
            created_at: datetime
            updated_at: datetime
            name: str
            id: UUID
            space_id: UUID
            allow_mentions: bool
            show_response_label: bool
            tools: GroupChatTools
            insight_enabled: bool
            attachments: list[FilePublic]
            allowed_attachments: FileRestrictions
            type: str
      properties:
        created_at:
          type: string
          format: date-time
          title: Created At
        updated_at:
          type: string
          format: date-time
          title: Updated At
        name:
          type: string
          title: Name
        id:
          type: string
          format: uuid
          title: Id
        space_id:
          type: string
          format: uuid
          title: Space Id
        allow_mentions:
          type: boolean
          title: Allow Mentions
        show_response_label:
          type: boolean
          title: Show Response Label
        published:
          type: boolean
          title: Published
        insight_enabled:
          type: boolean
          description: >-
            Whether insights are enabled for this group chat. If enabled, users
            with appropriate permissions can see all sessions for this group
            chat.
          title: Insight Enabled
        tools:
          $ref: '#/components/schemas/GroupChatTools'
        attachments:
          type: array
          items:
            $ref: '#/components/schemas/FilePublic'
          title: Attachments
        allowed_attachments:
          $ref: '#/components/schemas/FileRestrictions'
        type:
          type: string
          const: group-chat
          title: Type
        permissions:
          type: array
          items:
            $ref: '#/components/schemas/ResourcePermission'
          title: Permissions
        metadata_json:
          anyOf:
            - type: object
              additionalProperties: true
            - type: 'null'
          title: Metadata Json
      required:
        - allow_mentions
        - allowed_attachments
        - attachments
        - created_at
        - id
        - insight_enabled
        - metadata_json
        - name
        - permissions
        - published
        - show_response_label
        - space_id
        - tools
        - type
        - updated_at
      title: GroupChatPublic
    GroupChatSparse:
      type: object
      properties:
        permissions:
          type: array
          default: [ ]
          items:
            $ref: '#/components/schemas/ResourcePermission'
          title: Permissions
        created_at:
          type: string
          format: date-time
          title: Created At
        updated_at:
          type: string
          format: date-time
          title: Updated At
        name:
          type: string
          title: Name
        id:
          type: string
          format: uuid
          title: Id
        user_id:
          type: string
          format: uuid
          title: User Id
        published:
          type: boolean
          title: Published
        type:
          type: string
          const: group-chat
          title: Type
        metadata_json:
          anyOf:
            - type: object
              additionalProperties: true
            - type: 'null'
          title: Metadata Json
      required:
        - created_at
        - id
        - metadata_json
        - name
        - published
        - type
        - updated_at
        - user_id
      title: GroupChatSparse
    GroupChatTools:
      type: object
      properties:
        assistants:
          type: array
          items:
            $ref: '#/components/schemas/GroupChatAssistantPublic'
          title: Assistants
      required:
        - assistants
      title: GroupChatTools
    GroupChatUpdateSchema:
      type: object
      properties:
        name:
          anyOf:
            - type: string
            - type: 'null'
          description: The name of the group chat.
          title: Name
        space_id:
          anyOf:
            - type: string
              format: uuid
            - type: 'null'
          title: Space Id
        tools:
          anyOf:
            - $ref: '#/components/schemas/GroupChatUpdateTools'
            - type: 'null'
          description: Tools available in the group chat.
        allow_mentions:
          anyOf:
            - type: boolean
            - type: 'null'
          description: Indicates if mentions are allowed.
          title: Allow Mentions
        show_response_label:
          anyOf:
            - type: boolean
            - type: 'null'
          description: Indicates if the response label should be shown.
          title: Show Response Label
        insight_enabled:
          anyOf:
            - type: boolean
            - type: 'null'
          description: >-
            Whether insights are enabled for this group chat. If enabled, users
            with appropriate permissions can see all sessions for this group
            chat.
          title: Insight Enabled
        metadata_json:
          anyOf:
            - type: object
              additionalProperties: true
            - type: 'null'
          description: Metadata for the group chat.
          title: Metadata Json
      title: GroupChatUpdateSchema
    GroupChatUpdateTools:
      type: object
      properties:
        assistants:
          type: array
          items:
            $ref: '#/components/schemas/GroupChatAssistantUpdateSchema'
          title: Assistants
      required:
        - assistants
      title: GroupChatUpdateTools
    GroupMetadata:
      type: object
      properties:
        num_info_blobs:
          type: integer
          title: Num Info Blobs
        size:
          type: integer
          title: Size
      required:
        - num_info_blobs
        - size
      title: GroupMetadata
    GroupPublicBase:
      type: object
      properties:
        name:
          type: string
          title: Name
        created_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Created At
        updated_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Updated At
        id:
          type: string
          format: uuid
          title: Id
      required:
        - id
        - name
      title: GroupPublicBase
    GroupPublicWithMetadata:
      type: object
      properties:
        permissions:
          type: array
          default: [ ]
          items:
            $ref: '#/components/schemas/ResourcePermission'
          title: Permissions
        name:
          type: string
          title: Name
        created_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Created At
        updated_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Updated At
        id:
          type: string
          format: uuid
          title: Id
        embedding_model:
          $ref: '#/components/schemas/EmbeddingModelPublic'
        space_id:
          type: string
          format: uuid
          title: Space Id
        metadata:
          $ref: '#/components/schemas/GroupMetadata'
      required:
        - embedding_model
        - id
        - metadata
        - name
        - space_id
      title: GroupPublicWithMetadata
    HTTPValidationError:
      type: object
      properties:
        detail:
          type: array
          items:
            $ref: '#/components/schemas/ValidationError'
          title: Detail
      title: HTTPValidationError
    HealthThresholds:
      type: object
      description: Thresholds used for status decisions - helps explain status.
      properties:
        feeder_interval_seconds:
          type: integer
          title: Feeder Interval Seconds
        watchdog_stale_threshold_seconds:
          type: number
          title: Watchdog Stale Threshold Seconds
        heartbeat_ttl_expected_seconds:
          type: integer
          title: Heartbeat Ttl Expected Seconds
      required:
        - feeder_interval_seconds
        - heartbeat_ttl_expected_seconds
        - watchdog_stale_threshold_seconds
      title: HealthThresholds
    IconPublic:
      type: object
      properties:
        created_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Created At
        updated_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Updated At
        id:
          type: string
          format: uuid
          title: Id
      required:
        - id
      title: IconPublic
    InfoBlobAddPublic:
      type: object
      properties:
        text:
          type: string
          title: Text
        metadata:
          $ref: '#/components/schemas/InfoBlobMetadataUpsertPublic'
      required:
        - text
      title: InfoBlobAddPublic
    InfoBlobAskAssistantPublic:
      type: object
      properties:
        created_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Created At
        updated_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Updated At
        id:
          type: string
          format: uuid
          title: Id
        metadata:
          $ref: '#/components/schemas/InfoBlobMetadata'
        group_id:
          anyOf:
            - type: string
              format: uuid
            - type: 'null'
          title: Group Id
        website_id:
          anyOf:
            - type: string
              format: uuid
            - type: 'null'
          title: Website Id
        score:
          type: number
          title: Score
      required:
        - id
        - metadata
        - score
      title: InfoBlobAskAssistantPublic
    InfoBlobLimits:
      type: object
      properties:
        formats:
          type: array
          items:
            $ref: '#/components/schemas/FormatLimit'
          title: Formats
      required:
        - formats
      title: InfoBlobLimits
    InfoBlobMetadata:
      type: object
      properties:
        url:
          anyOf:
            - type: string
            - type: 'null'
          title: Url
        title:
          anyOf:
            - type: string
            - type: 'null'
          title: Title
        embedding_model_id:
          type: string
          format: uuid
          title: Embedding Model Id
        size:
          type: integer
          title: Size
      required:
        - embedding_model_id
        - size
      title: InfoBlobMetadata
    InfoBlobMetadataUpsertPublic:
      type: object
      properties:
        url:
          anyOf:
            - type: string
            - type: 'null'
          title: Url
        title:
          anyOf:
            - type: string
            - type: 'null'
          title: Title
      title: InfoBlobMetadataUpsertPublic
    InfoBlobPublic:
      type: object
      properties:
        created_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Created At
        updated_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Updated At
        id:
          type: string
          format: uuid
          title: Id
        metadata:
          $ref: '#/components/schemas/InfoBlobMetadata'
        group_id:
          anyOf:
            - type: string
              format: uuid
            - type: 'null'
          title: Group Id
        website_id:
          anyOf:
            - type: string
              format: uuid
            - type: 'null'
          title: Website Id
        text:
          type: string
          title: Text
      required:
        - id
        - metadata
        - text
      title: InfoBlobPublic
    InfoBlobPublicNoText:
      type: object
      properties:
        created_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Created At
        updated_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Updated At
        id:
          type: string
          format: uuid
          title: Id
        metadata:
          $ref: '#/components/schemas/InfoBlobMetadata'
        group_id:
          anyOf:
            - type: string
              format: uuid
            - type: 'null'
          title: Group Id
        website_id:
          anyOf:
            - type: string
              format: uuid
            - type: 'null'
          title: Website Id
      required:
        - id
        - metadata
      title: InfoBlobPublicNoText
    InfoBlobUpdatePublic:
      type: object
      properties:
        metadata:
          $ref: '#/components/schemas/InfoBlobMetadataUpsertPublic'
      required:
        - metadata
      title: InfoBlobUpdatePublic
    InfoBlobUpsertRequest:
      type: object
      properties:
        info_blobs:
          type: array
          items:
            $ref: '#/components/schemas/InfoBlobAddPublic'
          title: Info Blobs
      required:
        - info_blobs
      title: InfoBlobUpsertRequest
    InitiateAuthResponse:
      type: object
      description: Response with IdP authorization URL.
      example:
        authorization_url: 'https://idp.example.com/authorize?client_id=abc123&...'
        state: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
      properties:
        authorization_url:
          type: string
          title: Authorization Url
        state:
          type: string
          title: State
      required:
        - authorization_url
        - state
      title: InitiateAuthResponse
    InputField:
      type: object
      properties:
        type:
          $ref: '#/components/schemas/InputFieldType'
        description:
          anyOf:
            - type: string
            - type: 'null'
          title: Description
      required:
        - type
      title: InputField
    InputFieldPublic:
      type: object
      properties:
        accepted_file_types:
          type: array
          items:
            $ref: '#/components/schemas/AcceptedFileType'
          title: Accepted File Types
        limit:
          $ref: '#/components/schemas/Limit'
        type:
          $ref: '#/components/schemas/InputFieldType'
        description:
          anyOf:
            - type: string
            - type: 'null'
          title: Description
      required:
        - accepted_file_types
        - limit
        - type
      title: InputFieldPublic
    InputFieldType:
      type: string
      enum:
        - text-field
        - text-upload
        - audio-upload
        - audio-recorder
        - image-upload
      title: InputFieldType
    Integration:
      type: object
      properties:
        id:
          type: string
          format: uuid
          title: Id
        name:
          type: string
          title: Name
        description:
          type: string
          title: Description
        integration_type:
          $ref: '#/components/schemas/IntegrationType'
      required:
        - description
        - id
        - integration_type
        - name
      title: Integration
    IntegrationKnowledgeMetaData:
      type: object
      properties:
        size:
          type: integer
          title: Size
        last_sync_summary:
          anyOf:
            - type: object
              additionalProperties:
                type: integer
            - type: 'null'
          title: Last Sync Summary
        last_synced_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Last Synced At
        sharepoint_subscription_expires_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          description: >-
            When the SharePoint webhook subscription expires (only for
            SharePoint integrations)
          title: Sharepoint Subscription Expires At
      required:
        - size
      title: IntegrationKnowledgeMetaData
    IntegrationKnowledgePublic:
      type: object
      properties:
        id:
          type: string
          format: uuid
          title: Id
        name:
          type: string
          title: Name
        original_name:
          anyOf:
            - type: string
            - type: 'null'
          title: Original Name
        url:
          type: string
          title: Url
        tenant_id:
          type: string
          format: uuid
          title: Tenant Id
        space_id:
          type: string
          format: uuid
          title: Space Id
        user_integration_id:
          type: string
          format: uuid
          title: User Integration Id
        embedding_model:
          $ref: '#/components/schemas/EmbeddingModelPublicLegacy'
        site_id:
          anyOf:
            - type: string
            - type: 'null'
          title: Site Id
        drive_id:
          anyOf:
            - type: string
            - type: 'null'
          title: Drive Id
        resource_type:
          anyOf:
            - type: string
            - type: 'null'
          title: Resource Type
        sharepoint_subscription_id:
          anyOf:
            - type: string
              format: uuid
            - type: 'null'
          title: Sharepoint Subscription Id
        folder_id:
          anyOf:
            - type: string
            - type: 'null'
          title: Folder Id
        folder_path:
          anyOf:
            - type: string
            - type: 'null'
          title: Folder Path
        selected_item_type:
          anyOf:
            - type: string
            - type: 'null'
          title: Selected Item Type
        permissions:
          type: array
          default: [ ]
          items:
            $ref: '#/components/schemas/ResourcePermission'
          title: Permissions
        metadata:
          $ref: '#/components/schemas/IntegrationKnowledgeMetaData'
        integration_type:
          type: string
          enum:
            - confluence
            - sharepoint
          title: Integration Type
        task:
          type: string
          description: >-
            Create a collection of name/value pairs.


            Example enumeration:


            >>> class Color(Enum):

            ...     RED = 1

            ...     BLUE = 2

            ...     GREEN = 3


            Access them by:


            - attribute access::


            >>> Color.RED

            <Color.RED: 1>


            - value lookup:


            >>> Color(1)

            <Color.RED: 1>


            - name lookup:


            >>> Color['RED']

            <Color.RED: 1>


            Enumerations can be iterated over, and know how many members they
            have:


            >>> len(Color)

            3


            >>> list(Color)

            [<Color.RED: 1>, <Color.BLUE: 2>, <Color.GREEN: 3>]


            Methods can be added to enumerations, and members can have their own

            attributes -- see the documentation for details.
          title: Enum
      required:
        - embedding_model
        - id
        - integration_type
        - metadata
        - name
        - space_id
        - task
        - tenant_id
        - url
        - user_integration_id
      title: IntegrationKnowledgePublic
    IntegrationList:
      type: object
      properties:
        items:
          type: array
          items:
            $ref: '#/components/schemas/Integration'
          title: Items
        count:
          type: integer
          readOnly: true
          title: Count
      required:
        - count
        - items
      title: IntegrationList
    IntegrationPreviewData:
      type: object
      properties:
        key:
          type: string
          title: Key
        type:
          type: string
          title: Type
        name:
          type: string
          title: Name
        url:
          type: string
          title: Url
      required:
        - key
        - name
        - type
        - url
      title: IntegrationPreviewData
    IntegrationPreviewDataList:
      type: object
      properties:
        items:
          type: array
          items:
            $ref: '#/components/schemas/IntegrationPreviewData'
          title: Items
        count:
          type: integer
          readOnly: true
          title: Count
      required:
        - count
        - items
      title: IntegrationPreviewDataList
    IntegrationType:
      type: string
      enum:
        - confluence
        - sharepoint
      title: IntegrationType
    JobPublic:
      type: object
      properties:
        created_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Created At
        updated_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Updated At
        id:
          type: string
          format: uuid
          title: Id
        name:
          anyOf:
            - type: string
            - type: 'null'
          title: Name
        status:
          $ref: '#/components/schemas/Status'
        task:
          $ref: '#/components/schemas/Task'
        result_location:
          anyOf:
            - type: string
            - type: 'null'
          title: Result Location
        finished_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Finished At
      required:
        - id
        - status
        - task
      title: JobPublic
    Knowledge:
      type: object
      properties:
        groups:
          $ref: '#/components/schemas/PaginatedPermissions_CollectionPublic_'
        websites:
          $ref: '#/components/schemas/PaginatedPermissions_WebsitePublic_'
        integration_knowledge_list:
          $ref: >-
            #/components/schemas/PaginatedPermissions_IntegrationKnowledgePublic_
      required:
        - groups
        - integration_knowledge_list
        - websites
      title: Knowledge
    Limit:
      type: object
      properties:
        max_files:
          type: integer
          title: Max Files
        max_size:
          type: integer
          title: Max Size
      required:
        - max_files
        - max_size
      title: Limit
    Limits:
      type: object
      properties:
        info_blobs:
          $ref: '#/components/schemas/InfoBlobLimits'
        attachments:
          $ref: '#/components/schemas/AttachmentLimits'
      required:
        - attachments
        - info_blobs
      title: Limits
    LoggingDetailsPublic:
      type: object
      properties:
        context:
          anyOf:
            - type: string
            - type: 'null'
          title: Context
        model_kwargs:
          type: object
          additionalProperties: true
          title: Model Kwargs
        json_body:
          title: Json Body
      required:
        - json_body
        - model_kwargs
      title: LoggingDetailsPublic
    Message:
      type: object
      properties:
        created_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Created At
        updated_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Updated At
        id:
          anyOf:
            - type: string
              format: uuid
            - type: 'null'
          title: Id
        question:
          type: string
          title: Question
        answer:
          type: string
          title: Answer
        completion_model:
          anyOf:
            - $ref: '#/components/schemas/CompletionModel'
            - type: 'null'
        references:
          type: array
          items:
            $ref: '#/components/schemas/InfoBlobPublicNoText'
          title: References
        files:
          type: array
          items:
            $ref: '#/components/schemas/FilePublic'
          title: Files
        tools:
          $ref: '#/components/schemas/UseTools'
        generated_files:
          type: array
          items:
            $ref: '#/components/schemas/FilePublic'
          title: Generated Files
        web_search_references:
          type: array
          items:
            $ref: '#/components/schemas/WebSearchResultPublic'
          title: Web Search References
      required:
        - answer
        - files
        - generated_files
        - question
        - references
        - tools
        - web_search_references
      title: Message
    MessageLogging:
      type: object
      properties:
        created_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Created At
        updated_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Updated At
        id:
          anyOf:
            - type: string
              format: uuid
            - type: 'null'
          title: Id
        question:
          type: string
          title: Question
        answer:
          type: string
          title: Answer
        completion_model:
          anyOf:
            - $ref: '#/components/schemas/CompletionModel'
            - type: 'null'
        references:
          type: array
          items:
            $ref: '#/components/schemas/InfoBlobPublicNoText'
          title: References
        files:
          type: array
          items:
            $ref: '#/components/schemas/FilePublic'
          title: Files
        tools:
          $ref: '#/components/schemas/UseTools'
        generated_files:
          type: array
          items:
            $ref: '#/components/schemas/FilePublic'
          title: Generated Files
        web_search_references:
          type: array
          items:
            $ref: '#/components/schemas/WebSearchResultPublic'
          title: Web Search References
        logging_details:
          $ref: '#/components/schemas/LoggingDetailsPublic'
      required:
        - answer
        - files
        - generated_files
        - logging_details
        - question
        - references
        - tools
        - web_search_references
      title: MessageLogging
    MetadataStatistics:
      type: object
      properties:
        assistants:
          type: array
          items:
            $ref: '#/components/schemas/AssistantMetadata'
          title: Assistants
        sessions:
          type: array
          items:
            $ref: '#/components/schemas/SessionMetadata'
          title: Sessions
        questions:
          type: array
          items:
            $ref: '#/components/schemas/QuestionMetadata'
          title: Questions
      required:
        - assistants
        - questions
        - sessions
      title: MetadataStatistics
    MigrationResult:
      type: object
      description: Result of a model migration operation.
      properties:
        success:
          type: boolean
          title: Success
        migrated_count:
          type: integer
          title: Migrated Count
        failed_count:
          type: integer
          title: Failed Count
        details:
          type: object
          additionalProperties:
            type: integer
          title: Details
        duration:
          type: number
          title: Duration
        migration_id:
          type: string
          format: uuid
          title: Migration Id
        warnings:
          type: array
          default: [ ]
          items:
            type: string
          title: Warnings
        auto_recalculated:
          type: boolean
          default: false
          title: Auto Recalculated
        requires_manual_recalculation:
          type: boolean
          default: false
          title: Requires Manual Recalculation
      required:
        - details
        - duration
        - failed_count
        - migrated_count
        - migration_id
        - success
      title: MigrationResult
    ModelFamily:
      type: string
      enum:
        - openai
        - mistral
        - vllm
        - claude
        - azure
        - ovhcloud
        - e5
      title: ModelFamily
    ModelHostingLocation:
      type: string
      enum:
        - usa
        - eu
        - swe
      title: ModelHostingLocation
    ModelId:
      type: object
      properties:
        id:
          type: string
          format: uuid
          title: Id
      required:
        - id
      title: ModelId
    ModelInfo:
      type: object
      description: Information about the model used by the assistant.
      properties:
        name:
          type: string
          title: Name
        token_limit:
          type: integer
          title: Token Limit
        prompt_tokens:
          anyOf:
            - type: integer
            - type: 'null'
          title: Prompt Tokens
      required:
        - name
        - token_limit
      title: ModelInfo
    ModelKwargs:
      type: object
      properties:
        temperature:
          anyOf:
            - type: number
            - type: 'null'
          title: Temperature
        top_p:
          anyOf:
            - type: number
            - type: 'null'
          title: Top P
        reasoning_effort:
          anyOf:
            - type: string
            - type: 'null'
          title: Reasoning Effort
        verbosity:
          anyOf:
            - type: string
            - type: 'null'
          title: Verbosity
        response_format:
          anyOf:
            - type: object
              additionalProperties: true
            - type: 'null'
          title: Response Format
        presence_penalty:
          anyOf:
            - type: number
            - type: 'null'
          title: Presence Penalty
        frequency_penalty:
          anyOf:
            - type: number
            - type: 'null'
          title: Frequency Penalty
        top_k:
          anyOf:
            - type: integer
            - type: 'null'
          title: Top K
      title: ModelKwargs
    ModelMigrationHistory:
      type: object
      description: Historical record of a model migration.
      properties:
        id:
          type: string
          format: uuid
          title: Id
        from_model_id:
          type: string
          format: uuid
          title: From Model Id
        from_model_name:
          type: string
          title: From Model Name
        to_model_id:
          type: string
          format: uuid
          title: To Model Id
        to_model_name:
          type: string
          title: To Model Name
        migrated_count:
          type: integer
          title: Migrated Count
        status:
          type: string
          title: Status
        initiated_by_id:
          type: string
          format: uuid
          title: Initiated By Id
        initiated_by_name:
          type: string
          title: Initiated By Name
        started_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Started At
        completed_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Completed At
        duration:
          anyOf:
            - type: number
            - type: 'null'
          title: Duration
        error_message:
          anyOf:
            - type: string
            - type: 'null'
          title: Error Message
      required:
        - from_model_id
        - from_model_name
        - id
        - initiated_by_id
        - initiated_by_name
        - migrated_count
        - status
        - to_model_id
        - to_model_name
      title: ModelMigrationHistory
    ModelMigrationRequest:
      type: object
      description: Request to migrate usage from one model to another.
      properties:
        to_model_id:
          type: string
          format: uuid
          title: To Model Id
        entity_types:
          anyOf:
            - type: array
              items:
                type: string
            - type: 'null'
          title: Entity Types
        confirm_migration:
          type: boolean
          default: false
          title: Confirm Migration
      required:
        - to_model_id
      title: ModelMigrationRequest
    ModelOrg:
      type: string
      enum:
        - OpenAI
        - Meta
        - Microsoft
        - Anthropic
        - Mistral
        - KBLab
        - Google
        - Berget
        - GDM
      title: ModelOrg
    ModelStability:
      type: string
      enum:
        - stable
        - experimental
      title: ModelStability
    ModelUsage:
      type: object
      properties:
        model_id:
          type: string
          format: uuid
          title: Model Id
        model_name:
          type: string
          title: Model Name
        model_nickname:
          type: string
          description: User-friendly name of the model
          title: Model Nickname
        model_org:
          anyOf:
            - type: string
            - type: 'null'
          description: Organization providing the model
          title: Model Org
        input_token_usage:
          type: integer
          description: Number of tokens used for input prompts
          title: Input Token Usage
        output_token_usage:
          type: integer
          description: Number of tokens used for model outputs
          title: Output Token Usage
        total_token_usage:
          type: integer
          description: Total tokens (input + output)
          title: Total Token Usage
        request_count:
          type: integer
          description: Number of requests made with this model
          title: Request Count
      required:
        - input_token_usage
        - model_id
        - model_name
        - model_nickname
        - output_token_usage
        - request_count
        - total_token_usage
      title: ModelUsage
    ModelUsageDetail:
      type: object
      description: Detailed information about a specific entity using a completion model.
      properties:
        entity_id:
          type: string
          format: uuid
          title: Entity Id
        entity_name:
          type: string
          title: Entity Name
        entity_type:
          type: string
          title: Entity Type
        space_id:
          anyOf:
            - type: string
              format: uuid
            - type: 'null'
          title: Space Id
        space_name:
          anyOf:
            - type: string
            - type: 'null'
          title: Space Name
        owner_id:
          anyOf:
            - type: string
              format: uuid
            - type: 'null'
          title: Owner Id
        owner_name:
          anyOf:
            - type: string
            - type: 'null'
          title: Owner Name
        created_at:
          type: string
          format: date-time
          title: Created At
        last_used:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Last Used
        usage_count:
          anyOf:
            - type: integer
            - type: 'null'
          title: Usage Count
      required:
        - created_at
        - entity_id
        - entity_name
        - entity_type
      title: ModelUsageDetail
    ModelUsageStatistics:
      type: object
      description: Pre-aggregated usage statistics for a completion model.
      properties:
        model_id:
          type: string
          format: uuid
          title: Model Id
        total_usage:
          type: integer
          title: Total Usage
        assistants_count:
          type: integer
          title: Assistants Count
        apps_count:
          type: integer
          title: Apps Count
        services_count:
          type: integer
          title: Services Count
        questions_count:
          type: integer
          title: Questions Count
        assistant_templates_count:
          type: integer
          title: Assistant Templates Count
        app_templates_count:
          type: integer
          title: App Templates Count
        spaces_count:
          type: integer
          title: Spaces Count
        last_updated:
          type: string
          format: date-time
          title: Last Updated
      required:
        - app_templates_count
        - apps_count
        - assistant_templates_count
        - assistants_count
        - last_updated
        - model_id
        - questions_count
        - services_count
        - spaces_count
        - total_usage
      title: ModelUsageStatistics
    ModelUsageSummary:
      type: object
      description: Summary of usage for a single model.
      properties:
        model_id:
          type: string
          format: uuid
          title: Model Id
        model_name:
          type: string
          title: Model Name
        model_nickname:
          type: string
          title: Model Nickname
        is_enabled:
          type: boolean
          title: Is Enabled
        total_usage:
          type: integer
          title: Total Usage
        last_updated:
          type: string
          format: date-time
          title: Last Updated
      required:
        - is_enabled
        - last_updated
        - model_id
        - model_name
        - model_nickname
        - total_usage
      title: ModelUsageSummary
    ModelsPresentation:
      type: object
      description: Presentation model for all types of AI models.
      properties:
        completion_models:
          type: array
          items:
            $ref: '#/components/schemas/CompletionModelSecurityStatus'
          title: Completion Models
        embedding_models:
          type: array
          items:
            $ref: '#/components/schemas/EmbeddingModelSecurityStatus'
          title: Embedding Models
        transcription_models:
          type: array
          items:
            $ref: '#/components/schemas/TranscriptionModelSecurityStatus'
          title: Transcription Models
      required:
        - completion_models
        - embedding_models
        - transcription_models
      title: ModelsPresentation
    ModuleBase:
      type: object
      properties:
        name:
          anyOf:
            - $ref: '#/components/schemas/Modules'
            - type: string
          title: Name
      required:
        - name
      title: ModuleBase
    ModuleInDB:
      type: object
      properties:
        name:
          anyOf:
            - $ref: '#/components/schemas/Modules'
            - type: string
          title: Name
        created_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Created At
        updated_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Updated At
        id:
          type: string
          format: uuid
          title: Id
      required:
        - id
        - name
      title: ModuleInDB
    Modules:
      type: string
      description: Any change to these enums will result in database changes
      enum:
        - intric-applications
      title: Modules
    OIDCDebugToggleRequest:
      type: object
      properties:
        enabled:
          type: boolean
          description: Enable or disable OIDC debug logging
          title: Enabled
        duration_minutes:
          anyOf:
            - type: integer
              maximum: 120
              minimum: 1
            - type: 'null'
          default: 30
          description: Duration in minutes before the toggle auto-expires (max 120)
          title: Duration Minutes
        reason:
          anyOf:
            - type: string
              maxLength: 200
            - type: 'null'
          description: Optional note for audit trail
          title: Reason
      required:
        - enabled
      title: OIDCDebugToggleRequest
    OIDCDebugToggleResponse:
      type: object
      properties:
        enabled:
          type: boolean
          title: Enabled
        enabled_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Enabled At
        enabled_by:
          anyOf:
            - type: string
            - type: 'null'
          title: Enabled By
        expires_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Expires At
        reason:
          anyOf:
            - type: string
            - type: 'null'
          title: Reason
        backend:
          type: string
          title: Backend
      required:
        - backend
        - enabled
        - enabled_at
        - enabled_by
        - expires_at
        - reason
      title: OIDCDebugToggleResponse
    OpenIdConnectLogin:
      type: object
      properties:
        code:
          type: string
          title: Code
        code_verifier:
          type: string
          title: Code Verifier
        redirect_uri:
          type: string
          title: Redirect Uri
        client_id:
          type: string
          title: Client Id
        grant_type:
          type: string
          default: authorization_code
          title: Grant Type
        scope:
          type: string
          default: openid
          title: Scope
        nonce:
          anyOf:
            - type: string
            - type: 'null'
          title: Nonce
      required:
        - client_id
        - code
        - code_verifier
        - redirect_uri
      title: OpenIdConnectLogin
    Outcome:
      type: string
      description: Indicate success or failure of audited action
      enum:
        - success
        - failure
      title: Outcome
    PaginatedPermissions_AppSparse_:
      type: object
      properties:
        permissions:
          type: array
          default: [ ]
          items:
            $ref: '#/components/schemas/ResourcePermission'
          title: Permissions
        items:
          type: array
          description: List of items returned in the response
          items:
            $ref: '#/components/schemas/AppSparse'
          title: Items
        count:
          type: integer
          description: Number of items returned in the response
          readOnly: true
          title: Count
      required:
        - count
        - items
      title: 'PaginatedPermissions[AppSparse]'
    PaginatedPermissions_AssistantSparse_:
      type: object
      properties:
        permissions:
          type: array
          default: [ ]
          items:
            $ref: '#/components/schemas/ResourcePermission'
          title: Permissions
        items:
          type: array
          description: List of items returned in the response
          items:
            $ref: '#/components/schemas/AssistantSparse'
          title: Items
        count:
          type: integer
          description: Number of items returned in the response
          readOnly: true
          title: Count
      required:
        - count
        - items
      title: 'PaginatedPermissions[AssistantSparse]'
    PaginatedPermissions_CollectionPublic_:
      type: object
      properties:
        permissions:
          type: array
          default: [ ]
          items:
            $ref: '#/components/schemas/ResourcePermission'
          title: Permissions
        items:
          type: array
          description: List of items returned in the response
          items:
            $ref: '#/components/schemas/CollectionPublic'
          title: Items
        count:
          type: integer
          description: Number of items returned in the response
          readOnly: true
          title: Count
      required:
        - count
        - items
      title: 'PaginatedPermissions[CollectionPublic]'
    PaginatedPermissions_GroupChatSparse_:
      type: object
      properties:
        permissions:
          type: array
          default: [ ]
          items:
            $ref: '#/components/schemas/ResourcePermission'
          title: Permissions
        items:
          type: array
          description: List of items returned in the response
          items:
            $ref: '#/components/schemas/GroupChatSparse'
          title: Items
        count:
          type: integer
          description: Number of items returned in the response
          readOnly: true
          title: Count
      required:
        - count
        - items
      title: 'PaginatedPermissions[GroupChatSparse]'
    PaginatedPermissions_IntegrationKnowledgePublic_:
      type: object
      properties:
        permissions:
          type: array
          default: [ ]
          items:
            $ref: '#/components/schemas/ResourcePermission'
          title: Permissions
        items:
          type: array
          description: List of items returned in the response
          items:
            $ref: '#/components/schemas/IntegrationKnowledgePublic'
          title: Items
        count:
          type: integer
          description: Number of items returned in the response
          readOnly: true
          title: Count
      required:
        - count
        - items
      title: 'PaginatedPermissions[IntegrationKnowledgePublic]'
    PaginatedPermissions_ServiceSparse_:
      type: object
      properties:
        permissions:
          type: array
          default: [ ]
          items:
            $ref: '#/components/schemas/ResourcePermission'
          title: Permissions
        items:
          type: array
          description: List of items returned in the response
          items:
            $ref: '#/components/schemas/ServiceSparse'
          title: Items
        count:
          type: integer
          description: Number of items returned in the response
          readOnly: true
          title: Count
      required:
        - count
        - items
      title: 'PaginatedPermissions[ServiceSparse]'
    PaginatedPermissions_SpaceMember_:
      type: object
      properties:
        permissions:
          type: array
          default: [ ]
          items:
            $ref: '#/components/schemas/ResourcePermission'
          title: Permissions
        items:
          type: array
          description: List of items returned in the response
          items:
            $ref: '#/components/schemas/SpaceMember'
          title: Items
        count:
          type: integer
          description: Number of items returned in the response
          readOnly: true
          title: Count
      required:
        - count
        - items
      title: 'PaginatedPermissions[SpaceMember]'
    PaginatedPermissions_WebsitePublic_:
      type: object
      properties:
        permissions:
          type: array
          default: [ ]
          items:
            $ref: '#/components/schemas/ResourcePermission'
          title: Permissions
        items:
          type: array
          description: List of items returned in the response
          items:
            $ref: '#/components/schemas/WebsitePublic'
          title: Items
        count:
          type: integer
          description: Number of items returned in the response
          readOnly: true
          title: Count
      required:
        - count
        - items
      title: 'PaginatedPermissions[WebsitePublic]'
    PaginatedResponse:
      type: object
      description: Generic paginated response with cursor-based pagination.
      properties:
        items:
          type: array
          items:
            $ref: '#/components/schemas/ModelUsageDetail'
          title: Items
        total:
          type: integer
          title: Total
        has_more:
          type: boolean
          title: Has More
        next_cursor:
          anyOf:
            - type: string
            - type: 'null'
          title: Next Cursor
        prev_cursor:
          anyOf:
            - type: string
            - type: 'null'
          title: Prev Cursor
      required:
        - has_more
        - items
        - total
      title: PaginatedResponse
    PaginatedResponse_AllowedOriginInDB_:
      type: object
      properties:
        items:
          type: array
          description: List of items returned in the response
          items:
            $ref: '#/components/schemas/AllowedOriginInDB'
          title: Items
        count:
          type: integer
          description: Number of items returned in the response
          readOnly: true
          title: Count
      required:
        - count
        - items
      title: 'PaginatedResponse[AllowedOriginInDB]'
    PaginatedResponse_AllowedOriginPublic_:
      type: object
      properties:
        items:
          type: array
          description: List of items returned in the response
          items:
            $ref: '#/components/schemas/AllowedOriginPublic'
          title: Items
        count:
          type: integer
          description: Number of items returned in the response
          readOnly: true
          title: Count
      required:
        - count
        - items
      title: 'PaginatedResponse[AllowedOriginPublic]'
    PaginatedResponse_AppRunSparse_:
      type: object
      properties:
        items:
          type: array
          description: List of items returned in the response
          items:
            $ref: '#/components/schemas/AppRunSparse'
          title: Items
        count:
          type: integer
          description: Number of items returned in the response
          readOnly: true
          title: Count
      required:
        - count
        - items
      title: 'PaginatedResponse[AppRunSparse]'
    PaginatedResponse_AssistantPublic_:
      type: object
      properties:
        items:
          type: array
          description: List of items returned in the response
          items:
            $ref: '#/components/schemas/AssistantPublic'
          title: Items
        count:
          type: integer
          description: Number of items returned in the response
          readOnly: true
          title: Count
      required:
        - count
        - items
      title: 'PaginatedResponse[AssistantPublic]'
    PaginatedResponse_CompletionModelPublic_:
      type: object
      properties:
        items:
          type: array
          description: List of items returned in the response
          items:
            $ref: '#/components/schemas/CompletionModelPublic'
          title: Items
        count:
          type: integer
          description: Number of items returned in the response
          readOnly: true
          title: Count
      required:
        - count
        - items
      title: 'PaginatedResponse[CompletionModelPublic]'
    PaginatedResponse_CrawlRunPublic_:
      type: object
      properties:
        items:
          type: array
          description: List of items returned in the response
          items:
            $ref: >-
              #/components/schemas/intric__websites__presentation__website_models__CrawlRunPublic
          title: Items
        count:
          type: integer
          description: Number of items returned in the response
          readOnly: true
          title: Count
      required:
        - count
        - items
      title: 'PaginatedResponse[CrawlRunPublic]'
    PaginatedResponse_EmbeddingModelLegacy_:
      type: object
      properties:
        items:
          type: array
          description: List of items returned in the response
          items:
            $ref: '#/components/schemas/EmbeddingModelLegacy'
          title: Items
        count:
          type: integer
          description: Number of items returned in the response
          readOnly: true
          title: Count
      required:
        - count
        - items
      title: 'PaginatedResponse[EmbeddingModelLegacy]'
    PaginatedResponse_EmbeddingModelPublic_:
      type: object
      properties:
        items:
          type: array
          description: List of items returned in the response
          items:
            $ref: '#/components/schemas/EmbeddingModelPublic'
          title: Items
        count:
          type: integer
          description: Number of items returned in the response
          readOnly: true
          title: Count
      required:
        - count
        - items
      title: 'PaginatedResponse[EmbeddingModelPublic]'
    PaginatedResponse_FilePublic_:
      type: object
      properties:
        items:
          type: array
          description: List of items returned in the response
          items:
            $ref: '#/components/schemas/FilePublic'
          title: Items
        count:
          type: integer
          description: Number of items returned in the response
          readOnly: true
          title: Count
      required:
        - count
        - items
      title: 'PaginatedResponse[FilePublic]'
    PaginatedResponse_GroupPublicWithMetadata_:
      type: object
      properties:
        items:
          type: array
          description: List of items returned in the response
          items:
            $ref: '#/components/schemas/GroupPublicWithMetadata'
          title: Items
        count:
          type: integer
          description: Number of items returned in the response
          readOnly: true
          title: Count
      required:
        - count
        - items
      title: 'PaginatedResponse[GroupPublicWithMetadata]'
    PaginatedResponse_InfoBlobPublicNoText_:
      type: object
      properties:
        items:
          type: array
          description: List of items returned in the response
          items:
            $ref: '#/components/schemas/InfoBlobPublicNoText'
          title: Items
        count:
          type: integer
          description: Number of items returned in the response
          readOnly: true
          title: Count
      required:
        - count
        - items
      title: 'PaginatedResponse[InfoBlobPublicNoText]'
    PaginatedResponse_InfoBlobPublic_:
      type: object
      properties:
        items:
          type: array
          description: List of items returned in the response
          items:
            $ref: '#/components/schemas/InfoBlobPublic'
          title: Items
        count:
          type: integer
          description: Number of items returned in the response
          readOnly: true
          title: Count
      required:
        - count
        - items
      title: 'PaginatedResponse[InfoBlobPublic]'
    PaginatedResponse_JobPublic_:
      type: object
      properties:
        items:
          type: array
          description: List of items returned in the response
          items:
            $ref: '#/components/schemas/JobPublic'
          title: Items
        count:
          type: integer
          description: Number of items returned in the response
          readOnly: true
          title: Count
      required:
        - count
        - items
      title: 'PaginatedResponse[JobPublic]'
    PaginatedResponse_Message_:
      type: object
      properties:
        items:
          type: array
          description: List of items returned in the response
          items:
            $ref: '#/components/schemas/Message'
          title: Items
        count:
          type: integer
          description: Number of items returned in the response
          readOnly: true
          title: Count
      required:
        - count
        - items
      title: 'PaginatedResponse[Message]'
    PaginatedResponse_ModuleInDB_:
      type: object
      properties:
        items:
          type: array
          description: List of items returned in the response
          items:
            $ref: '#/components/schemas/ModuleInDB'
          title: Items
        count:
          type: integer
          description: Number of items returned in the response
          readOnly: true
          title: Count
      required:
        - count
        - items
      title: 'PaginatedResponse[ModuleInDB]'
    PaginatedResponse_PredefinedRolePublic_:
      type: object
      properties:
        items:
          type: array
          description: List of items returned in the response
          items:
            $ref: '#/components/schemas/PredefinedRolePublic'
          title: Items
        count:
          type: integer
          description: Number of items returned in the response
          readOnly: true
          title: Count
      required:
        - count
        - items
      title: 'PaginatedResponse[PredefinedRolePublic]'
    PaginatedResponse_PromptSparse_:
      type: object
      properties:
        items:
          type: array
          description: List of items returned in the response
          items:
            $ref: '#/components/schemas/PromptSparse'
          title: Items
        count:
          type: integer
          description: Number of items returned in the response
          readOnly: true
          title: Count
      required:
        - count
        - items
      title: 'PaginatedResponse[PromptSparse]'
    PaginatedResponse_RolePublic_:
      type: object
      properties:
        items:
          type: array
          description: List of items returned in the response
          items:
            $ref: '#/components/schemas/RolePublic'
          title: Items
        count:
          type: integer
          description: Number of items returned in the response
          readOnly: true
          title: Count
      required:
        - count
        - items
      title: 'PaginatedResponse[RolePublic]'
    PaginatedResponse_SemanticSearchResponse_:
      type: object
      properties:
        items:
          type: array
          description: List of items returned in the response
          items:
            $ref: '#/components/schemas/SemanticSearchResponse'
          title: Items
        count:
          type: integer
          description: Number of items returned in the response
          readOnly: true
          title: Count
      required:
        - count
        - items
      title: 'PaginatedResponse[SemanticSearchResponse]'
    PaginatedResponse_ServicePublicWithUser_:
      type: object
      properties:
        items:
          type: array
          description: List of items returned in the response
          items:
            $ref: '#/components/schemas/ServicePublicWithUser'
          title: Items
        count:
          type: integer
          description: Number of items returned in the response
          readOnly: true
          title: Count
      required:
        - count
        - items
      title: 'PaginatedResponse[ServicePublicWithUser]'
    PaginatedResponse_ServiceRun_:
      type: object
      properties:
        items:
          type: array
          description: List of items returned in the response
          items:
            $ref: '#/components/schemas/ServiceRun'
          title: Items
        count:
          type: integer
          description: Number of items returned in the response
          readOnly: true
          title: Count
      required:
        - count
        - items
      title: 'PaginatedResponse[ServiceRun]'
    PaginatedResponse_SpaceDashboard_:
      type: object
      properties:
        items:
          type: array
          description: List of items returned in the response
          items:
            $ref: '#/components/schemas/SpaceDashboard'
          title: Items
        count:
          type: integer
          description: Number of items returned in the response
          readOnly: true
          title: Count
      required:
        - count
        - items
      title: 'PaginatedResponse[SpaceDashboard]'
    PaginatedResponse_SpaceSparse_:
      type: object
      properties:
        items:
          type: array
          description: List of items returned in the response
          items:
            $ref: '#/components/schemas/SpaceSparse'
          title: Items
        count:
          type: integer
          description: Number of items returned in the response
          readOnly: true
          title: Count
      required:
        - count
        - items
      title: 'PaginatedResponse[SpaceSparse]'
    PaginatedResponse_TenantWithMaskedCredentials_:
      type: object
      properties:
        items:
          type: array
          description: List of items returned in the response
          items:
            $ref: '#/components/schemas/TenantWithMaskedCredentials'
          title: Items
        count:
          type: integer
          description: Number of items returned in the response
          readOnly: true
          title: Count
      required:
        - count
        - items
      title: 'PaginatedResponse[TenantWithMaskedCredentials]'
    PaginatedResponse_TranscriptionModelPublic_:
      type: object
      properties:
        items:
          type: array
          description: List of items returned in the response
          items:
            $ref: '#/components/schemas/TranscriptionModelPublic'
          title: Items
        count:
          type: integer
          description: Number of items returned in the response
          readOnly: true
          title: Count
      required:
        - count
        - items
      title: 'PaginatedResponse[TranscriptionModelPublic]'
    PaginatedResponse_UserGroupPublic_:
      type: object
      properties:
        items:
          type: array
          description: List of items returned in the response
          items:
            $ref: '#/components/schemas/UserGroupPublic'
          title: Items
        count:
          type: integer
          description: Number of items returned in the response
          readOnly: true
          title: Count
      required:
        - count
        - items
      title: 'PaginatedResponse[UserGroupPublic]'
    PaginatedResponse_UserInDB_:
      type: object
      properties:
        items:
          type: array
          description: List of items returned in the response
          items:
            $ref: '#/components/schemas/UserInDB'
          title: Items
        count:
          type: integer
          description: Number of items returned in the response
          readOnly: true
          title: Count
      required:
        - count
        - items
      title: 'PaginatedResponse[UserInDB]'
    PaginatedResponse_WebsitePublic_:
      type: object
      properties:
        items:
          type: array
          description: List of items returned in the response
          items:
            $ref: '#/components/schemas/WebsitePublic'
          title: Items
        count:
          type: integer
          description: Number of items returned in the response
          readOnly: true
          title: Count
      required:
        - count
        - items
      title: 'PaginatedResponse[WebsitePublic]'
    PaginatedResponse_str_:
      type: object
      properties:
        items:
          type: array
          description: List of items returned in the response
          items:
            type: string
          title: Items
        count:
          type: integer
          description: Number of items returned in the response
          readOnly: true
          title: Count
      required:
        - count
        - items
      title: 'PaginatedResponse[str]'
    PaginatedSyncLogList:
      type: object
      description: Paginated sync logs response with metadata.
      properties:
        items:
          type: array
          items:
            $ref: '#/components/schemas/SyncLog'
          title: Items
        total_count:
          type: integer
          title: Total Count
        page_size:
          type: integer
          title: Page Size
        offset:
          type: integer
          title: Offset
        count:
          type: integer
          readOnly: true
          title: Count
        current_page:
          type: integer
          description: Calculate the current page number (1-indexed).
          readOnly: true
          title: Current Page
        total_pages:
          type: integer
          description: Calculate the total number of pages.
          readOnly: true
          title: Total Pages
        has_next:
          type: boolean
          description: Check if there is a next page.
          readOnly: true
          title: Has Next
        has_previous:
          type: boolean
          description: Check if there is a previous page.
          readOnly: true
          title: Has Previous
      required:
        - count
        - current_page
        - has_next
        - has_previous
        - items
        - offset
        - page_size
        - total_count
        - total_pages
      title: PaginatedSyncLogList
    PaginatedUsersResponse_UserAdminView_:
      type: object
      properties:
        items:
          type: array
          description: List of users for the current page
          examples:
            - [ ]
          items:
            $ref: '#/components/schemas/UserAdminView'
          title: Items
        metadata:
          $ref: '#/components/schemas/PaginationMetadata'
          description: Pagination metadata for navigation
      required:
        - items
        - metadata
      title: 'PaginatedUsersResponse[UserAdminView]'
    PaginationMetadata:
      type: object
      description: >-
        Pagination metadata for frontend navigation.


        Provides all information needed to build pagination UI (page numbers,
        next/previous buttons).

        Includes counts by state for tab display.
      properties:
        page:
          type: integer
          description: Current page number (1-based)
          examples:
            - 1
          title: Page
        page_size:
          type: integer
          description: Number of items per page
          examples:
            - 100
          title: Page Size
        total_count:
          type: integer
          description: Total number of items across all pages
          examples:
            - 543
          title: Total Count
        total_pages:
          type: integer
          description: Total number of pages (calculated from total_count and page_size)
          examples:
            - 6
          title: Total Pages
        has_next:
          type: boolean
          description: Whether there is a next page available
          examples:
            - true
          title: Has Next
        has_previous:
          type: boolean
          description: Whether there is a previous page available
          examples:
            - false
          title: Has Previous
        counts:
          anyOf:
            - type: object
              additionalProperties:
                type: integer
            - type: 'null'
          description: 'Optional counts by state (active, inactive) for tab display'
          examples:
            - active: 2828
              inactive: 3
          title: Counts
      required:
        - has_next
        - has_previous
        - page
        - page_size
        - total_count
        - total_pages
      title: PaginationMetadata
    PartialAssistantUpdatePublic:
      type: object
      properties:
        name:
          anyOf:
            - type: string
            - type: 'null'
          title: Name
        completion_model_kwargs:
          anyOf:
            - $ref: '#/components/schemas/ModelKwargs'
            - type: 'null'
          deprecated: true
          description: This field is deprecated and will be ignored
        logging_enabled:
          anyOf:
            - type: boolean
            - type: 'null'
          deprecated: true
          description: This field is deprecated and will be ignored
          title: Logging Enabled
        space_id:
          anyOf:
            - type: string
              format: uuid
            - type: 'null'
          title: Space Id
        prompt:
          anyOf:
            - $ref: '#/components/schemas/PromptCreate'
            - type: 'null'
        groups:
          anyOf:
            - type: array
              items:
                $ref: '#/components/schemas/ModelId'
            - type: 'null'
          deprecated: true
          description: This field is deprecated and will be ignored
          title: Groups
        websites:
          anyOf:
            - type: array
              items:
                $ref: '#/components/schemas/ModelId'
            - type: 'null'
          deprecated: true
          description: This field is deprecated and will be ignored
          title: Websites
        integration_knowledge_list:
          anyOf:
            - type: array
              items:
                $ref: '#/components/schemas/ModelId'
            - type: 'null'
          deprecated: true
          description: This field is deprecated and will be ignored
          title: Integration Knowledge List
        guardrail:
          anyOf:
            - $ref: '#/components/schemas/AssistantGuard'
            - type: 'null'
          deprecated: true
          description: This field is deprecated and will be ignored
        completion_model:
          anyOf:
            - $ref: '#/components/schemas/ModelId'
            - type: 'null'
          deprecated: true
          description: This field is deprecated and will be ignored
        attachments:
          anyOf:
            - type: array
              items:
                $ref: '#/components/schemas/ModelId'
            - type: 'null'
          title: Attachments
        description:
          anyOf:
            - type: string
            - type: 'null'
          description: >-
            A description of the assitant that will be used as default
            description in GroupChatAssistantPublic
          example: This is a helpful AI assistant
          title: Description
        insight_enabled:
          anyOf:
            - type: boolean
            - type: 'null'
          description: >-
            Whether insights are enabled for this assistant. If enabled, users
            with appropriate permissions can see all sessions for this
            assistant.
          title: Insight Enabled
        data_retention_days:
          anyOf:
            - type: integer
            - type: 'null'
          title: Data Retention Days
        metadata_json:
          anyOf:
            - type: object
              additionalProperties: true
            - type: 'null'
          description: Metadata for the assistant
          title: Metadata Json
        icon_id:
          anyOf:
            - type: string
              format: uuid
            - type: 'null'
          description: Icon ID referencing an uploaded icon. Set to null to remove.
          title: Icon Id
      title: PartialAssistantUpdatePublic
    PartialCompletionModelUpdate:
      type: object
      properties:
        name:
          anyOf:
            - type: string
            - type: 'null'
          title: Name
        nickname:
          anyOf:
            - type: string
            - type: 'null'
          title: Nickname
        family:
          anyOf:
            - $ref: '#/components/schemas/ModelFamily'
            - type: 'null'
        token_limit:
          anyOf:
            - type: integer
            - type: 'null'
          title: Token Limit
        is_deprecated:
          anyOf:
            - type: boolean
            - type: 'null'
          title: Is Deprecated
        nr_billion_parameters:
          anyOf:
            - type: integer
            - type: 'null'
          title: Nr Billion Parameters
        hf_link:
          anyOf:
            - type: string
            - type: 'null'
          title: Hf Link
        stability:
          anyOf:
            - $ref: '#/components/schemas/ModelStability'
            - type: 'null'
        hosting:
          anyOf:
            - $ref: '#/components/schemas/ModelHostingLocation'
            - type: 'null'
        open_source:
          anyOf:
            - type: boolean
            - type: 'null'
          title: Open Source
        description:
          anyOf:
            - type: string
            - type: 'null'
          title: Description
        deployment_name:
          anyOf:
            - type: string
            - type: 'null'
          title: Deployment Name
        org:
          anyOf:
            - $ref: '#/components/schemas/ModelOrg'
            - type: 'null'
        vision:
          anyOf:
            - type: boolean
            - type: 'null'
          title: Vision
        reasoning:
          anyOf:
            - type: boolean
            - type: 'null'
          title: Reasoning
        base_url:
          anyOf:
            - type: string
            - type: 'null'
          title: Base Url
        litellm_model_name:
          anyOf:
            - type: string
            - type: 'null'
          title: Litellm Model Name
        id:
          anyOf:
            - type: string
              format: uuid
            - type: 'null'
          title: Id
      title: PartialCompletionModelUpdate
    PartialEmbeddingModelUpdate:
      type: object
      properties:
        name:
          anyOf:
            - type: string
            - type: 'null'
          title: Name
        family:
          anyOf:
            - $ref: '#/components/schemas/EmbeddingModelFamily'
            - type: 'null'
        is_deprecated:
          anyOf:
            - type: boolean
            - type: 'null'
          title: Is Deprecated
        open_source:
          anyOf:
            - type: boolean
            - type: 'null'
          title: Open Source
        dimensions:
          anyOf:
            - type: integer
            - type: 'null'
          title: Dimensions
        max_input:
          anyOf:
            - type: integer
            - type: 'null'
          title: Max Input
        max_batch_size:
          anyOf:
            - type: integer
            - type: 'null'
          title: Max Batch Size
        hf_link:
          anyOf:
            - type: string
            - type: 'null'
          title: Hf Link
        stability:
          anyOf:
            - $ref: '#/components/schemas/ModelStability'
            - type: 'null'
        hosting:
          anyOf:
            - $ref: '#/components/schemas/ModelHostingLocation'
            - type: 'null'
        description:
          anyOf:
            - type: string
            - type: 'null'
          title: Description
        org:
          anyOf:
            - $ref: '#/components/schemas/ModelOrg'
            - type: 'null'
        litellm_model_name:
          anyOf:
            - type: string
            - type: 'null'
          title: Litellm Model Name
        id:
          anyOf:
            - type: string
              format: uuid
            - type: 'null'
          title: Id
      title: PartialEmbeddingModelUpdate
    PartialPropUserUpdate:
      type: object
      properties:
        predefined_role:
          anyOf:
            - $ref: '#/components/schemas/ModelId'
            - type: 'null'
        state:
          anyOf:
            - $ref: '#/components/schemas/UserState'
            - type: 'null'
      title: PartialPropUserUpdate
    PartialServiceUpdatePublic:
      type: object
      properties:
        output_format:
          anyOf:
            - type: string
              enum:
                - json
                - list
                - boolean
            - type: 'null'
          title: Output Format
        json_schema:
          anyOf:
            - type: object
              additionalProperties: true
            - type: 'null'
          title: Json Schema
        name:
          anyOf:
            - type: string
            - type: 'null'
          title: Name
        prompt:
          anyOf:
            - type: string
            - type: 'null'
          title: Prompt
        completion_model_kwargs:
          anyOf:
            - $ref: '#/components/schemas/ModelKwargs'
            - type: 'null'
        groups:
          anyOf:
            - type: array
              items:
                $ref: '#/components/schemas/ModelId'
            - type: 'null'
          title: Groups
        completion_model:
          anyOf:
            - $ref: '#/components/schemas/ModelId'
            - type: 'null'
      title: PartialServiceUpdatePublic
    PartialUpdateSpaceRequest:
      type: object
      properties:
        name:
          anyOf:
            - type: string
            - type: 'null'
          title: Name
        description:
          anyOf:
            - type: string
            - type: 'null'
          title: Description
        embedding_models:
          anyOf:
            - type: array
              items:
                $ref: '#/components/schemas/ModelId'
            - type: 'null'
          title: Embedding Models
        completion_models:
          anyOf:
            - type: array
              items:
                $ref: '#/components/schemas/ModelId'
            - type: 'null'
          title: Completion Models
        transcription_models:
          anyOf:
            - type: array
              items:
                $ref: '#/components/schemas/ModelId'
            - type: 'null'
          title: Transcription Models
        security_classification:
          anyOf:
            - $ref: '#/components/schemas/ModelId'
            - type: 'null'
          description: >-
            ID of the security classification to apply to this space. Set to
            null to remove the security classification. Omit to keep the current
            security classification unchanged.
          title: Security Classification
        icon_id:
          anyOf:
            - type: string
              format: uuid
            - type: 'null'
          description: Icon ID referencing an uploaded icon. Set to null to remove.
          title: Icon Id
        data_retention_days:
          anyOf:
            - type: integer
              ge: 1
              le: 2555
            - type: 'null'
          description: >-
            Number of days to retain conversation history for this space.
            Applies to all assistants and apps in the space that don't have
            their own retention policy. Set to null to disable space-level
            retention. Omit to keep the current retention policy unchanged.
            Valid range: 1-2555 days (1 day to 7 years).
          title: Data Retention Days
      title: PartialUpdateSpaceRequest
    PendingQueueSummary:
      type: object
      description: Pending crawl queue summary.
      properties:
        total:
          type: integer
          default: 0
          title: Total
        tenant_count:
          type: integer
          default: 0
          title: Tenant Count
        top_tenants:
          type: object
          additionalProperties:
            type: integer
          default: { }
          title: Top Tenants
      title: PendingQueueSummary
    Permission:
      type: string
      enum:
        - assistants
        - group_chats
        - apps
        - services
        - collections
        - insights
        - AI
        - editor
        - admin
        - websites
        - integration_knowledge_list
      title: Permission
    PermissionPublic:
      type: object
      properties:
        name:
          $ref: '#/components/schemas/Permission'
        description:
          type: string
          title: Description
      required:
        - description
        - name
      title: PermissionPublic
    PredefinedRoleInDB:
      type: object
      properties:
        created_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Created At
        updated_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Updated At
        name:
          type: string
          title: Name
        permissions:
          type: array
          items:
            $ref: '#/components/schemas/Permission'
          title: Permissions
        id:
          type: string
          format: uuid
          title: Id
      required:
        - id
        - name
        - permissions
      title: PredefinedRoleInDB
    PredefinedRolePublic:
      type: object
      properties:
        created_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Created At
        updated_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Updated At
        name:
          type: string
          title: Name
        permissions:
          type: array
          items:
            $ref: '#/components/schemas/Permission'
          title: Permissions
        id:
          type: string
          format: uuid
          title: Id
      required:
        - id
        - name
        - permissions
      title: PredefinedRolePublic
    PrivacyPolicy:
      type: object
      properties:
        url:
          anyOf:
            - type: string
              format: uri
              maxLength: 2083
              minLength: 1
            - type: 'null'
          title: Url
      title: PrivacyPolicy
    PromptCreate:
      type: object
      properties:
        text:
          type: string
          title: Text
        description:
          anyOf:
            - type: string
            - type: 'null'
          title: Description
      required:
        - text
      title: PromptCreate
    PromptPublic:
      type: object
      properties:
        permissions:
          type: array
          default: [ ]
          items:
            $ref: '#/components/schemas/ResourcePermission'
          title: Permissions
        created_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Created At
        updated_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Updated At
        id:
          type: string
          format: uuid
          title: Id
        description:
          anyOf:
            - type: string
            - type: 'null'
          title: Description
        is_selected:
          anyOf:
            - type: boolean
            - type: 'null'
          title: Is Selected
        user:
          $ref: '#/components/schemas/UserSparse'
        text:
          type: string
          title: Text
      required:
        - id
        - text
        - user
      title: PromptPublic
    PromptPublicAppTemplate:
      type: object
      properties:
        text:
          anyOf:
            - type: string
            - type: 'null'
          title: Text
      required:
        - text
      title: PromptPublicAppTemplate
    PromptPublicAssistantTemplate:
      type: object
      properties:
        text:
          anyOf:
            - type: string
            - type: 'null'
          title: Text
      required:
        - text
      title: PromptPublicAssistantTemplate
    PromptSparse:
      type: object
      properties:
        permissions:
          type: array
          default: [ ]
          items:
            $ref: '#/components/schemas/ResourcePermission'
          title: Permissions
        created_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Created At
        updated_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Updated At
        id:
          type: string
          format: uuid
          title: Id
        description:
          anyOf:
            - type: string
            - type: 'null'
          title: Description
        is_selected:
          type: boolean
          title: Is Selected
        user:
          $ref: '#/components/schemas/UserSparse'
      required:
        - id
        - is_selected
        - user
      title: PromptSparse
    PromptUpdateRequest:
      type: object
      properties:
        description:
          anyOf:
            - type: string
            - type: 'null'
          title: Description
      title: PromptUpdateRequest
    PropUserInvite:
      type: object
      properties:
        predefined_role:
          anyOf:
            - $ref: '#/components/schemas/ModelId'
            - type: 'null'
        state:
          anyOf:
            - $ref: '#/components/schemas/UserState'
            - type: 'null'
        email:
          type: string
          format: email
          title: Email
      required:
        - email
      title: PropUserInvite
    QuestionMetadata:
      type: object
      properties:
        id:
          type: string
          format: uuid
          title: Id
        created_at:
          type: string
          format: date-time
          title: Created At
        assistant_id:
          anyOf:
            - type: string
              format: uuid
            - type: 'null'
          title: Assistant Id
        session_id:
          type: string
          format: uuid
          title: Session Id
      required:
        - created_at
        - id
        - session_id
      title: QuestionMetadata
    ResourcePermission:
      type: string
      enum:
        - read
        - create
        - edit
        - delete
        - add
        - remove
        - publish
        - insight_view
        - insight_toggle
      title: ResourcePermission
    RetentionPolicyResponse:
      type: object
      description: >-
        Schema for audit log retention policy response.


        Note: Conversation retention is configured at the Assistant, App, or
        Space level,

        not at the tenant level, to prevent accidental data loss.
      properties:
        tenant_id:
          type: string
          format: uuid
          title: Tenant Id
        retention_days:
          type: integer
          description: 'Days to retain audit logs (1-2555). Recommended: 90+'
          maximum: 2555
          minimum: 1
          title: Retention Days
        last_purge_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Last Purge At
        purge_count:
          type: integer
          title: Purge Count
        created_at:
          type: string
          format: date-time
          title: Created At
        updated_at:
          type: string
          format: date-time
          title: Updated At
      required:
        - created_at
        - purge_count
        - retention_days
        - tenant_id
        - updated_at
      title: RetentionPolicyResponse
    RetentionPolicyUpdateRequest:
      type: object
      description: >-
        Schema for updating audit log retention policy.


        Note: Conversation retention is configured at the Assistant, App, or
        Space level,

        not at the tenant level, to prevent accidental data loss.
      properties:
        retention_days:
          type: integer
          description: >-
            Days to retain audit logs (1 day minimum, 2555 days/7 years
            maximum). Recommended: 90+ days for compliance
          maximum: 2555
          minimum: 1
          title: Retention Days
      required:
        - retention_days
      title: RetentionPolicyUpdateRequest
    RoleCreateRequest:
      type: object
      properties:
        name:
          type: string
          title: Name
        permissions:
          type: array
          items:
            $ref: '#/components/schemas/Permission'
          title: Permissions
      required:
        - name
        - permissions
      title: RoleCreateRequest
    RoleInDB:
      type: object
      properties:
        created_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Created At
        updated_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Updated At
        id:
          type: string
          format: uuid
          title: Id
        name:
          type: string
          title: Name
        permissions:
          type: array
          items:
            $ref: '#/components/schemas/Permission'
          title: Permissions
        tenant_id:
          type: string
          format: uuid
          title: Tenant Id
      required:
        - id
        - name
        - permissions
        - tenant_id
      title: RoleInDB
    RolePublic:
      type: object
      properties:
        created_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Created At
        updated_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Updated At
        id:
          type: string
          format: uuid
          title: Id
        name:
          type: string
          title: Name
        permissions:
          type: array
          items:
            $ref: '#/components/schemas/Permission'
          title: Permissions
      required:
        - id
        - name
        - permissions
      title: RolePublic
    RoleUpdateRequest:
      type: object
      properties:
        name:
          anyOf:
            - type: string
            - type: 'null'
          title: Name
        permissions:
          anyOf:
            - type: array
              items:
                $ref: '#/components/schemas/Permission'
            - type: 'null'
          title: Permissions
      title: RoleUpdateRequest
    RolesPaginatedResponse:
      type: object
      properties:
        roles:
          $ref: '#/components/schemas/PaginatedResponse_RolePublic_'
        predefined_roles:
          $ref: '#/components/schemas/PaginatedResponse_PredefinedRolePublic_'
      required:
        - predefined_roles
        - roles
      title: RolesPaginatedResponse
    RunAppRequest:
      type: object
      properties:
        files:
          type: array
          default: [ ]
          items:
            $ref: '#/components/schemas/ModelId'
          title: Files
        text:
          anyOf:
            - type: string
            - type: 'null'
          title: Text
      title: RunAppRequest
    RunService:
      type: object
      properties:
        input:
          type: string
          title: Input
        files:
          type: array
          default: [ ]
          items:
            $ref: '#/components/schemas/ModelId'
          maxItems: 20
          title: Files
      required:
        - input
      title: RunService
    SecurityClassificationCreatePublic:
      type: object
      description: Base model for security classification data.
      properties:
        name:
          type: string
          description: Name of the security classification
          title: Name
        description:
          anyOf:
            - type: string
            - type: 'null'
          description: Description of the security classification
          title: Description
        set_lowest_security:
          type: boolean
          default: true
          description: 'Set lowest security level (0) if true, highest level if false'
          title: Set Lowest Security
      required:
        - name
      title: SecurityClassificationCreatePublic
    SecurityClassificationLevelsUpdateRequest:
      type: object
      properties:
        security_classifications:
          type: array
          description: Security classification IDs
          items:
            $ref: '#/components/schemas/ModelId'
          title: Security Classifications
      required:
        - security_classifications
      title: SecurityClassificationLevelsUpdateRequest
    SecurityClassificationPublic:
      type: object
      description: Basic security classification information.
      properties:
        created_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Created At
        updated_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Updated At
        id:
          type: string
          format: uuid
          title: Id
        name:
          type: string
          title: Name
        description:
          anyOf:
            - type: string
            - type: 'null'
          title: Description
        security_level:
          type: integer
          title: Security Level
      required:
        - description
        - id
        - name
        - security_level
      title: SecurityClassificationPublic
    SecurityClassificationResponse:
      type: object
      properties:
        security_enabled:
          type: boolean
          title: Security Enabled
        security_classifications:
          type: array
          items:
            $ref: '#/components/schemas/SecurityClassificationPublic'
          title: Security Classifications
      required:
        - security_classifications
        - security_enabled
      title: SecurityClassificationResponse
    SecurityClassificationSingleUpdate:
      type: object
      description: >-
        Model for updating an existing security classification's name and
        description only.
      properties:
        name:
          type: string
          description: Name of the security classification
          title: Name
        description:
          anyOf:
            - type: string
            - type: 'null'
          description: Description of the security classification
          title: Description
      title: SecurityClassificationSingleUpdate
    SecurityClassificationsListPublic:
      type: object
      description: All security classifications.
      properties:
        security_classifications:
          type: array
          items:
            $ref: '#/components/schemas/SecurityClassificationPublic'
          title: Security Classifications
      required:
        - security_classifications
      title: SecurityClassificationsListPublic
    SecurityEnableRequest:
      type: object
      description: Request to enable or disable security classifications for a tenant.
      properties:
        enabled:
          type: boolean
          description: Whether security classifications should be enabled for the tenant
          title: Enabled
      required:
        - enabled
      title: SecurityEnableRequest
    SecurityEnableResponse:
      type: object
      description: >-
        Response after enabling or disabling security classifications for a
        tenant.
      properties:
        security_enabled:
          type: boolean
          description: Whether security classifications are now enabled for the tenant
          title: Security Enabled
      required:
        - security_enabled
      title: SecurityEnableResponse
    SemanticSearchRequest:
      type: object
      properties:
        search_string:
          type: string
          title: Search String
        num_chunks:
          type: integer
          default: 30
          title: Num Chunks
        autocut_cutoff:
          anyOf:
            - type: integer
            - type: 'null'
          description: >-
            Experimental feature that tries to limit the amount of chunks to
            only the relevant ones, based on the score. Set to null (or omit
            completely) to not use this feature
          title: Autocut Cutoff
      required:
        - search_string
      title: SemanticSearchRequest
    SemanticSearchResponse:
      type: object
      properties:
        id:
          type: string
          format: uuid
          title: Id
        info_blob_id:
          type: string
          format: uuid
          title: Info Blob Id
        text:
          type: string
          title: Text
        score:
          type: number
          title: Score
        created_at:
          type: string
          format: date-time
          title: Created At
        updated_at:
          type: string
          format: date-time
          title: Updated At
      required:
        - created_at
        - id
        - info_blob_id
        - score
        - text
        - updated_at
      title: SemanticSearchResponse
    ServiceAccountAuthCallback:
      type: object
      description: Request model for service account OAuth callback.
      properties:
        auth_code:
          type: string
          description: OAuth authorization code from Microsoft callback
          title: Auth Code
        state:
          type: string
          description: OAuth state parameter for verification
          title: State
        client_id:
          type: string
          description: Azure AD Application (Client) ID (must match auth/start)
          title: Client Id
        client_secret:
          type: string
          description: Azure AD Application Client Secret (must match auth/start)
          title: Client Secret
        tenant_domain:
          type: string
          description: Azure AD Tenant Domain (must match auth/start)
          title: Tenant Domain
      required:
        - auth_code
        - client_id
        - client_secret
        - state
        - tenant_domain
      title: ServiceAccountAuthCallback
    ServiceAccountAuthStart:
      type: object
      description: Request model to start service account OAuth flow.
      properties:
        client_id:
          type: string
          description: Azure AD Application (Client) ID
          example: 12345678-1234-1234-1234-123456789012
          title: Client Id
        client_secret:
          type: string
          description: Azure AD Application Client Secret
          example: abc123~xyz789
          title: Client Secret
        tenant_domain:
          type: string
          description: 'Azure AD Tenant Domain (e.g., contoso.onmicrosoft.com)'
          example: contoso.onmicrosoft.com
          title: Tenant Domain
      required:
        - client_id
        - client_secret
        - tenant_domain
      title: ServiceAccountAuthStart
    ServiceAccountAuthStartResponse:
      type: object
      description: Response with OAuth URL for service account login.
      properties:
        auth_url:
          type: string
          description: Microsoft OAuth authorization URL. Redirect the admin to this URL.
          title: Auth Url
        state:
          type: string
          description: OAuth state parameter for CSRF protection
          title: State
      required:
        - auth_url
        - state
      title: ServiceAccountAuthStartResponse
    ServiceCreatePublic:
      type: object
      properties:
        output_format:
          anyOf:
            - type: string
              enum:
                - json
                - list
                - boolean
            - type: 'null'
          title: Output Format
        json_schema:
          anyOf:
            - type: object
              additionalProperties: true
            - type: 'null'
          title: Json Schema
        name:
          type: string
          title: Name
        prompt:
          type: string
          title: Prompt
        completion_model_kwargs:
          anyOf:
            - $ref: '#/components/schemas/ModelKwargs'
            - type: 'null'
        groups:
          type: array
          default: [ ]
          items:
            $ref: '#/components/schemas/ModelId'
          title: Groups
        completion_model:
          $ref: '#/components/schemas/ModelId'
      required:
        - completion_model
        - name
        - prompt
      title: ServiceCreatePublic
    ServiceOutput:
      type: object
      properties:
        output:
          anyOf:
            - type: object
              additionalProperties: true
            - type: array
              items: { }
            - type: string
            - type: boolean
          title: Output
        files:
          type: array
          default: [ ]
          items:
            $ref: '#/components/schemas/FilePublic'
          title: Files
      required:
        - output
      title: ServiceOutput
    ServicePublicWithUser:
      type: object
      properties:
        permissions:
          type: array
          default: [ ]
          items:
            $ref: '#/components/schemas/ResourcePermission'
          title: Permissions
        output_format:
          anyOf:
            - type: string
              enum:
                - json
                - list
                - boolean
            - type: 'null'
          title: Output Format
        json_schema:
          anyOf:
            - type: object
              additionalProperties: true
            - type: 'null'
          title: Json Schema
        created_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Created At
        updated_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Updated At
        id:
          type: string
          format: uuid
          title: Id
        name:
          type: string
          title: Name
        prompt:
          type: string
          title: Prompt
        completion_model_kwargs:
          anyOf:
            - $ref: '#/components/schemas/ModelKwargs'
            - type: 'null'
        space_id:
          anyOf:
            - type: string
              format: uuid
            - type: 'null'
          title: Space Id
        groups:
          type: array
          items:
            $ref: '#/components/schemas/GroupPublicBase'
          title: Groups
        completion_model:
          $ref: '#/components/schemas/CompletionModelPublic'
        user:
          $ref: '#/components/schemas/UserPublicBase'
      required:
        - completion_model
        - groups
        - id
        - name
        - prompt
        - user
      title: ServicePublicWithUser
    ServiceRun:
      type: object
      properties:
        id:
          type: string
          format: uuid
          title: Id
        input:
          type: string
          title: Input
        output:
          anyOf:
            - type: object
              additionalProperties: true
            - type: array
              items: { }
            - type: string
          title: Output
        completion_model:
          $ref: '#/components/schemas/CompletionModelPublic'
        references:
          type: array
          items:
            $ref: '#/components/schemas/InfoBlobPublic'
          title: References
      required:
        - completion_model
        - id
        - input
        - output
        - references
      title: ServiceRun
    ServiceSparse:
      type: object
      properties:
        created_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Created At
        updated_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Updated At
        id:
          type: string
          format: uuid
          title: Id
        output_format:
          anyOf:
            - type: string
              enum:
                - json
                - list
                - boolean
            - type: 'null'
          title: Output Format
        json_schema:
          anyOf:
            - type: object
              additionalProperties: true
            - type: 'null'
          title: Json Schema
        name:
          type: string
          title: Name
        prompt:
          type: string
          title: Prompt
        completion_model_kwargs:
          anyOf:
            - $ref: '#/components/schemas/ModelKwargs'
            - type: 'null'
        permissions:
          type: array
          default: [ ]
          items:
            $ref: '#/components/schemas/ResourcePermission'
          title: Permissions
        user_id:
          type: string
          format: uuid
          title: User Id
      required:
        - id
        - name
        - prompt
        - user_id
      title: ServiceSparse
    SessionFeedback:
      type: object
      properties:
        value:
          type: integer
          enum:
            - -1
            - 1
          title: Value
        text:
          anyOf:
            - type: string
            - type: 'null'
          title: Text
      required:
        - value
      title: SessionFeedback
    SessionMetadata:
      type: object
      properties:
        id:
          type: string
          format: uuid
          title: Id
        created_at:
          type: string
          format: date-time
          title: Created At
        assistant_id:
          anyOf:
            - type: string
              format: uuid
            - type: 'null'
          title: Assistant Id
        group_chat_id:
          anyOf:
            - type: string
              format: uuid
            - type: 'null'
          title: Group Chat Id
      required:
        - created_at
        - id
      title: SessionMetadata
    SessionMetadataPublic:
      type: object
      properties:
        created_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Created At
        updated_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Updated At
        name:
          type: string
          title: Name
        id:
          type: string
          format: uuid
          title: Id
      required:
        - id
        - name
      title: SessionMetadataPublic
    SessionPublic:
      type: object
      properties:
        created_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Created At
        updated_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Updated At
        name:
          type: string
          title: Name
        id:
          type: string
          format: uuid
          title: Id
        messages:
          type: array
          items:
            $ref: '#/components/schemas/Message'
          title: Messages
        feedback:
          anyOf:
            - $ref: '#/components/schemas/SessionFeedback'
            - type: 'null'
      required:
        - id
        - messages
        - name
      title: SessionPublic
    SetFederationRequest:
      type: object
      description: Request model for setting tenant federation config.
      properties:
        provider:
          type: string
          description: >-
            Identity provider label (e.g., 'mobilityguard', 'entra_id', 'okta',
            'auth0')
          title: Provider
        discovery_endpoint:
          type: string
          description: OIDC discovery endpoint URL
          examples:
            - >-
              https://login.microsoftonline.com/{tenant-id}/v2.0/.well-known/openid-configuration
          title: Discovery Endpoint
        client_id:
          type: string
          description: OAuth client ID
          title: Client Id
        client_secret:
          type: string
          description: OAuth client secret
          minLength: 8
          title: Client Secret
        allowed_domains:
          type: array
          description: 'Email domains allowed for this tenant (e.g., [''stockholm.se''])'
          examples:
            - - stockholm.se
              - stockholm.gov.se
          items:
            type: string
          title: Allowed Domains
        canonical_public_origin:
          anyOf:
            - type: string
            - type: 'null'
          description: >-
            Canonical public origin for this tenant (e.g.,
            https://tenant.eneo.se). Required for multi-tenant federation to
            construct redirect_uri
          examples:
            - 'https://stockholm.eneo.se'
          title: Canonical Public Origin
        redirect_path:
          anyOf:
            - type: string
            - type: 'null'
          description: Optional custom redirect path starting with /
          examples:
            - /auth/callback
          title: Redirect Path
      required:
        - client_id
        - client_secret
        - discovery_endpoint
        - provider
      title: SetFederationRequest
    SetFederationResponse:
      type: object
      description: Response model for setting federation config.
      properties:
        tenant_id:
          type: string
          format: uuid
          title: Tenant Id
        provider:
          type: string
          title: Provider
        masked_secret:
          type: string
          title: Masked Secret
        message:
          type: string
          title: Message
      required:
        - masked_secret
        - message
        - provider
        - tenant_id
      title: SetFederationResponse
    SettingsPublic:
      type: object
      properties:
        chatbot_widget:
          type: object
          additionalProperties: true
          default: { }
          title: Chatbot Widget
        using_templates:
          type: boolean
          default: false
          title: Using Templates
        tenant_credentials_enabled:
          type: boolean
          default: false
          title: Tenant Credentials Enabled
        audit_logging_enabled:
          type: boolean
          default: true
          title: Audit Logging Enabled
      title: SettingsPublic
    SharePointSubscriptionPublic:
      type: object
      description: Public representation of a SharePoint subscription.
      properties:
        id:
          type: string
          format: uuid
          title: Id
        user_integration_id:
          type: string
          format: uuid
          title: User Integration Id
        site_id:
          type: string
          title: Site Id
        subscription_id:
          type: string
          title: Subscription Id
        drive_id:
          type: string
          title: Drive Id
        expires_at:
          type: string
          format: date-time
          title: Expires At
        created_at:
          type: string
          format: date-time
          title: Created At
        is_expired:
          type: boolean
          description: True if subscription has already expired
          title: Is Expired
        expires_in_hours:
          type: integer
          description: Hours until expiration (0 if already expired)
          title: Expires In Hours
        owner_email:
          anyOf:
            - type: string
            - type: 'null'
          description: Email of subscription owner (None for organization integrations)
          title: Owner Email
        owner_type:
          type: string
          description: 'Type of owner: ''user'' or ''organization'''
          title: Owner Type
      required:
        - created_at
        - drive_id
        - expires_at
        - expires_in_hours
        - id
        - is_expired
        - owner_type
        - site_id
        - subscription_id
        - user_integration_id
      title: SharePointSubscriptionPublic
    SharePointTreeItem:
      type: object
      properties:
        id:
          type: string
          title: Id
        name:
          type: string
          title: Name
        type:
          type: string
          title: Type
        path:
          type: string
          title: Path
        has_children:
          type: boolean
          title: Has Children
        size:
          anyOf:
            - type: integer
            - type: 'null'
          title: Size
        modified:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Modified
        web_url:
          anyOf:
            - type: string
            - type: 'null'
          title: Web Url
      required:
        - has_children
        - id
        - name
        - path
        - type
      title: SharePointTreeItem
    SharePointTreeResponse:
      type: object
      properties:
        items:
          type: array
          items:
            $ref: '#/components/schemas/SharePointTreeItem'
          title: Items
        current_path:
          type: string
          title: Current Path
        parent_id:
          anyOf:
            - type: string
            - type: 'null'
          title: Parent Id
        drive_id:
          type: string
          title: Drive Id
        site_id:
          anyOf:
            - type: string
            - type: 'null'
          title: Site Id
      required:
        - current_path
        - drive_id
        - items
      title: SharePointTreeResponse
    SignedURLRequest:
      type: object
      properties:
        expires_in:
          type: integer
          default: 3600
          title: Expires In
        content_disposition:
          $ref: '#/components/schemas/ContentDisposition'
          default: attachment
      title: SignedURLRequest
    SignedURLResponse:
      type: object
      properties:
        url:
          type: string
          title: Url
        expires_at:
          type: integer
          title: Expires At
      required:
        - expires_at
        - url
      title: SignedURLResponse
    SortField:
      type: string
      description: Allowed fields for sorting user lists
      enum:
        - email
        - username
        - created_at
      title: SortField
    SortOrder:
      type: string
      description: Sort direction for user lists
      enum:
        - asc
        - desc
      title: SortOrder
    SpaceDashboard:
      type: object
      properties:
        permissions:
          type: array
          default: [ ]
          items:
            $ref: '#/components/schemas/ResourcePermission'
          title: Permissions
        created_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Created At
        updated_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Updated At
        id:
          type: string
          format: uuid
          title: Id
        name:
          type: string
          title: Name
        description:
          anyOf:
            - type: string
            - type: 'null'
          title: Description
        personal:
          type: boolean
          title: Personal
        organization:
          type: boolean
          title: Organization
        icon_id:
          anyOf:
            - type: string
              format: uuid
            - type: 'null'
          description: Icon ID referencing an uploaded icon
          title: Icon Id
        applications:
          $ref: '#/components/schemas/Applications'
        default_assistant:
          anyOf:
            - $ref: '#/components/schemas/DefaultAssistant'
            - type: 'null'
        data_retention_days:
          anyOf:
            - type: integer
            - type: 'null'
          title: Data Retention Days
      required:
        - applications
        - description
        - id
        - name
        - organization
        - personal
      title: SpaceDashboard
    SpaceMember:
      type: object
      properties:
        created_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Created At
        updated_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Updated At
        id:
          type: string
          format: uuid
          title: Id
        email:
          type: string
          format: email
          title: Email
        username:
          anyOf:
            - type: string
            - type: 'null'
          title: Username
        role:
          $ref: '#/components/schemas/SpaceRoleValue'
      required:
        - email
        - id
        - role
      title: SpaceMember
    SpacePublic:
      type: object
      properties:
        permissions:
          type: array
          default: [ ]
          items:
            $ref: '#/components/schemas/ResourcePermission'
          title: Permissions
        created_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Created At
        updated_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Updated At
        id:
          type: string
          format: uuid
          title: Id
        name:
          type: string
          title: Name
        description:
          anyOf:
            - type: string
            - type: 'null'
          title: Description
        personal:
          type: boolean
          title: Personal
        organization:
          type: boolean
          title: Organization
        icon_id:
          anyOf:
            - type: string
              format: uuid
            - type: 'null'
          description: Icon ID referencing an uploaded icon
          title: Icon Id
        applications:
          $ref: '#/components/schemas/Applications'
        default_assistant:
          $ref: '#/components/schemas/DefaultAssistant'
        data_retention_days:
          anyOf:
            - type: integer
            - type: 'null'
          title: Data Retention Days
        embedding_models:
          type: array
          items:
            $ref: '#/components/schemas/EmbeddingModelPublic'
          title: Embedding Models
        completion_models:
          type: array
          items:
            $ref: '#/components/schemas/CompletionModelPublic'
          title: Completion Models
        transcription_models:
          type: array
          items:
            $ref: '#/components/schemas/TranscriptionModelPublic'
          title: Transcription Models
        knowledge:
          $ref: '#/components/schemas/Knowledge'
        members:
          $ref: '#/components/schemas/PaginatedPermissions_SpaceMember_'
        available_roles:
          type: array
          items:
            $ref: '#/components/schemas/SpaceRole'
          title: Available Roles
        security_classification:
          anyOf:
            - $ref: '#/components/schemas/SecurityClassificationPublic'
            - type: 'null'
      required:
        - applications
        - available_roles
        - completion_models
        - default_assistant
        - description
        - embedding_models
        - id
        - knowledge
        - members
        - name
        - organization
        - personal
        - security_classification
        - transcription_models
      title: SpacePublic
    SpaceRole:
      type: object
      properties:
        value:
          $ref: '#/components/schemas/SpaceRoleValue'
        label:
          type: string
          readOnly: true
          title: Label
      required:
        - label
        - value
      title: SpaceRole
    SpaceRoleValue:
      type: string
      enum:
        - admin
        - editor
        - viewer
      title: SpaceRoleValue
    SpaceSparse:
      type: object
      properties:
        permissions:
          type: array
          default: [ ]
          items:
            $ref: '#/components/schemas/ResourcePermission'
          title: Permissions
        created_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Created At
        updated_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Updated At
        id:
          type: string
          format: uuid
          title: Id
        name:
          type: string
          title: Name
        description:
          anyOf:
            - type: string
            - type: 'null'
          title: Description
        personal:
          type: boolean
          title: Personal
        organization:
          type: boolean
          title: Organization
        icon_id:
          anyOf:
            - type: string
              format: uuid
            - type: 'null'
          description: Icon ID referencing an uploaded icon
          title: Icon Id
        applications:
          anyOf:
            - $ref: '#/components/schemas/Applications'
            - type: 'null'
        default_assistant:
          anyOf:
            - $ref: '#/components/schemas/DefaultAssistant'
            - type: 'null'
        data_retention_days:
          anyOf:
            - type: integer
            - type: 'null'
          title: Data Retention Days
      required:
        - description
        - id
        - name
        - organization
        - personal
      title: SpaceSparse
    StateFilter:
      type: string
      description: Filter for user state in admin users list
      enum:
        - active
        - inactive
      title: StateFilter
    Status:
      type: string
      enum:
        - in progress
        - queued
        - complete
        - failed
        - not found
      title: Status
    StorageInfoModel:
      type: object
      properties:
        count:
          type: integer
          title: Count
        items:
          type: array
          items:
            $ref: '#/components/schemas/StorageSpaceInfoModel'
          title: Items
      required:
        - count
        - items
      title: StorageInfoModel
    StorageModel:
      type: object
      properties:
        total_used:
          type: integer
          title: Total Used
        personal_used:
          type: integer
          title: Personal Used
        shared_used:
          type: integer
          title: Shared Used
        limit:
          type: integer
          title: Limit
      required:
        - limit
        - personal_used
        - shared_used
        - total_used
      title: StorageModel
    StorageSpaceInfoModel:
      type: object
      properties:
        created_at:
          type: string
          format: date-time
          title: Created At
        update_at:
          type: string
          format: date-time
          title: Update At
        id:
          type: string
          format: uuid
          title: Id
        name:
          type: string
          title: Name
        size:
          type: integer
          title: Size
        members:
          type: array
          items:
            $ref: '#/components/schemas/StorageSpaceMemberModel'
          title: Members
      required:
        - created_at
        - id
        - members
        - name
        - size
        - update_at
      title: StorageSpaceInfoModel
    StorageSpaceMemberModel:
      type: object
      properties:
        created_at:
          type: string
          format: date-time
          title: Created At
        updated_at:
          type: string
          format: date-time
          title: Updated At
        id:
          type: string
          format: uuid
          title: Id
        email:
          type: string
          title: Email
        role:
          type: string
          title: Role
      required:
        - created_at
        - email
        - id
        - role
        - updated_at
      title: StorageSpaceMemberModel
    SubscriptionRenewalResult:
      type: object
      description: Result of subscription renewal operation.
      properties:
        total_subscriptions:
          type: integer
          description: Total number of subscriptions found
          title: Total Subscriptions
        expired_count:
          type: integer
          description: Number of expired subscriptions
          title: Expired Count
        recreated:
          type: integer
          default: 0
          description: Number of subscriptions successfully recreated
          title: Recreated
        failed:
          type: integer
          default: 0
          description: Number of subscriptions that failed to recreate
          title: Failed
        errors:
          type: array
          description: Error messages for failed renewals
          items:
            type: string
          title: Errors
      required:
        - expired_count
        - total_subscriptions
      title: SubscriptionRenewalResult
    SyncLog:
      type: object
      description: Detailed sync operation log.
      properties:
        id:
          type: string
          format: uuid
          title: Id
        integration_knowledge_id:
          type: string
          format: uuid
          title: Integration Knowledge Id
        sync_type:
          type: string
          title: Sync Type
        status:
          type: string
          title: Status
        metadata:
          anyOf:
            - type: object
              additionalProperties: true
            - type: 'null'
          title: Metadata
        error_message:
          anyOf:
            - type: string
            - type: 'null'
          title: Error Message
        started_at:
          type: string
          format: date-time
          title: Started At
        completed_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Completed At
        created_at:
          type: string
          format: date-time
          title: Created At
        files_processed:
          type: integer
          description: Get files_processed from metadata.
          readOnly: true
          title: Files Processed
        files_deleted:
          type: integer
          description: Get files_deleted from metadata.
          readOnly: true
          title: Files Deleted
        pages_processed:
          type: integer
          description: Get pages_processed from metadata.
          readOnly: true
          title: Pages Processed
        folders_processed:
          type: integer
          description: Get folders_processed from metadata.
          readOnly: true
          title: Folders Processed
        skipped_items:
          type: integer
          description: Get skipped_items from metadata.
          readOnly: true
          title: Skipped Items
        duration_seconds:
          anyOf:
            - type: number
            - type: 'null'
          description: Calculate sync duration in seconds.
          readOnly: true
          title: Duration Seconds
        total_items_processed:
          type: integer
          description: Total items processed in this sync.
          readOnly: true
          title: Total Items Processed
      required:
        - created_at
        - duration_seconds
        - files_deleted
        - files_processed
        - folders_processed
        - id
        - integration_knowledge_id
        - pages_processed
        - skipped_items
        - started_at
        - status
        - sync_type
        - total_items_processed
      title: SyncLog
    Task:
      type: string
      enum:
        - upload_info_blob
        - transcription
        - crawl
        - embed_group
        - crawl_all_websites
        - run_app
        - pull_confluence_content
        - pull_sharepoint_content
        - sync_sharepoint_delta
        - update_model_usage_stats
      title: Task
    TemplateCreate:
      type: object
      properties:
        id:
          type: string
          format: uuid
          title: Id
        additional_fields:
          anyOf:
            - type: array
              items:
                $ref: '#/components/schemas/AdditionalField'
            - type: 'null'
          title: Additional Fields
      required:
        - additional_fields
        - id
      title: TemplateCreate
    TemplateListPublic:
      type: object
      properties:
        items:
          type: array
          items:
            anyOf:
              - $ref: '#/components/schemas/AppTemplatePublic'
              - $ref: '#/components/schemas/AssistantTemplatePublic'
          title: Items
        count:
          type: integer
          readOnly: true
          title: Count
      required:
        - count
        - items
      title: TemplateListPublic
    TemplateSettingUpdate:
      type: object
      properties:
        enabled:
          type: boolean
          title: Enabled
      required:
        - enabled
      title: TemplateSettingUpdate
    TemplateWizard:
      type: object
      properties:
        required:
          type: boolean
          default: false
          title: Required
        title:
          anyOf:
            - type: string
            - type: 'null'
          title: Title
        description:
          anyOf:
            - type: string
            - type: 'null'
          title: Description
      title: TemplateWizard
    TenantAppTestResult:
      type: object
      description: Result of testing tenant app credentials.
      properties:
        success:
          type: boolean
          title: Success
        error_message:
          anyOf:
            - type: string
            - type: 'null'
          title: Error Message
        details:
          anyOf:
            - type: string
            - type: 'null'
          description: >-
            Additional details about the test (e.g., token acquired
            successfully)
          title: Details
      required:
        - success
      title: TenantAppTestResult
    TenantBase:
      type: object
      properties:
        name:
          type: string
          title: Name
        display_name:
          anyOf:
            - type: string
            - type: 'null'
          title: Display Name
        quota_limit:
          type: integer
          format: int64
          default: 10737418240
          description: Size in bytes. Default is 10 GB
          title: Quota Limit
        domain:
          anyOf:
            - type: string
            - type: 'null'
          title: Domain
        zitadel_org_id:
          anyOf:
            - type: string
            - type: 'null'
          title: Zitadel Org Id
        provisioning:
          type: boolean
          default: false
          title: Provisioning
        state:
          $ref: '#/components/schemas/TenantState'
          default: active
        security_enabled:
          type: boolean
          default: false
          title: Security Enabled
      required:
        - name
      title: TenantBase
    TenantInDB:
      type: object
      properties:
        created_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Created At
        updated_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Updated At
        id:
          type: string
          format: uuid
          title: Id
        privacy_policy:
          anyOf:
            - type: string
              format: uri
              maxLength: 2083
              minLength: 1
            - type: 'null'
          title: Privacy Policy
        name:
          type: string
          title: Name
        display_name:
          anyOf:
            - type: string
            - type: 'null'
          title: Display Name
        slug:
          anyOf:
            - type: string
            - type: 'null'
          title: Slug
        quota_limit:
          type: integer
          title: Quota Limit
        domain:
          anyOf:
            - type: string
            - type: 'null'
          title: Domain
        zitadel_org_id:
          anyOf:
            - type: string
            - type: 'null'
          title: Zitadel Org Id
        provisioning:
          type: boolean
          default: false
          title: Provisioning
        state:
          $ref: '#/components/schemas/TenantState'
          default: active
        security_enabled:
          type: boolean
          default: false
          title: Security Enabled
        modules:
          type: array
          default: [ ]
          items:
            $ref: '#/components/schemas/ModuleInDB'
          title: Modules
        api_credentials:
          type: object
          additionalProperties: true
          title: Api Credentials
        federation_config:
          type: object
          additionalProperties: true
          title: Federation Config
        crawler_settings:
          type: object
          additionalProperties: true
          title: Crawler Settings
      required:
        - id
        - name
        - quota_limit
      title: TenantInDB
    TenantInfo:
      type: object
      description: Public tenant information for selector grid.
      example:
        display_name: Stockholm
        name: Stockholm Municipality
        slug: stockholm
      properties:
        slug:
          type: string
          title: Slug
        name:
          type: string
          title: Name
        display_name:
          type: string
          title: Display Name
      required:
        - display_name
        - name
        - slug
      title: TenantInfo
    TenantIntegration:
      type: object
      properties:
        id:
          anyOf:
            - type: string
              format: uuid
            - type: 'null'
          title: Id
        name:
          type: string
          title: Name
        description:
          type: string
          title: Description
        integration_type:
          $ref: '#/components/schemas/IntegrationType'
        integration_id:
          type: string
          format: uuid
          title: Integration Id
        is_linked_to_tenant:
          type: boolean
          readOnly: true
          title: Is Linked To Tenant
      required:
        - description
        - integration_id
        - integration_type
        - is_linked_to_tenant
        - name
      title: TenantIntegration
    TenantIntegrationFilter:
      type: string
      enum:
        - all
        - tenant_only
      title: TenantIntegrationFilter
    TenantIntegrationList:
      type: object
      properties:
        items:
          type: array
          items:
            $ref: '#/components/schemas/TenantIntegration'
          title: Items
        count:
          type: integer
          readOnly: true
          title: Count
      required:
        - count
        - items
      title: TenantIntegrationList
    TenantListResponse:
      type: object
      description: List of tenants for selector.
      example:
        tenants:
          - display_name: Stockholm
            name: Stockholm Municipality
            slug: stockholm
          - display_name: Gothenburg
            name: Gothenburg Municipality
            slug: goteborg
      properties:
        tenants:
          type: array
          items:
            $ref: '#/components/schemas/TenantInfo'
          title: Tenants
      required:
        - tenants
      title: TenantListResponse
    TenantPublic:
      type: object
      properties:
        name:
          type: string
          title: Name
        display_name:
          anyOf:
            - type: string
            - type: 'null'
          title: Display Name
        quota_limit:
          type: integer
          format: int64
          default: 10737418240
          description: Size in bytes. Default is 10 GB
          title: Quota Limit
        domain:
          anyOf:
            - type: string
            - type: 'null'
          title: Domain
        zitadel_org_id:
          anyOf:
            - type: string
            - type: 'null'
          title: Zitadel Org Id
        provisioning:
          type: boolean
          default: false
          title: Provisioning
        state:
          $ref: '#/components/schemas/TenantState'
          default: active
        security_enabled:
          type: boolean
          default: false
          title: Security Enabled
        privacy_policy:
          anyOf:
            - type: string
              format: uri
              maxLength: 2083
              minLength: 1
            - type: 'null'
          title: Privacy Policy
      required:
        - name
      title: TenantPublic
    TenantSharePointAppCreate:
      type: object
      description: Request model for creating/updating tenant SharePoint app credentials.
      properties:
        client_id:
          type: string
          description: Azure AD Application (Client) ID
          example: 12345678-1234-1234-1234-123456789012
          title: Client Id
        client_secret:
          type: string
          description: Azure AD Application Client Secret
          example: abc123~xyz789
          title: Client Secret
        tenant_domain:
          type: string
          description: 'Azure AD Tenant Domain (e.g., contoso.onmicrosoft.com)'
          example: contoso.onmicrosoft.com
          title: Tenant Domain
        certificate_path:
          anyOf:
            - type: string
            - type: 'null'
          description: Optional path to certificate for certificate-based authentication
          title: Certificate Path
      required:
        - client_id
        - client_secret
        - tenant_domain
      title: TenantSharePointAppCreate
    TenantSharePointAppPublic:
      type: object
      description: Response model for tenant SharePoint app (secret masked).
      properties:
        id:
          type: string
          format: uuid
          title: Id
        tenant_id:
          type: string
          format: uuid
          title: Tenant Id
        client_id:
          type: string
          title: Client Id
        client_secret_masked:
          type: string
          description: Masked client secret (last 4 chars visible)
          example: '********xyz789'
          title: Client Secret Masked
        tenant_domain:
          type: string
          title: Tenant Domain
        is_active:
          type: boolean
          title: Is Active
        auth_method:
          type: string
          description: 'Authentication method: ''tenant_app'' or ''service_account'''
          example: service_account
          title: Auth Method
        service_account_email:
          anyOf:
            - type: string
            - type: 'null'
          description: Email of the service account (only for service_account auth method)
          title: Service Account Email
        certificate_path:
          anyOf:
            - type: string
            - type: 'null'
          title: Certificate Path
        created_by:
          anyOf:
            - type: string
              format: uuid
            - type: 'null'
          title: Created By
        created_at:
          type: string
          format: date-time
          title: Created At
        updated_at:
          type: string
          format: date-time
          title: Updated At
      required:
        - auth_method
        - certificate_path
        - client_id
        - client_secret_masked
        - created_at
        - created_by
        - id
        - is_active
        - tenant_domain
        - tenant_id
        - updated_at
      title: TenantSharePointAppPublic
    TenantState:
      type: string
      enum:
        - active
        - suspended
      title: TenantState
    TenantUpdatePublic:
      type: object
      properties:
        display_name:
          anyOf:
            - type: string
            - type: 'null'
          title: Display Name
        quota_limit:
          anyOf:
            - type: integer
            - type: 'null'
          title: Quota Limit
        domain:
          anyOf:
            - type: string
            - type: 'null'
          title: Domain
        zitadel_org_id:
          anyOf:
            - type: string
            - type: 'null'
          title: Zitadel Org Id
        provisioning:
          anyOf:
            - type: boolean
            - type: 'null'
          title: Provisioning
        state:
          anyOf:
            - $ref: '#/components/schemas/TenantState'
            - type: 'null'
        security_enabled:
          anyOf:
            - type: boolean
            - type: 'null'
          title: Security Enabled
      title: TenantUpdatePublic
    TenantWithMaskedCredentials:
      type: object
      description: |-
        TenantInDB with masked API credentials for safe API responses.

        This model is used when returning tenant data through API endpoints
        to prevent exposing full API keys. The api_credentials field is
        automatically masked to show only the last 4 characters of each key.

        Example:
            Full credential: {"openai": {"api_key": "sk-proj-abc123xyz"}}
            Masked: {"openai": "...xyz"}
      properties:
        created_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Created At
        updated_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Updated At
        id:
          type: string
          format: uuid
          title: Id
        privacy_policy:
          anyOf:
            - type: string
              format: uri
              maxLength: 2083
              minLength: 1
            - type: 'null'
          title: Privacy Policy
        name:
          type: string
          title: Name
        display_name:
          anyOf:
            - type: string
            - type: 'null'
          title: Display Name
        slug:
          anyOf:
            - type: string
            - type: 'null'
          title: Slug
        quota_limit:
          type: integer
          title: Quota Limit
        domain:
          anyOf:
            - type: string
            - type: 'null'
          title: Domain
        zitadel_org_id:
          anyOf:
            - type: string
            - type: 'null'
          title: Zitadel Org Id
        provisioning:
          type: boolean
          default: false
          title: Provisioning
        state:
          $ref: '#/components/schemas/TenantState'
          default: active
        security_enabled:
          type: boolean
          default: false
          title: Security Enabled
        modules:
          type: array
          default: [ ]
          items:
            $ref: '#/components/schemas/ModuleInDB'
          title: Modules
        api_credentials:
          type: object
          additionalProperties: true
          title: Api Credentials
        federation_config:
          type: object
          additionalProperties: true
          title: Federation Config
        crawler_settings:
          type: object
          additionalProperties: true
          title: Crawler Settings
      required:
        - id
        - name
        - quota_limit
      title: TenantWithMaskedCredentials
    TokenEstimateBreakdown:
      type: object
      description: Breakdown of token usage by source.
      properties:
        prompt:
          type: integer
          description: Tokens used by assistant prompt
          title: Prompt
        text:
          type: integer
          description: Tokens used by user input text
          title: Text
        files:
          type: integer
          description: Total tokens used by all files
          title: Files
        file_details:
          type: object
          additionalProperties:
            type: integer
          description: Per-file token counts
          title: File Details
      required:
        - files
        - prompt
        - text
      title: TokenEstimateBreakdown
    TokenEstimateRequest:
      type: object
      description: Request payload for estimating tokens.
      properties:
        text:
          type: string
          default: ''
          description: User input text to evaluate
          title: Text
        file_ids:
          type: array
          description: List of file IDs to include in the estimate
          items:
            type: string
            format: uuid
          title: File Ids
      title: TokenEstimateRequest
    TokenEstimateResponse:
      type: object
      description: Response model for token usage estimation.
      properties:
        tokens:
          type: integer
          description: Total token count
          title: Tokens
        percentage:
          type: number
          description: Percentage of context window used
          title: Percentage
        limit:
          type: integer
          description: Model's context window limit
          title: Limit
        breakdown:
          $ref: '#/components/schemas/TokenEstimateBreakdown'
          description: Token usage breakdown by source
      required:
        - breakdown
        - limit
        - percentage
        - tokens
      title: TokenEstimateResponse
    TokenUsageSummary:
      type: object
      properties:
        start_date:
          type: string
          format: date-time
          title: Start Date
        end_date:
          type: string
          format: date-time
          title: End Date
        models:
          type: array
          items:
            $ref: '#/components/schemas/ModelUsage'
          title: Models
        total_input_token_usage:
          type: integer
          description: Total input token usage across all models
          title: Total Input Token Usage
        total_output_token_usage:
          type: integer
          description: Total output token usage across all models
          title: Total Output Token Usage
        total_token_usage:
          type: integer
          description: Total combined token usage across all models
          title: Total Token Usage
      required:
        - end_date
        - models
        - start_date
        - total_input_token_usage
        - total_output_token_usage
        - total_token_usage
      title: TokenUsageSummary
    ToolAssistant:
      type: object
      properties:
        id:
          type: string
          format: uuid
          title: Id
        handle:
          type: string
          title: Handle
      required:
        - handle
        - id
      title: ToolAssistant
    TranscriptionModelPublic:
      type: object
      properties:
        id:
          type: string
          format: uuid
          title: Id
        name:
          type: string
          title: Name
        nickname:
          type: string
          title: Nickname
        family:
          $ref: '#/components/schemas/ModelFamily'
        is_deprecated:
          type: boolean
          title: Is Deprecated
        stability:
          $ref: '#/components/schemas/ModelStability'
        hosting:
          $ref: '#/components/schemas/ModelHostingLocation'
        open_source:
          anyOf:
            - type: boolean
            - type: 'null'
          title: Open Source
        description:
          anyOf:
            - type: string
            - type: 'null'
          title: Description
        hf_link:
          anyOf:
            - type: string
            - type: 'null'
          title: Hf Link
        org:
          anyOf:
            - $ref: '#/components/schemas/ModelOrg'
            - type: 'null'
        can_access:
          type: boolean
          default: false
          title: Can Access
        is_locked:
          type: boolean
          default: true
          title: Is Locked
        lock_reason:
          anyOf:
            - type: string
            - type: 'null'
          title: Lock Reason
        is_org_enabled:
          type: boolean
          default: false
          title: Is Org Enabled
        is_org_default:
          type: boolean
          default: false
          title: Is Org Default
        credential_provider:
          anyOf:
            - type: string
            - type: 'null'
          title: Credential Provider
        security_classification:
          anyOf:
            - $ref: '#/components/schemas/SecurityClassificationPublic'
            - type: 'null'
      required:
        - family
        - hosting
        - id
        - is_deprecated
        - name
        - nickname
        - stability
      title: TranscriptionModelPublic
    TranscriptionModelSecurityStatus:
      type: object
      properties:
        id:
          type: string
          format: uuid
          title: Id
        name:
          type: string
          title: Name
        nickname:
          type: string
          title: Nickname
        family:
          $ref: '#/components/schemas/ModelFamily'
        is_deprecated:
          type: boolean
          title: Is Deprecated
        stability:
          $ref: '#/components/schemas/ModelStability'
        hosting:
          $ref: '#/components/schemas/ModelHostingLocation'
        open_source:
          anyOf:
            - type: boolean
            - type: 'null'
          title: Open Source
        description:
          anyOf:
            - type: string
            - type: 'null'
          title: Description
        hf_link:
          anyOf:
            - type: string
            - type: 'null'
          title: Hf Link
        org:
          anyOf:
            - $ref: '#/components/schemas/ModelOrg'
            - type: 'null'
        can_access:
          type: boolean
          default: false
          title: Can Access
        is_locked:
          type: boolean
          default: true
          title: Is Locked
        lock_reason:
          anyOf:
            - type: string
            - type: 'null'
          title: Lock Reason
        is_org_enabled:
          type: boolean
          default: false
          title: Is Org Enabled
        is_org_default:
          type: boolean
          default: false
          title: Is Org Default
        credential_provider:
          anyOf:
            - type: string
            - type: 'null'
          title: Credential Provider
        security_classification:
          anyOf:
            - $ref: '#/components/schemas/SecurityClassificationPublic'
            - type: 'null'
        meets_security_classification:
          anyOf:
            - type: boolean
            - type: 'null'
          title: Meets Security Classification
      required:
        - family
        - hosting
        - id
        - is_deprecated
        - name
        - nickname
        - stability
      title: TranscriptionModelSecurityStatus
    TranscriptionModelUpdate:
      type: object
      properties:
        is_org_enabled:
          anyOf:
            - type: boolean
            - type: 'null'
          title: Is Org Enabled
        is_org_default:
          anyOf:
            - type: boolean
            - type: 'null'
          title: Is Org Default
        security_classification:
          anyOf:
            - $ref: '#/components/schemas/ModelId'
            - type: 'null'
          title: Security Classification
      title: TranscriptionModelUpdate
    TransferApplicationRequest:
      type: object
      properties:
        target_space_id:
          type: string
          format: uuid
          title: Target Space Id
        move_resources:
          type: boolean
          default: false
          title: Move Resources
      required:
        - target_space_id
      title: TransferApplicationRequest
    TransferRequest:
      type: object
      properties:
        target_space_id:
          type: string
          format: uuid
          title: Target Space Id
      required:
        - target_space_id
      title: TransferRequest
    UpdateIntegrationKnowledgeRequest:
      type: object
      properties:
        name:
          type: string
          title: Name
      required:
        - name
      title: UpdateIntegrationKnowledgeRequest
    UpdateInterval:
      type: string
      description: |-
        Defines how frequently a website should be crawled.

        Why: Provides flexible scheduling options for automated crawling.
      enum:
        - never
        - daily
        - every_other_day
        - weekly
      title: UpdateInterval
    UpdateSpaceDryRunResponse:
      type: object
      properties:
        assistants:
          type: array
          items:
            $ref: '#/components/schemas/AssistantSparse'
          title: Assistants
        group_chats:
          type: array
          items:
            $ref: '#/components/schemas/GroupChatSparse'
          title: Group Chats
        services:
          type: array
          items:
            $ref: '#/components/schemas/ServiceSparse'
          title: Services
        apps:
          type: array
          items:
            $ref: '#/components/schemas/AppSparse'
          title: Apps
        completion_models:
          type: array
          items:
            $ref: '#/components/schemas/CompletionModelPublic'
          title: Completion Models
        embedding_models:
          type: array
          items:
            $ref: '#/components/schemas/EmbeddingModelPublic'
          title: Embedding Models
        transcription_models:
          type: array
          items:
            $ref: '#/components/schemas/TranscriptionModelPublic'
          title: Transcription Models
      required:
        - apps
        - assistants
        - completion_models
        - embedding_models
        - group_chats
        - services
        - transcription_models
      title: UpdateSpaceDryRunResponse
    UpdateSpaceMemberRequest:
      type: object
      properties:
        role:
          $ref: '#/components/schemas/SpaceRoleValue'
      required:
        - role
      title: UpdateSpaceMemberRequest
    UseTools:
      type: object
      properties:
        assistants:
          type: array
          items:
            $ref: '#/components/schemas/ToolAssistant'
          title: Assistants
      required:
        - assistants
      title: UseTools
    UserAddAdmin:
      type: object
      properties:
        email:
          type: string
          format: email
          description: Valid email address
          examples:
            - john.doe@municipality.se
          title: Email
        username:
          anyOf:
            - type: string
            - type: 'null'
          description: 'Unique username (optional, will use email prefix if not provided)'
          examples:
            - john.doe
          title: Username
        password:
          anyOf:
            - type: string
              maxLength: 100
              minLength: 7
            - type: 'null'
          description: User password (minimum 7 characters)
          examples:
            - SecurePassword123!
          title: Password
        quota_limit:
          anyOf:
            - type: integer
              minimum: 1000
            - type: 'null'
          description: Storage limit in bytes (minimum 1000 bytes = 1KB)
          examples:
            - 50000000
          title: Quota Limit
        roles:
          type: array
          default: [ ]
          description: List of custom role IDs to assign to the user
          examples:
            - [ ]
          items:
            $ref: '#/components/schemas/ModelId'
          title: Roles
        predefined_roles:
          type: array
          default: [ ]
          description: List of predefined role IDs to assign to the user
          examples:
            - [ ]
          items:
            $ref: '#/components/schemas/ModelId'
          title: Predefined Roles
      required:
        - email
      title: UserAddAdmin
    UserAddSuperAdmin:
      type: object
      properties:
        email:
          type: string
          format: email
          description: Valid email address
          examples:
            - john.doe@municipality.se
          title: Email
        username:
          anyOf:
            - type: string
            - type: 'null'
          description: 'Unique username (optional, will use email prefix if not provided)'
          examples:
            - john.doe
          title: Username
        password:
          anyOf:
            - type: string
              maxLength: 100
              minLength: 7
            - type: 'null'
          description: User password (minimum 7 characters)
          examples:
            - SecurePassword123!
          title: Password
        quota_limit:
          anyOf:
            - type: integer
              minimum: 1000
            - type: 'null'
          description: Storage limit in bytes (minimum 1000 bytes = 1KB)
          examples:
            - 50000000
          title: Quota Limit
        roles:
          type: array
          default: [ ]
          description: List of custom role IDs to assign to the user
          examples:
            - [ ]
          items:
            $ref: '#/components/schemas/ModelId'
          title: Roles
        predefined_roles:
          type: array
          default: [ ]
          description: List of predefined role IDs to assign to the user
          examples:
            - [ ]
          items:
            $ref: '#/components/schemas/ModelId'
          title: Predefined Roles
        tenant_id:
          type: string
          format: uuid
          title: Tenant Id
      required:
        - email
        - tenant_id
      title: UserAddSuperAdmin
    UserAdminView:
      type: object
      properties:
        email:
          type: string
          format: email
          description: Valid email address
          examples:
            - john.doe@municipality.se
          title: Email
        username:
          anyOf:
            - type: string
            - type: 'null'
          description: 'Unique username (optional, will use email prefix if not provided)'
          examples:
            - john.doe
          title: Username
        created_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Created At
        updated_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Updated At
        id:
          type: string
          format: uuid
          title: Id
        quota_used:
          type: integer
          default: 0
          title: Quota Used
        used_tokens:
          type: integer
          title: Used Tokens
        email_verified:
          type: boolean
          title: Email Verified
        quota_limit:
          anyOf:
            - type: integer
            - type: 'null'
          title: Quota Limit
        is_active:
          type: boolean
          title: Is Active
        state:
          $ref: '#/components/schemas/UserState'
        roles:
          type: array
          items:
            $ref: '#/components/schemas/RolePublic'
          title: Roles
        predefined_roles:
          type: array
          items:
            $ref: '#/components/schemas/PredefinedRolePublic'
          title: Predefined Roles
        user_groups:
          type: array
          items:
            $ref: '#/components/schemas/UserGroupRead'
          title: User Groups
      required:
        - email
        - email_verified
        - id
        - is_active
        - predefined_roles
        - quota_limit
        - roles
        - state
        - used_tokens
        - user_groups
      title: UserAdminView
    UserCreated:
      type: object
      properties:
        email:
          type: string
          format: email
          description: Valid email address
          examples:
            - john.doe@municipality.se
          title: Email
        username:
          anyOf:
            - type: string
            - type: 'null'
          description: 'Unique username (optional, will use email prefix if not provided)'
          examples:
            - john.doe
          title: Username
        id:
          type: string
          format: uuid
          title: Id
        password:
          anyOf:
            - type: string
              maxLength: 100
              minLength: 7
            - type: 'null'
          title: Password
        salt:
          anyOf:
            - type: string
            - type: 'null'
          title: Salt
        used_tokens:
          type: integer
          default: 0
          title: Used Tokens
        email_verified:
          type: boolean
          default: false
          title: Email Verified
        is_active:
          type: boolean
          default: true
          title: Is Active
        state:
          $ref: '#/components/schemas/UserState'
        tenant_id:
          type: string
          format: uuid
          title: Tenant Id
        quota_limit:
          anyOf:
            - type: integer
            - type: 'null'
          title: Quota Limit
        roles:
          type: array
          default: [ ]
          items:
            $ref: '#/components/schemas/RoleInDB'
          title: Roles
        predefined_roles:
          type: array
          default: [ ]
          items:
            $ref: '#/components/schemas/PredefinedRoleInDB'
          title: Predefined Roles
        created_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Created At
        updated_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Updated At
        user_groups:
          type: array
          default: [ ]
          items:
            $ref: '#/components/schemas/UserGroupInDBRead'
          title: User Groups
        tenant:
          $ref: '#/components/schemas/TenantInDB'
        api_key:
          anyOf:
            - $ref: '#/components/schemas/ApiKey'
            - type: 'null'
        quota_used:
          type: integer
          default: 0
          title: Quota Used
        deleted_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          description: Timestamp when user was soft-deleted (null for active users)
          title: Deleted At
        access_token:
          anyOf:
            - $ref: '#/components/schemas/AccessToken'
            - type: 'null'
        modules:
          type: array
          items:
            type: string
          readOnly: true
          title: Modules
        user_groups_ids:
          type: array
          items:
            type: integer
          readOnly: true
          title: User Groups Ids
          uniqueItems: true
        permissions:
          type: array
          items:
            $ref: '#/components/schemas/Permission'
          readOnly: true
          title: Permissions
          uniqueItems: true
      required:
        - access_token
        - api_key
        - email
        - id
        - modules
        - permissions
        - state
        - tenant
        - tenant_id
        - user_groups_ids
      title: UserCreated
    UserCreatedAdminView:
      type: object
      properties:
        email:
          type: string
          format: email
          description: Valid email address
          examples:
            - john.doe@municipality.se
          title: Email
        username:
          anyOf:
            - type: string
            - type: 'null'
          description: 'Unique username (optional, will use email prefix if not provided)'
          examples:
            - john.doe
          title: Username
        created_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Created At
        updated_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Updated At
        id:
          type: string
          format: uuid
          title: Id
        quota_used:
          type: integer
          default: 0
          title: Quota Used
        used_tokens:
          type: integer
          title: Used Tokens
        email_verified:
          type: boolean
          title: Email Verified
        quota_limit:
          anyOf:
            - type: integer
            - type: 'null'
          title: Quota Limit
        is_active:
          type: boolean
          title: Is Active
        state:
          $ref: '#/components/schemas/UserState'
        roles:
          type: array
          items:
            $ref: '#/components/schemas/RolePublic'
          title: Roles
        predefined_roles:
          type: array
          items:
            $ref: '#/components/schemas/PredefinedRolePublic'
          title: Predefined Roles
        user_groups:
          type: array
          items:
            $ref: '#/components/schemas/UserGroupRead'
          title: User Groups
        api_key:
          $ref: '#/components/schemas/ApiKey'
      required:
        - api_key
        - email
        - email_verified
        - id
        - is_active
        - predefined_roles
        - quota_limit
        - roles
        - state
        - used_tokens
        - user_groups
      title: UserCreatedAdminView
    UserDeletedListItem:
      type: object
      description: User information for deleted users list operations
      properties:
        username:
          type: string
          description: User's unique username
          examples:
            - former.employee
          title: Username
        email:
          type: string
          description: User's email address
          examples:
            - former.employee@municipality.se
          title: Email
        state:
          type: string
          description: User's current state (always 'deleted' for this list)
          examples:
            - deleted
          title: State
        deleted_at:
          type: string
          format: date-time
          description: When the user was deleted (for external tracking)
          examples:
            - '2025-08-15T14:20:00Z'
          title: Deleted At
      required:
        - deleted_at
        - email
        - state
        - username
      title: UserDeletedListItem
    UserGroupCreateRequest:
      type: object
      properties:
        name:
          type: string
          title: Name
      required:
        - name
      title: UserGroupCreateRequest
    UserGroupInDBRead:
      type: object
      properties:
        created_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Created At
        updated_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Updated At
        id:
          type: string
          format: uuid
          title: Id
        name:
          type: string
          title: Name
      required:
        - id
        - name
      title: UserGroupInDBRead
    UserGroupPublic:
      type: object
      properties:
        created_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Created At
        updated_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Updated At
        id:
          type: string
          format: uuid
          title: Id
        name:
          type: string
          title: Name
        users:
          type: array
          default: [ ]
          items:
            $ref: '#/components/schemas/UserPublicBase'
          title: Users
      required:
        - id
        - name
      title: UserGroupPublic
    UserGroupRead:
      type: object
      properties:
        created_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Created At
        updated_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Updated At
        id:
          type: string
          format: uuid
          title: Id
        name:
          type: string
          title: Name
      required:
        - id
        - name
      title: UserGroupRead
    UserGroupUpdateRequest:
      type: object
      properties:
        name:
          anyOf:
            - type: string
            - type: 'null'
          title: Name
        users:
          type: array
          default: [ ]
          items:
            $ref: '#/components/schemas/ModelId'
          title: Users
      title: UserGroupUpdateRequest
    UserInDB:
      type: object
      properties:
        email:
          type: string
          format: email
          description: Valid email address
          examples:
            - john.doe@municipality.se
          title: Email
        username:
          anyOf:
            - type: string
            - type: 'null'
          description: 'Unique username (optional, will use email prefix if not provided)'
          examples:
            - john.doe
          title: Username
        id:
          type: string
          format: uuid
          title: Id
        password:
          anyOf:
            - type: string
              maxLength: 100
              minLength: 7
            - type: 'null'
          title: Password
        salt:
          anyOf:
            - type: string
            - type: 'null'
          title: Salt
        used_tokens:
          type: integer
          default: 0
          title: Used Tokens
        email_verified:
          type: boolean
          default: false
          title: Email Verified
        is_active:
          type: boolean
          default: true
          title: Is Active
        state:
          $ref: '#/components/schemas/UserState'
        tenant_id:
          type: string
          format: uuid
          title: Tenant Id
        quota_limit:
          anyOf:
            - type: integer
            - type: 'null'
          title: Quota Limit
        roles:
          type: array
          default: [ ]
          items:
            $ref: '#/components/schemas/RoleInDB'
          title: Roles
        predefined_roles:
          type: array
          default: [ ]
          items:
            $ref: '#/components/schemas/PredefinedRoleInDB'
          title: Predefined Roles
        created_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Created At
        updated_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Updated At
        user_groups:
          type: array
          default: [ ]
          items:
            $ref: '#/components/schemas/UserGroupInDBRead'
          title: User Groups
        tenant:
          $ref: '#/components/schemas/TenantInDB'
        api_key:
          anyOf:
            - $ref: '#/components/schemas/ApiKeyInDB'
            - type: 'null'
        quota_used:
          type: integer
          default: 0
          title: Quota Used
        deleted_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          description: Timestamp when user was soft-deleted (null for active users)
          title: Deleted At
        modules:
          type: array
          items:
            type: string
          readOnly: true
          title: Modules
        user_groups_ids:
          type: array
          items:
            type: integer
          readOnly: true
          title: User Groups Ids
          uniqueItems: true
        permissions:
          type: array
          items:
            $ref: '#/components/schemas/Permission'
          readOnly: true
          title: Permissions
          uniqueItems: true
      required:
        - email
        - id
        - modules
        - permissions
        - state
        - tenant
        - tenant_id
        - user_groups_ids
      title: UserInDB
    UserIntegration:
      type: object
      properties:
        id:
          anyOf:
            - type: string
              format: uuid
            - type: 'null'
          title: Id
        name:
          type: string
          title: Name
        description:
          type: string
          title: Description
        integration_type:
          $ref: '#/components/schemas/IntegrationType'
        tenant_integration_id:
          type: string
          format: uuid
          title: Tenant Integration Id
        connected:
          type: boolean
          title: Connected
        auth_type:
          type: string
          default: user_oauth
          title: Auth Type
        tenant_app_id:
          anyOf:
            - type: string
              format: uuid
            - type: 'null'
          title: Tenant App Id
        tenant_app_configured:
          type: boolean
          default: true
          title: Tenant App Configured
      required:
        - connected
        - description
        - integration_type
        - name
        - tenant_integration_id
      title: UserIntegration
    UserIntegrationList:
      type: object
      properties:
        items:
          type: array
          items:
            $ref: '#/components/schemas/UserIntegration'
          title: Items
        count:
          type: integer
          readOnly: true
          title: Count
      required:
        - count
        - items
      title: UserIntegrationList
    UserProvision:
      type: object
      properties:
        zitadel_token:
          type: string
          title: Zitadel Token
      required:
        - zitadel_token
      title: UserProvision
    UserPublic:
      type: object
      properties:
        email:
          type: string
          format: email
          description: Valid email address
          examples:
            - john.doe@municipality.se
          title: Email
        username:
          anyOf:
            - type: string
            - type: 'null'
          description: 'Unique username (optional, will use email prefix if not provided)'
          examples:
            - john.doe
          title: Username
        created_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Created At
        updated_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Updated At
        id:
          type: string
          format: uuid
          title: Id
        quota_used:
          type: integer
          default: 0
          title: Quota Used
        truncated_api_key:
          anyOf:
            - type: string
            - type: 'null'
          title: Truncated Api Key
        quota_limit:
          anyOf:
            - type: integer
            - type: 'null'
          title: Quota Limit
        roles:
          type: array
          items:
            $ref: '#/components/schemas/RolePublic'
          title: Roles
        predefined_roles:
          type: array
          items:
            $ref: '#/components/schemas/PredefinedRolePublic'
          title: Predefined Roles
        user_groups:
          type: array
          items:
            $ref: '#/components/schemas/UserGroupRead'
          title: User Groups
      required:
        - email
        - id
        - predefined_roles
        - roles
        - user_groups
      title: UserPublic
    UserPublicBase:
      type: object
      properties:
        email:
          type: string
          format: email
          description: Valid email address
          examples:
            - john.doe@municipality.se
          title: Email
        username:
          anyOf:
            - type: string
            - type: 'null'
          description: 'Unique username (optional, will use email prefix if not provided)'
          examples:
            - john.doe
          title: Username
        created_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Created At
        updated_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Updated At
        id:
          type: string
          format: uuid
          title: Id
        quota_used:
          type: integer
          default: 0
          title: Quota Used
      required:
        - email
        - id
      title: UserPublicBase
    UserSortBy:
      type: string
      description: Enum for user token usage sorting options
      enum:
        - total_tokens
        - username
        - input_tokens
        - output_tokens
        - requests
      title: UserSortBy
    UserSparse:
      type: object
      properties:
        created_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Created At
        updated_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Updated At
        id:
          type: string
          format: uuid
          title: Id
        email:
          type: string
          format: email
          title: Email
        username:
          anyOf:
            - type: string
            - type: 'null'
          title: Username
      required:
        - email
        - id
      title: UserSparse
    UserState:
      type: string
      enum:
        - invited
        - active
        - inactive
        - deleted
      title: UserState
    UserStateListItem:
      type: object
      description: Minimal user information for state-based list operations
      properties:
        username:
          type: string
          description: User's unique username
          examples:
            - jane.smith
          title: Username
        email:
          type: string
          description: User's email address
          examples:
            - jane.smith@municipality.se
          title: Email
        state:
          type: string
          description: User's current state
          examples:
            - inactive
          title: State
        state_changed_at:
          type: string
          format: date-time
          description: When the user state was last changed
          examples:
            - '2025-09-10T08:30:00Z'
          title: State Changed At
      required:
        - email
        - state
        - state_changed_at
        - username
      title: UserStateListItem
    UserTokenUsage:
      type: object
      properties:
        user_id:
          type: string
          format: uuid
          title: User Id
        username:
          type: string
          title: Username
        email:
          type: string
          title: Email
        total_input_tokens:
          type: integer
          description: Total input tokens used by this user
          title: Total Input Tokens
        total_output_tokens:
          type: integer
          description: Total output tokens used by this user
          title: Total Output Tokens
        total_tokens:
          type: integer
          description: Total tokens (input + output)
          title: Total Tokens
        total_requests:
          type: integer
          description: Total number of requests made by this user
          title: Total Requests
        models_used:
          type: array
          description: Models used by this user with their usage
          items:
            $ref: '#/components/schemas/ModelUsage'
          title: Models Used
      required:
        - email
        - models_used
        - total_input_tokens
        - total_output_tokens
        - total_requests
        - total_tokens
        - user_id
        - username
      title: UserTokenUsage
    UserTokenUsageSummary:
      type: object
      properties:
        users:
          type: array
          description: List of users with their token usage
          items:
            $ref: '#/components/schemas/UserTokenUsage'
          title: Users
        start_date:
          type: string
          format: date-time
          title: Start Date
        end_date:
          type: string
          format: date-time
          title: End Date
        total_users:
          type: integer
          description: Total number of users with token usage
          title: Total Users
        total_input_tokens:
          type: integer
          description: Total input tokens across all users
          title: Total Input Tokens
        total_output_tokens:
          type: integer
          description: Total output tokens across all users
          title: Total Output Tokens
        total_tokens:
          type: integer
          description: Total tokens across all users
          title: Total Tokens
        total_requests:
          type: integer
          description: Total requests across all users
          title: Total Requests
      required:
        - end_date
        - start_date
        - total_input_tokens
        - total_output_tokens
        - total_requests
        - total_tokens
        - total_users
        - users
      title: UserTokenUsageSummary
    UserTokenUsageSummaryDetail:
      type: object
      description: Response model for single user detail endpoint
      properties:
        user:
          $ref: '#/components/schemas/UserTokenUsage'
      required:
        - user
      title: UserTokenUsageSummaryDetail
    UserUpdatePublic:
      type: object
      properties:
        email:
          anyOf:
            - type: string
              format: email
            - type: 'null'
          description: New email address (must be unique within tenant)
          examples:
            - updated.email@municipality.se
          title: Email
        username:
          anyOf:
            - type: string
            - type: 'null'
          description: Username cannot be updated after creation
          title: Username
        password:
          anyOf:
            - type: string
              maxLength: 100
              minLength: 7
            - type: 'null'
          description: New password (minimum 7 characters)
          examples:
            - NewSecurePassword456!
          title: Password
        quota_limit:
          anyOf:
            - type: integer
              minimum: 1000
            - type: 'null'
          description: New storage limit in bytes (minimum 1000 bytes = 1KB)
          examples:
            - 100000000
          title: Quota Limit
        roles:
          anyOf:
            - type: array
              items:
                $ref: '#/components/schemas/ModelId'
            - type: 'null'
          description: List of custom role IDs to assign (replaces existing roles)
          examples:
            - [ ]
          title: Roles
        predefined_roles:
          type: array
          description: >-
            List of predefined role IDs to assign (replaces existing predefined
            roles)
          examples:
            - [ ]
          items:
            $ref: '#/components/schemas/ModelId'
          title: Predefined Roles
        state:
          anyOf:
            - $ref: '#/components/schemas/UserState'
            - type: 'null'
          description: User state (invited/active/inactive)
          examples:
            - active
      title: UserUpdatePublic
    ValidationError:
      type: object
      properties:
        loc:
          type: array
          items:
            anyOf:
              - type: string
              - type: integer
          title: Location
        msg:
          type: string
          title: Message
        type:
          type: string
          title: Error Type
      required:
        - loc
        - msg
        - type
      title: ValidationError
    WatchdogMetrics:
      type: object
      description: Watchdog activity metrics.
      properties:
        age_seconds:
          anyOf:
            - type: number
            - type: 'null'
          title: Age Seconds
        zombies_reconciled:
          type: integer
          default: 0
          title: Zombies Reconciled
        expired_killed:
          type: integer
          default: 0
          title: Expired Killed
        rescued:
          type: integer
          default: 0
          title: Rescued
        early_zombies_failed:
          type: integer
          default: 0
          title: Early Zombies Failed
        long_running_failed:
          type: integer
          default: 0
          title: Long Running Failed
        slots_released:
          type: integer
          default: 0
          title: Slots Released
      title: WatchdogMetrics
    WebSearchResultPublic:
      type: object
      properties:
        id:
          type: string
          format: uuid
          title: Id
        title:
          type: string
          title: Title
        url:
          type: string
          title: Url
      required:
        - id
        - title
        - url
      title: WebSearchResultPublic
    WebsiteCreate:
      type: object
      properties:
        name:
          anyOf:
            - type: string
            - type: 'null'
          title: Name
        url:
          type: string
          title: Url
        download_files:
          type: boolean
          default: false
          title: Download Files
        crawl_type:
          $ref: '#/components/schemas/CrawlType'
          default: crawl
        update_interval:
          $ref: '#/components/schemas/UpdateInterval'
          default: never
        embedding_model:
          anyOf:
            - $ref: '#/components/schemas/ModelId'
            - type: 'null'
        http_auth_username:
          anyOf:
            - type: string
            - type: 'null'
          description: Username for HTTP Basic Authentication (optional)
          title: Http Auth Username
        http_auth_password:
          anyOf:
            - type: string
            - type: 'null'
          description: >-
            Password for HTTP Basic Authentication (optional). Must be provided
            together with username.
          title: Http Auth Password
      required:
        - url
      title: WebsiteCreate
    WebsiteCreateRequestDeprecated:
      type: object
      properties:
        name:
          anyOf:
            - type: string
            - type: 'null'
          title: Name
        url:
          type: string
          format: uri
          maxLength: 2083
          minLength: 1
          title: Url
        space_id:
          anyOf:
            - type: string
              format: uuid
            - type: 'null'
          title: Space Id
        download_files:
          type: boolean
          default: false
          title: Download Files
        crawl_type:
          $ref: '#/components/schemas/CrawlType'
          default: crawl
        update_interval:
          $ref: '#/components/schemas/UpdateInterval'
          default: never
        embedding_model:
          $ref: '#/components/schemas/ModelId'
      required:
        - embedding_model
        - url
      title: WebsiteCreateRequestDeprecated
    WebsiteMetadata:
      type: object
      properties:
        size:
          type: integer
          title: Size
      required:
        - size
      title: WebsiteMetadata
    WebsitePublic:
      type: object
      properties:
        created_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Created At
        updated_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Updated At
        id:
          type: string
          format: uuid
          title: Id
        permissions:
          type: array
          default: [ ]
          items:
            $ref: '#/components/schemas/ResourcePermission'
          title: Permissions
        name:
          anyOf:
            - type: string
            - type: 'null'
          title: Name
        url:
          type: string
          title: Url
        space_id:
          type: string
          format: uuid
          title: Space Id
        download_files:
          type: boolean
          title: Download Files
        crawl_type:
          $ref: '#/components/schemas/CrawlType'
        update_interval:
          $ref: '#/components/schemas/UpdateInterval'
        latest_crawl:
          anyOf:
            - $ref: >-
                #/components/schemas/intric__websites__presentation__website_models__CrawlRunPublic
            - type: 'null'
        embedding_model:
          $ref: '#/components/schemas/EmbeddingModelPublic'
        metadata:
          $ref: '#/components/schemas/WebsiteMetadata'
        requires_http_auth:
          type: boolean
          description: >-
            Whether this website requires HTTP Basic Authentication. Credentials
            are never exposed via API.
          title: Requires Http Auth
        consecutive_failures:
          type: integer
          default: 0
          description: >-
            Number of consecutive crawl failures. Resets to 0 on successful
            crawl.
          title: Consecutive Failures
        next_retry_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          description: >-
            When to retry after failures (null = no backoff). Uses exponential
            backoff: 1h  2h  4h  8h  16h  24h max.
          title: Next Retry At
        is_auto_disabled:
          type: boolean
          description: >-
            True if website was auto-disabled after 10 consecutive failures.
            User must manually change update_interval to re-enable.
          title: Is Auto Disabled
      required:
        - crawl_type
        - download_files
        - embedding_model
        - id
        - is_auto_disabled
        - latest_crawl
        - metadata
        - name
        - requires_http_auth
        - space_id
        - update_interval
        - url
      title: WebsitePublic
    WebsiteUpdate:
      type: object
      properties:
        url:
          type: string
          title: Url
        name:
          anyOf:
            - type: string
            - type: 'null'
          title: Name
        download_files:
          type: boolean
          title: Download Files
        crawl_type:
          $ref: '#/components/schemas/CrawlType'
          title: Crawl Type
        update_interval:
          $ref: '#/components/schemas/UpdateInterval'
          title: Update Interval
        http_auth_username:
          anyOf:
            - type: string
            - type: 'null'
          description: >-
            Username for HTTP Basic Authentication. Set to null to remove auth.
            Must be provided with password.
          title: Http Auth Username
        http_auth_password:
          anyOf:
            - type: string
            - type: 'null'
          description: >-
            Password for HTTP Basic Authentication. Set to null to remove auth.
            Must be provided with username.
          title: Http Auth Password
      title: WebsiteUpdate
    WizardType:
      type: string
      enum:
        - attachments
        - groups
      title: WizardType
    intric__tenants__presentation__tenant_credentials_router__CredentialInfo:
      type: object
      description: |-
        Information about a configured credential.

        Example:
            {
                "provider": "openai",
                "masked_key": "...xyz9",
                "configured_at": "2025-10-07T12:34:56.789Z",
                "encryption_status": "encrypted",
                "config": {
                    "endpoint": "https://my-resource.openai.azure.com",
                    "api_version": "2024-02-15-preview"
                }
            }
      properties:
        provider:
          type: string
          description: LLM provider name
          examples:
            - openai
            - azure
          title: Provider
        masked_key:
          type: string
          description: Last 4 characters of API key for identification
          examples:
            - ...xyz9
            - ...abc1
          title: Masked Key
        configured_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          description: Timestamp when credential was last updated
          title: Configured At
        encryption_status:
          type: string
          description: >-
            Encryption status of stored credential. 'encrypted' = secure at rest
            (Fernet encryption), 'plaintext' = needs migration for security
            compliance
          enum:
            - encrypted
            - plaintext
          examples:
            - encrypted
          title: Encryption Status
        config:
          type: object
          additionalProperties: true
          description: 'Provider-specific configuration (e.g., Azure endpoint, api_version)'
          examples:
            - api_version: 2024-02-15-preview
              deployment_name: gpt-4-sweden
              endpoint: 'https://sweden.openai.azure.com/'
          title: Config
      required:
        - encryption_status
        - masked_key
        - provider
      title: CredentialInfo
    intric__tenants__presentation__tenant_credentials_router__ListCredentialsResponse:
      type: object
      description: |-
        Response model for listing tenant credentials.

        Example:
            {
                "credentials": [
                    {
                        "provider": "openai",
                        "masked_key": "...xyz9",
                        "configured_at": "2025-10-07T12:34:56.789Z",
                        "encryption_status": "encrypted",
                        "config": {}
                    },
                    {
                        "provider": "azure",
                        "masked_key": "...abc3",
                        "configured_at": "2025-10-07T12:45:00.123Z",
                        "encryption_status": "plaintext",
                        "config": {
                            "endpoint": "https://my-resource.openai.azure.com",
                            "api_version": "2024-02-15-preview",
                            "deployment_name": "gpt-4"
                        }
                    }
                ]
            }
      properties:
        credentials:
          type: array
          items:
            $ref: >-
              #/components/schemas/intric__tenants__presentation__tenant_credentials_router__CredentialInfo
          title: Credentials
      required:
        - credentials
      title: ListCredentialsResponse
    intric__tenants__presentation__tenant_credentials_router__SetCredentialRequest:
      type: object
      description: |-
        Request model for setting tenant API credentials.

        Provider-specific field requirements:
        - OpenAI, Anthropic, Mistral, Berget, GDM, OVHCloud: api_key only
        - vLLM: api_key + endpoint (required)
        - Azure: api_key + endpoint + api_version (required)

        Example for OpenAI:
            {
                "api_key": "sk-proj-abc123..."
            }

        Example for Azure:
            {
                "api_key": "abc123...",
                "endpoint": "https://my-resource.openai.azure.com",
                "api_version": "2024-02-15-preview"
            }

        Example for vLLM:
            {
                "api_key": "vllm-secret-key",
                "endpoint": "http://tenant-vllm:8000"
            }
      properties:
        api_key:
          type: string
          description: API key for the provider
          minLength: 8
          title: Api Key
        endpoint:
          anyOf:
            - type: string
            - type: 'null'
          description: Azure OpenAI endpoint (required for Azure provider)
          title: Endpoint
        api_version:
          anyOf:
            - type: string
            - type: 'null'
          description: Azure OpenAI API version (required for Azure provider)
          title: Api Version
        deployment_name:
          anyOf:
            - type: string
            - type: 'null'
          description: Azure OpenAI deployment name (required for Azure provider)
          title: Deployment Name
      required:
        - api_key
      title: SetCredentialRequest
    intric__tenants__presentation__tenant_credentials_router__SetCredentialResponse:
      type: object
      description: >-
        Response model for setting tenant API credentials.


        Returns the tenant ID, provider, masked API key (last 4 chars for
        verification),

        and confirmation message. Sensitive data (api_key, endpoint,
        api_version) are

        not returned for security.


        Example:
            {
                "tenant_id": "123e4567-e89b-12d3-a456-426614174000",
                "provider": "openai",
                "masked_key": "...xyz9",
                "message": "API credential for openai set successfully",
                "set_at": "2025-10-22T10:00:00+00:00"
            }
      properties:
        tenant_id:
          type: string
          format: uuid
          title: Tenant Id
        provider:
          type: string
          title: Provider
        masked_key:
          type: string
          title: Masked Key
        message:
          type: string
          title: Message
        set_at:
          type: string
          format: date-time
          title: Set At
      required:
        - masked_key
        - message
        - provider
        - set_at
        - tenant_id
      title: SetCredentialResponse
    intric__tenants__presentation__tenant_self_credentials_router__CredentialInfo:
      type: object
      properties:
        provider:
          type: string
          description: LLM provider name
          examples:
            - openai
            - azure
          title: Provider
        masked_key:
          type: string
          description: Last 4 characters of API key for identification
          examples:
            - ...xyz9
            - ...abc1
          title: Masked Key
        configured_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          description: Timestamp when credential was last updated
          title: Configured At
        encryption_status:
          type: string
          description: >-
            Encryption status of stored credential. 'encrypted' = secure at rest
            (Fernet encryption), 'plaintext' = needs migration for security
            compliance
          enum:
            - encrypted
            - plaintext
          examples:
            - encrypted
          title: Encryption Status
        config:
          type: object
          additionalProperties: true
          description: 'Provider-specific configuration (e.g., Azure endpoint, api_version)'
          examples:
            - api_version: 2024-02-15-preview
              deployment_name: gpt-4-sweden
              endpoint: 'https://sweden.openai.azure.com/'
          title: Config
      required:
        - encryption_status
        - masked_key
        - provider
      title: CredentialInfo
    intric__tenants__presentation__tenant_self_credentials_router__ListCredentialsResponse:
      type: object
      properties:
        credentials:
          type: array
          items:
            $ref: >-
              #/components/schemas/intric__tenants__presentation__tenant_self_credentials_router__CredentialInfo
          title: Credentials
      required:
        - credentials
      title: ListCredentialsResponse
    intric__tenants__presentation__tenant_self_credentials_router__SetCredentialRequest:
      type: object
      properties:
        api_key:
          type: string
          description: API key for the provider
          minLength: 8
          title: Api Key
        endpoint:
          anyOf:
            - type: string
            - type: 'null'
          description: Azure OpenAI endpoint (required for Azure provider)
          title: Endpoint
        api_version:
          anyOf:
            - type: string
            - type: 'null'
          description: Azure OpenAI API version (required for Azure provider)
          title: Api Version
        deployment_name:
          anyOf:
            - type: string
            - type: 'null'
          description: Azure OpenAI deployment name (required for Azure provider)
          title: Deployment Name
      required:
        - api_key
      title: SetCredentialRequest
    intric__tenants__presentation__tenant_self_credentials_router__SetCredentialResponse:
      type: object
      properties:
        provider:
          type: string
          title: Provider
        masked_key:
          type: string
          title: Masked Key
        message:
          type: string
          title: Message
        set_at:
          type: string
          format: date-time
          title: Set At
      required:
        - masked_key
        - message
        - provider
        - set_at
      title: SetCredentialResponse
    intric__websites__crawl_dependencies__crawl_models__CrawlRunPublic:
      type: object
      properties:
        created_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Created At
        updated_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Updated At
        id:
          type: string
          format: uuid
          title: Id
        pages_crawled:
          anyOf:
            - type: integer
            - type: 'null'
          title: Pages Crawled
        files_downloaded:
          anyOf:
            - type: integer
            - type: 'null'
          title: Files Downloaded
        pages_failed:
          anyOf:
            - type: integer
            - type: 'null'
          title: Pages Failed
        files_failed:
          anyOf:
            - type: integer
            - type: 'null'
          title: Files Failed
        status:
          anyOf:
            - $ref: '#/components/schemas/Status'
            - type: 'null'
          default: queued
        result_location:
          anyOf:
            - type: string
            - type: 'null'
          title: Result Location
        finished_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Finished At
      required:
        - id
      title: CrawlRunPublic
    intric__websites__presentation__website_models__CrawlRunPublic:
      type: object
      properties:
        created_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Created At
        updated_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Updated At
        id:
          type: string
          format: uuid
          title: Id
        pages_crawled:
          anyOf:
            - type: integer
            - type: 'null'
          title: Pages Crawled
        files_downloaded:
          anyOf:
            - type: integer
            - type: 'null'
          title: Files Downloaded
        pages_failed:
          anyOf:
            - type: integer
            - type: 'null'
          title: Pages Failed
        files_failed:
          anyOf:
            - type: integer
            - type: 'null'
          title: Files Failed
        status:
          $ref: '#/components/schemas/Status'
        result_location:
          anyOf:
            - type: string
            - type: 'null'
          title: Result Location
        finished_at:
          anyOf:
            - type: string
              format: date-time
            - type: 'null'
          title: Finished At
      required:
        - files_downloaded
        - files_failed
        - finished_at
        - id
        - pages_crawled
        - pages_failed
        - result_location
        - status
      title: CrawlRunPublic
    IntricEventType:
      type: string
      enum:
        - generating_image
  securitySchemes:
    OAuth2PasswordBearer:
      type: oauth2
      flows:
        password:
          tokenUrl: /api/v1/users/login/token/
          scopes: { }
    APIKeyHeader:
      type: apiKey
      name: api-key
      in: header
    default:
      type: oauth2
      flows:
        implicit:
          authorizationUrl: 'https://test.com'
          scopes: { }
x-wso2-api-key-header: ApiKey
x-wso2-auth-header: Authorization
x-wso2-cors:
  corsConfigurationEnabled: true
  accessControlAllowOrigins:
    - '*'
  accessControlAllowCredentials: false
  accessControlAllowHeaders:
    - authorization
    - Access-Control-Allow-Origin
    - Content-Type
    - SOAPAction
    - apikey
    - Internal-Key
    - testKey
    - api-key
  accessControlAllowMethods:
    - GET
    - PUT
    - POST
    - DELETE
    - PATCH
    - OPTIONS
  empty: false
x-wso2-production-endpoints:
  urls:
    - 'https://eneo-test.sundsvall.se/api/v1/'
  type: http
x-wso2-sandbox-endpoints:
  urls:
    - 'https://eneo-test.sundsvall.se/api/v1/'
  type: http
x-wso2-basePath: /eneo-sundsvall/1.1
x-wso2-transports:
  - https
x-wso2-application-security:
  security-types:
    - oauth2
  optional: false
x-wso2-response-cache:
  enabled: false
  cacheTimeoutInSeconds: 300
